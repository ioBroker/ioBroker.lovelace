{"version":3,"sources":["webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/buffer/index.js","webpack:///./node_modules/codemirror/lib/codemirror.css","webpack:///./node_modules/codemirror/lib/codemirror.js","webpack:///./node_modules/codemirror/mode/yaml/yaml.js","webpack:///./node_modules/esprima/dist/esprima.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/js-yaml/index.js","webpack:///./node_modules/js-yaml/lib/js-yaml.js","webpack:///./node_modules/js-yaml/lib/js-yaml/common.js","webpack:///./node_modules/js-yaml/lib/js-yaml/dumper.js","webpack:///./node_modules/js-yaml/lib/js-yaml/exception.js","webpack:///./node_modules/js-yaml/lib/js-yaml/loader.js","webpack:///./node_modules/js-yaml/lib/js-yaml/mark.js","webpack:///./node_modules/js-yaml/lib/js-yaml/schema.js","webpack:///./node_modules/js-yaml/lib/js-yaml/schema/core.js","webpack:///./node_modules/js-yaml/lib/js-yaml/schema/default_full.js","webpack:///./node_modules/js-yaml/lib/js-yaml/schema/default_safe.js","webpack:///./node_modules/js-yaml/lib/js-yaml/schema/failsafe.js","webpack:///./node_modules/js-yaml/lib/js-yaml/schema/json.js","webpack:///./node_modules/js-yaml/lib/js-yaml/type.js","webpack:///./node_modules/js-yaml/lib/js-yaml/type/binary.js","webpack:///./node_modules/js-yaml/lib/js-yaml/type/bool.js","webpack:///./node_modules/js-yaml/lib/js-yaml/type/float.js","webpack:///./node_modules/js-yaml/lib/js-yaml/type/int.js","webpack:///./node_modules/js-yaml/lib/js-yaml/type/js/function.js","webpack:///./node_modules/js-yaml/lib/js-yaml/type/js/regexp.js","webpack:///./node_modules/js-yaml/lib/js-yaml/type/js/undefined.js","webpack:///./node_modules/js-yaml/lib/js-yaml/type/map.js","webpack:///./node_modules/js-yaml/lib/js-yaml/type/merge.js","webpack:///./node_modules/js-yaml/lib/js-yaml/type/null.js","webpack:///./node_modules/js-yaml/lib/js-yaml/type/omap.js","webpack:///./node_modules/js-yaml/lib/js-yaml/type/pairs.js","webpack:///./node_modules/js-yaml/lib/js-yaml/type/seq.js","webpack:///./node_modules/js-yaml/lib/js-yaml/type/set.js","webpack:///./node_modules/js-yaml/lib/js-yaml/type/str.js","webpack:///./node_modules/js-yaml/lib/js-yaml/type/timestamp.js","webpack:///(webpack)/buildin/global.js","webpack:///(webpack)/buildin/module.js"],"names":["exports","byteLength","toByteArray","fromByteArray","lookup","revLookup","Arr","Uint8Array","Array","code","i","len","length","charCodeAt","getLens","b64","Error","validLen","indexOf","placeHoldersLen","lens","_byteLength","tmp","arr","curByte","tripletToBase64","num","encodeChunk","uint8","start","end","output","push","join","extraBytes","parts","maxChunkLength","len2","base64","require","ieee754","isArray","Buffer","SlowBuffer","INSPECT_MAX_BYTES","TYPED_ARRAY_SUPPORT","global","undefined","typedArraySupport","kMaxLength","__proto__","prototype","foo","subarray","e","createBuffer","that","RangeError","arg","encodingOrOffset","allocUnsafe","from","poolSize","_augment","value","TypeError","ArrayBuffer","fromArrayBuffer","fromString","fromObject","Symbol","species","Object","defineProperty","configurable","assertSize","size","alloc","fill","encoding","checked","allocUnsafeSlow","string","isEncoding","actual","write","slice","fromArrayLike","array","byteOffset","obj","isBuffer","copy","buffer","isnan","type","data","toString","b","_isBuffer","compare","a","x","y","Math","min","String","toLowerCase","concat","list","pos","buf","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","n","m","swap16","swap32","swap64","arguments","apply","equals","inspect","str","max","match","target","thisStart","thisEnd","thisCopy","targetCopy","bidirectionalIndexOf","val","dir","isNaN","arrayIndexOf","call","lastIndexOf","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","found","j","includes","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","isFinite","toJSON","_arr","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","MAX_ARGUMENTS_LENGTH","codePoints","fromCharCode","ret","out","toHex","bytes","newBuf","sliceLen","checkOffset","ext","readUIntLE","noAssert","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","checkInt","writeUIntLE","maxBytes","writeUIntBE","writeUInt8","floor","objectWriteUInt16","littleEndian","writeUInt16LE","writeUInt16BE","objectWriteUInt32","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","checkIEEE754","writeFloat","writeFloatLE","writeFloatBE","writeDouble","writeDoubleLE","writeDoubleBE","targetStart","set","INVALID_BASE64_RE","base64clean","stringtrim","replace","trim","units","Infinity","leadSurrogate","byteArray","c","hi","lo","src","dst","factory","module","define","userAgent","navigator","platform","gecko","test","ie_upto10","ie_11up","exec","edge","ie","ie_version","document","documentMode","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","android","mobile","mac","chromeOS","windows","presto_version","flipCtrlCmd","captureRightClick","classTest","cls","RegExp","rmClass","node","current","className","after","index","removeChildren","count","childNodes","removeChild","firstChild","removeChildrenAndAdd","parent","appendChild","elt","tag","content","style","createElement","cssText","createTextNode","eltP","setAttribute","range","createRange","endNode","r","setEnd","setStart","body","createTextRange","moveToElementText","parentNode","collapse","moveEnd","moveStart","contains","child","nodeType","host","activeElt","activeElement","shadowRoot","addClass","joinClasses","as","split","selectInput","select","selectionStart","selectionEnd","_e","bind","f","args","copyObj","overwrite","prop","hasOwnProperty","countColumn","tabSize","startIndex","startValue","search","nextTab","Delayed","id","ms","clearTimeout","setTimeout","scrollerGap","Pass","sel_dontScroll","scroll","sel_mouse","origin","sel_move","findColumn","goal","col","skipped","spaceStrs","spaceStr","lst","map","insertSorted","score","priority","splice","nothing","createObj","base","props","inst","create","nonASCIISingleCaseWordChar","isWordCharBasic","ch","toUpperCase","isWordChar","helper","source","isEmpty","extendingChars","isExtendingChar","skipExtendingChars","charAt","findFirst","pred","to","midF","mid","ceil","iterateBidiSections","order","part","level","bidiOther","getBidiPartAt","sticky","cur","bidiOrdering","lowTypes","arabicTypes","charType","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","direction","outerType","types","i$1","prev","i$2","type$1","i$3","prev$1","type$2","i$4","type$3","i$5","cur$1","type$4","i$6","end$1","before","replace$1","j$1","i$7","at","j$2","nstart","unshift","reverse","getOrder","line","text","noHandlers","on","emitter","addEventListener","attachEvent","map$$1","_handlers","getHandlers","off","removeEventListener","detachEvent","signal","handlers","signalDOMEvent","cm","override","preventDefault","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","which","button","ctrlKey","dragAndDrop","div","zwspSupported","zeroWidthElement","measure","offsetHeight","offsetWidth","badBidiRects","hasBadBidiRects","txt","r0","getBoundingClientRect","r1","left","right","splitLinesAuto","result","l","nl","rt","hasSelection","window","getSelection","te","range$$1","ownerDocument","selection","parentElement","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","abs","modes","mimeModes","defineMode","name","mode","dependencies","defineMIME","mime","spec","resolveMode","getMode","options","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","state","nstate","innerMode","info","startState","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","lineStart","eol","sol","peek","next","eat","ok","eatWhile","eatSpace","this$1","skipToEnd","skipTo","backUp","column","indentation","pattern","consume","caseInsensitive","cased","hideFirstChars","inner","lookAhead","oracle","baseToken","getLine","doc","first","chunk","lines","children","sz","chunkSize","getBetween","iter","getLines","updateLineHeight","height","diff","lineNo","no","lineAtHeight","h","outer","lh","isLine","lineNumberFor","lineNumberFormatter","firstLineNumber","Pos","cmp","equalCursorPos","copyPos","maxPos","minPos","clipLine","clipPos","last","clipToLen","linelen","clipPosArray","SavedContext","Context","maxLookAhead","baseTokens","baseTokenPos","nextLine","fromSaved","saved","save","highlightLine","context","forceToEnd","st","modeGen","lineClasses","runMode","loop","o","overlay","overlays","i_end","opaque","styles","classes","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","styleClasses","highlightFrontier","modeFrontier","precise","display","findStartLine","processLine","viewFrom","viewTo","startAt","stream","callBlankLine","readToken","blankLine","token","Token","takeToken","asArray","tokens","extractLineClasses","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","indented","retreatFrontier","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","spans","span","removeMarkedSpan","addMarkedSpan","markedSpans","attachLine","markedSpansBefore","old","startCh","isInsert","nw","startsBefore","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","stretchSpansOverChange","change","full","oldFirst","oldLast","sameLine","span$1","found$1","clearEmptySpans","newMarkers","gap","gapMarkers","clearWhenEmpty","removeReadOnlyRanges","markers","mark","readOnly","mk","find","p","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","lineNo$$1","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","findMaxLine","d","maxLine","maxLineLength","maxLineChanged","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","cache","buildLineContent","lineView","builder","pre","trailingSpace","splitSpaces","getOption","rest","addToken","buildToken","buildTokenBadBidi","allowFrontierUpdate","externalMeasured","insertLineContent","maps","caches","lastChild","querySelector","defaultSpecialCharPlaceholder","title","startStyle","endStyle","css","attributes","displayText","special","specialChars","mustWrap","createDocumentFragment","lastIndex","txt$1","tabWidth","specialCharPlaceholder","fullStyle","attr","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","input","needsContentAttribute","setUneditable","allText","nextChange","spanStyle","spanEndStyle","spanStartStyle","foundBookmarks","endStyles","upto","tokenText","LineView","hidden","buildViewArray","nextPos","view","operationGroup","pushOperation","op","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","group","callbacks","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","zIndex","updateLineBackground","background","wrap","insertBefore","getLineContent","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","lineNumInnerWidth","k","gutterSpecs","gutterWidth","alignable","nextSibling","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","width","wrapperWidth","coverGutter","paddingLeft","position","marginLeft","widgetHeight","parentStyle","gutters","wrapper","clientWidth","eventInWidget","getAttribute","sizer","mover","paddingTop","lineSpace","offsetTop","paddingVert","paddingH","cachedPaddingH","getComputedStyle","currentStyle","paddingRight","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","clientHeight","barHeight","ensureLineHeights","rect","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","bottom","top","mapFromLineView","updateExternalMeasurement","lineMeasure","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","key","measureCharInner","bogus","rtop","rbottom","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","place","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageXOffset","documentElement","scrollLeft","pageScrollY","marginTop","pageYOffset","scrollTop","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","get","getBidi","partPos","invert","other","estimateCoords","PosWithInfo","outside","xRel","coordsChar","coordsCharInner","rangeEnd","wrappedLineExtent","begin","wrappedLineExtentChar","targetTop","boxIsAfter","box","widgetHeight$$1","ltr","coordsBidiPartWrapped","coordsBidiPart","chAround","boxAround","baseX","atLeft","atStart","_lineNo","ref","closestDist","endX","dist","measureText","textHeight","anchor","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","space","clientX","clientY","colDiff","round","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","sel","ranges","primIndex","empty","showCursorWhenSelecting","drawSelectionCursor","head","drawSelectionRange","cursor","cursorHeight","otherCursor","cmpCoords","fragment","padding","leftSide","rightSide","sizerWidth","docLTR","add","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","fromPos","toPos","openStart","openEnd","openLeft","openRight","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","cursorDiv","visibility","cursorBlinkRate","setInterval","ensureFocus","focus","onFocus","delayBlurEvent","delayingBlurEvent","onBlur","selForContextMenu","reset","receivedFocus","shift","updateHeightsInViewport","prevBottom","lineDiv","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","maybeScrollWindow","doScroll","innerHeight","scrollNode","scrollIntoView","scrollPosIntoView","margin","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","setScrollLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","getCursor","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollHeight","scrollbars","isScroller","scrollWidth","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","tabIndex","checkedZeroWidth","minHeight","minWidth","update","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","delay","maybeDisable","elt$$1","elementFromPoint","clear","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","scrollbarModel","initScrollbars","scrollbarStyle","axis","nextOpId","startOperation","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","time","highlight","highlightWorker","Date","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","force","visible","editorIsHidden","wrapperHeight","oldDisplayWidth","events","scrollbarsClipped","marginBottom","borderRightWidth","selectionSnapshot","hasFocus","active","anchorNode","extend","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","removeAllRanges","addRange","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","lastWrapWidth","toUpdate","selSnapshot","patchDisplay","selectionDiv","reportedViewFrom","reportedViewTo","updateNumbersFrom","container","rm","currentWheelTarget","updateNumber","updateGutterSpace","alignWidgets","comp","align","innerW","lineGutter","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","draggable","wheelDX","wheelDY","activeTouch","init","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","onScrollWheel","canScrollX","canScrollY","pixels","movedX","movedY","sample","Selection","here","there","deepCopy","Range","somethingSelected","normalizeSelection","mayTouch","selectionsMayTouch","prim","sort","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","estimateHeight$$1","spansFor","linesFor","firstLine","lastText","lastSpans","nlines","insert","remove","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","startGen","done","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","pop","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","history","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","dest","existing","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","event","newChanges","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","newSel","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","cancel","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","filter","returned","v","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","assign","splitLines","rebaseHistSelSingle","rebaseHistArray","copied","changeLine","handle","changeType","LeafChunk","removeInner","insertInner","iterN","BranchChunk","oldHeight","leaf","maybeSpill","me","spilled","sibling","myIndex","used","LineWidget","opt","adjustScrollWhenAboveVisible","oldH","addLineWidget","insertAt","aboveVisible","nextMarkerId","TextMarker","withOp","visual","dHeight","markText","markTextShared","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","SharedTextMarker","cloneNode","isParent","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","constructor","getValue","lineSeparator","setValue","getRange","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","listSelections","setCursor","extendSelectionsBy","setSelections","addSelection","getSelections","replaceSelection","dup","replaceSelections","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","CodeMirror","link","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","dataTransfer","isReadOnly","FileReader","File","loadFile","file","allowDropFileTypes","reader","onload","readAsText","draggingText","text$1","getData","selected","onDragStart","setData","effectAllowed","setDragImage","img","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","setSize","keyNames","keyMap","basic","pcDefault","emacsy","macDefault","normalizeKeyName","alt","ctrl","cmd","mod","normalizeKeyMap","keymap","keyname","keys","lookupKey","getKeyMap","fallthrough","isModifierKey","keyCode","addModifierNames","noShift","altKey","metaKey","shiftKey","keyName","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","moveInStorageOrder","prep","moveVisually","bidi","mv","getWrappedLineExtent","searchInVisualLine","getRes","nextCh","commands","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","leftPos","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","sels","indentLine","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","extraKeys","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","onKeyDown","handled","showCrossHair","up","onKeyUp","onKeyPress","charCode","DOUBLECLICK_DELAY","PastClick","lastClick","lastDoubleClick","clickRepeat","now","onMouseDown","supportsTouch","clickInGutter","repeat","selectingText","handleMappedButton","leftButtonDown","onContextMenu","configureMouse","option","unit","addNew","moveOnDrag","behavior","contained","dragDrop","leftButtonStartDrag","leftButtonSelect","moved","dragEnd","mouseMove","dragStart","e2","rangeForUnit","findWordAt","ourRange","ourIndex","startSel","lastPos","extendTo","startCol","posCol","oldRange","ranges$1","bidiSimplify","editorSize","counter","curCount","move","buttons","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","touches","lineBox","g","contextMenuInGutter","themeChanged","theme","Init","defaults","optionHandlers","defineOptions","deflt","notOnInit","defineOption","newBreaks","refresh","getInputField","spellcheck","autocorrect","autocapitalize","detach","attach","wrappingChanged","integer","blur","readOnlyChanged","dragDropChanged","resetPosition","getField","wasOn","funcs","dragFunctions","toggle","enter","over","leave","drop","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","registerEventHandlers","finishInit","initHooks","textRendering","word","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","pageX","pageY","inp","defineInitHook","how","aggressive","indent","curSpace","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","recent","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","getModeAt","electricInput","copyableRanges","lineRange","disableBrowserMagic","field","hiddenTextarea","border","addEditorMethods","helpers","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelper","getHelpers","help","_global","getStateAfter","defaultTextHeight","defaultCharWidth","getViewport","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","findPosH","amount","hitSide","rtlMoveVisually","findPosV","goalColumn","goals","headPos","startChar","check","scrollTo","getScrollInfo","interpret","swapDoc","phrase","phraseText","phrases","getWrapperElement","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","predicate","origDir","findNextLine","moveOnce","boundToLine","sawType","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","updateFromDOM","readFromDOMSoon","forceCompositionEnd","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","showMultipleSelections","curAnchor","domToPos","curFocus","bad","posToDOM","rangeCount","getRangeAt","rng","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","pollSelection","poll","pollInterval","isInGutter","pollContent","fromIndex","fromNode","toIndex","toNode","previousSibling","newText","domTextBetween","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","contentEditable","scan","badPos","closing","extraLinebreak","recognizeMarker","close","addText","walk","cmText","markerID","isBlock","nodeName","textContent","nodeValue","lineNode","locateNodeInLineView","textNode","topNode","curNode","dist$1","TextareaInput","prevInput","pollingFast","createField","textarea","fastPoll","prepareCopyCut","dispatchEvent","Event","_display","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldCSS","oldWrapperCSS","wrapperBox","offsetParent","oldScrollY","scrollY","rehide","detectingSelectAll","prepareSelectAllHack","extval","mouseup","disabled","fromTextArea","tabindex","placeholder","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","addLegacyProps","cmpPos","dontDelegate","method","defineExtension","func","defineDocExtension","version","cons","keywordRegex","esc","escaped","literal","keyCol","pair","pairStart","inlinePairs","inlineList","lineComment","fold","webpackUniversalModuleDefinition","root","modules","installedModules","__webpack_require__","moduleId","loaded","comment_handler_1","jsx_parser_1","parser_1","tokenizer_1","parse","delegate","commentHandler","proxyDelegate","metadata","visit","parserDelegate","collectComment","comment","attachComment","CommentHandler","isModule","sourceType","parser","jsx","JSXParser","Parser","program","parseModule","parseScript","ast","comments","config","tolerant","errors","errorHandler","parsingOptions","tokenize","tokenizer","Tokenizer","getNextToken","tolerate","syntax_1","Syntax","stack","leading","trailing","insertInnerComments","BlockStatement","innerComments","entry","findTrailingComments","trailingComments","entry_1","firstComment","findLeadingComments","leadingComments","visitNode","Program","visitComment","loc","AssignmentExpression","AssignmentPattern","ArrayExpression","ArrayPattern","ArrowFunctionExpression","AwaitExpression","BinaryExpression","BreakStatement","CallExpression","CatchClause","ClassBody","ClassDeclaration","ClassExpression","ConditionalExpression","ContinueStatement","DoWhileStatement","DebuggerStatement","EmptyStatement","ExportAllDeclaration","ExportDefaultDeclaration","ExportNamedDeclaration","ExportSpecifier","ExpressionStatement","ForStatement","ForOfStatement","ForInStatement","FunctionDeclaration","FunctionExpression","Identifier","IfStatement","ImportDeclaration","ImportDefaultSpecifier","ImportNamespaceSpecifier","ImportSpecifier","Literal","LabeledStatement","LogicalExpression","MemberExpression","MetaProperty","MethodDefinition","NewExpression","ObjectExpression","ObjectPattern","Property","RestElement","ReturnStatement","SequenceExpression","SpreadElement","Super","SwitchCase","SwitchStatement","TaggedTemplateExpression","TemplateElement","TemplateLiteral","ThisExpression","ThrowStatement","TryStatement","UnaryExpression","UpdateExpression","VariableDeclaration","VariableDeclarator","WhileStatement","WithStatement","YieldExpression","__extends","extendStatics","setPrototypeOf","__","character_1","JSXNode","jsx_syntax_1","Node","token_1","xhtml_entities_1","TokenName","getQualifiedElementName","elementName","qualifiedName","JSXSyntax","JSXIdentifier","JSXNamespacedName","ns","namespace","JSXMemberExpression","expr","object","property","_super","parsePrimaryExpression","parseJSXRoot","startJSX","scanner","startMarker","finishJSX","nextToken","reenterJSX","expectJSX","createJSXNode","collectComments","createJSXChildNode","scanXHTMLEntity","quote","valid","terminated","numeric","hex","eof","Character","isDecimalDigit","isHexDigit","XHTMLEntities","lexJSX","cp","n1","n2","isIdentifierStart","isIdentifierPart","lex","nextJSXToken","lastMarker","convertToken","nextJSXText","isLineTerminator","peekJSXToken","saveState","scanComments","restoreState","throwUnexpectedToken","matchJSX","parseJSXIdentifier","finalize","parseJSXElementName","name_1","parseJSXAttributeName","attributeName","identifier","name_2","parseJSXStringLiteralAttribute","raw","getTokenRaw","parseJSXExpressionAttribute","tolerateError","expression","parseAssignmentExpression","JSXExpressionContainer","parseJSXAttributeValue","parseJSXElement","parseJSXNameValueAttribute","JSXAttribute","parseJSXSpreadAttribute","argument","JSXSpreadAttribute","parseJSXAttributes","attribute","parseJSXOpeningElement","selfClosing","JSXOpeningElement","parseJSXBoundaryElement","name_3","JSXClosingElement","parseJSXEmptyExpression","JSXEmptyExpression","parseJSXExpressionContainer","parseJSXChildren","JSXText","parseComplexJSXElement","el","element","opening","JSXElement","open_1","close_1","isStartOfExpression","Regex","NonAsciiIdentifierStart","NonAsciiIdentifierPart","fromCodePoint","isWhiteSpace","isOctalDigit","openingElement","closingElement","elements","params","generator","async","operator","AsyncArrowFunctionExpression","AsyncFunctionDeclaration","AsyncFunctionExpression","logical","label","callee","param","superClass","ComputedMemberExpression","computed","consequent","alternate","Directive","directive","declaration","specifiers","local","exported","each","imported","meta","kind","isStatic","Module","shorthand","RegexLiteral","flags","regex","Script","expressions","StaticMemberExpression","discriminant","cases","quasi","tail","quasis","block","handler","finalizer","prefix","declarations","assert_1","error_handler_1","messages_1","scanner_1","ArrowParameterPlaceHolder","ErrorHandler","Scanner","trackComment","operatorPrecedence","lookahead","hasLineTerminator","allowIn","allowStrictDirective","allowYield","firstCoverInitializedNameError","isAssignmentTarget","isBindingElement","inFunctionBody","inIteration","inSwitch","labelSet","strict","throwError","messageFormat","values","_i","msg","whole","idx","assert","createError","unexpectedTokenError","message","Messages","UnexpectedToken","UnexpectedEOS","UnexpectedIdentifier","UnexpectedNumber","UnexpectedString","UnexpectedTemplate","isFutureReservedWord","UnexpectedReserved","isStrictModeReservedWord","StrictReservedWord","lastMarkerLineStart","tolerateUnexpectedToken","multiLine","t","nextRegexToken","scanRegExp","createNode","startNode","lastLineStart","expect","expectCommaSeparator","expectKeyword","keyword","matchKeyword","matchContextualKeyword","matchAssign","isolateCoverGrammar","parseFunction","previousIsBindingElement","previousIsAssignmentTarget","previousFirstCoverInitializedNameError","inheritCoverGrammar","consumeSemicolon","matchAsyncFunction","parseFunctionExpression","octal","StrictOctalLiteral","parseTemplateLiteral","parseGroupExpression","parseArrayInitializer","parseObjectInitializer","parseIdentifierName","parseClassExpression","parseSpreadElement","parsePropertyMethod","previousStrict","previousAllowStrictDirective","simple","parseFunctionSourceElements","firstRestricted","stricted","parsePropertyMethodFunction","isGenerator","previousAllowYield","parseFormalParameters","parsePropertyMethodAsyncFunction","previousAwait","parseObjectPropertyKey","isPropertyKey","parseObjectProperty","hasProto","isAsync","lookaheadPropertyKey","qualifiedPropertyName","parseGetterMethod","parseSetterMethod","parseGeneratorMethod","DuplicateProtoProperty","parseTemplateHead","cooked","parseTemplateElement","parseExpression","reinterpretExpressionAsPattern","startToken","parseRestElement","arrow","parameters","parseArguments","isIdentifierName","parseNewExpression","parseLeftHandSideExpression","parseAsyncArgument","parseAsyncArguments","parseLeftHandSideExpressionAllowCall","maybeAsync","previousAllowIn","asyncArrow","parseSuper","parseUpdateExpression","parseUnaryExpression","isRestrictedWord","StrictLHSPrefix","InvalidLHSInAssignment","StrictLHSPostfix","parseAwaitExpression","StrictDelete","parseExponentiationExpression","binaryPrecedence","precedence","parseBinaryExpression","prec","precedences","parseConditionalExpression","checkPatternParam","validateParam","reinterpretAsCoverFormalsList","paramSet","StrictParamDupe","parseYieldExpression","StrictLHSAssignment","parseStatementListItem","statement","IllegalExportDeclaration","parseExportDeclaration","IllegalImportDeclaration","parseImportDeclaration","parseLexicalDeclaration","inFor","parseFunctionDeclaration","parseClassDeclaration","isLexicalDeclaration","parseStatement","parseBlock","parseLexicalBinding","parsePattern","StrictVarName","DeclarationMissingInitializer","parseBindingList","parseBindingRestElement","parseArrayPattern","parsePatternWithDefault","parsePropertyPattern","keyToken","parseVariableIdentifier","parseObjectPattern","LetInLexicalBinding","parseVariableDeclaration","parseVariableDeclarationList","parseVariableStatement","parseEmptyStatement","parseExpressionStatement","parseIfClause","StrictFunction","parseIfStatement","parseDoWhileStatement","previousInIteration","parseWhileStatement","parseForStatement","forIn","decl","ForInOfLoopInitializer","initStartToken","InvalidLHSInForIn","InvalidLHSInForLoop","initSeq","parseContinueStatement","UnknownLabel","IllegalContinue","parseBreakStatement","IllegalBreak","parseReturnStatement","IllegalReturn","hasArgument","parseWithStatement","StrictModeWith","parseSwitchCase","parseSwitchStatement","previousInSwitch","defaultFound","clause","MultipleDefaultsInSwitch","parseLabelledStatement","Redeclaration","GeneratorInLegacyContext","parseThrowStatement","NewlineAfterThrow","parseCatchClause","paramMap","DuplicateBinding","StrictCatchVariable","parseFinallyClause","parseTryStatement","NoCatchOrFinally","parseDebuggerStatement","parseDirectivePrologues","previousLabelSet","previousInFunctionBody","StrictParamName","enumerable","writable","DefaultRestParameter","ParameterAfterRestParameter","parseFormalParameter","identifierIsOptional","StrictFunctionName","previousAllowAwait","formalParameters","parseDirective","IllegalLanguageModeDirective","BadGetterArity","BadSetterArity","BadSetterRestParameter","parseClassElement","hasConstructor","punctuator","ConstructorIsAsync","StaticPrototype","ConstructorSpecialMethod","DuplicateConstructor","parseClassElementList","parseClassBody","elementList","classBody","parseModuleSpecifier","InvalidModuleSpecifier","parseImportSpecifier","parseNamedImports","parseImportDefaultSpecifier","parseImportNamespaceSpecifier","NoAsAfterImportNamespace","MissingFromClause","parseExportSpecifier","exportDeclaration","isExportFromIdentifier","condition","recordError","error","constructError","description","InvalidEscapedReservedWord","InvalidHexEscapeSequence","InvalidRegExp","TemplateOctalLiteral","UnexpectedTokenIllegal","UnterminatedRegExp","hexValue","octalValue","curlyStack","skipSingleLineComment","skipMultiLineComment","isKeyword","codePointAt","second","scanHexEscape","scanUnicodeCodePointEscape","getIdentifier","getComplexIdentifier","octalToDecimal","scanIdentifier","restore","scanPunctuator","scanHexLiteral","scanBinaryLiteral","scanOctalLiteral","isImplicitOctalLiteral","scanNumericLiteral","parseFloat","scanStringLiteral","unescaped_1","unescaped","octToDec","scanTemplate","rawOffset","unescaped_2","testRegExp","astralSubstitute","self","$0","$1","$2","exception","scanRegExpBody","classMarker","scanRegExpFlags","char","quot","amp","apos","gt","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","ordf","laquo","not","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34","iquest","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","times","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","szlig","agrave","aacute","acirc","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","divide","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","OElig","oelig","Scaron","scaron","Yuml","fnof","circ","tilde","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","alpha","beta","gamma","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigmaf","sigma","tau","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","bull","hellip","permil","prime","Prime","lsaquo","rsaquo","oline","frasl","euro","image","weierp","real","trade","alefsym","larr","uarr","rarr","darr","harr","crarr","lArr","uArr","rArr","dArr","hArr","forall","exist","nabla","isin","notin","ni","prod","sum","minus","lowast","radic","infin","ang","and","or","cap","cup","there4","sim","cong","asymp","ne","equiv","le","ge","sup","nsub","sube","supe","oplus","otimes","perp","sdot","lceil","rceil","lfloor","rfloor","loz","spades","clubs","hearts","diams","lang","rang","Reader","curly","paren","beforeFunctionExpression","isRegexStart","previous","trackRange","trackLoc","startRegex","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","s","log","LN2","yaml","loader","dumper","deprecated","Type","Schema","FAILSAFE_SCHEMA","JSON_SCHEMA","CORE_SCHEMA","DEFAULT_SAFE_SCHEMA","DEFAULT_FULL_SCHEMA","load","loadAll","safeLoad","safeLoadAll","dump","safeDump","YAMLException","MINIMAL_SCHEMA","SAFE_SCHEMA","DEFAULT_SCHEMA","compose","addConstructor","isNothing","subject","isObject","toArray","sequence","sourceKeys","cycle","isNegativeZero","number","NEGATIVE_INFINITY","common","_toString","_hasOwnProperty","CHAR_TAB","CHAR_LINE_FEED","CHAR_SPACE","CHAR_EXCLAMATION","CHAR_DOUBLE_QUOTE","CHAR_SHARP","CHAR_PERCENT","CHAR_AMPERSAND","CHAR_SINGLE_QUOTE","CHAR_ASTERISK","CHAR_COMMA","CHAR_MINUS","CHAR_COLON","CHAR_GREATER_THAN","CHAR_QUESTION","CHAR_COMMERCIAL_AT","CHAR_LEFT_SQUARE_BRACKET","CHAR_RIGHT_SQUARE_BRACKET","CHAR_GRAVE_ACCENT","CHAR_LEFT_CURLY_BRACKET","CHAR_VERTICAL_LINE","CHAR_RIGHT_CURLY_BRACKET","ESCAPE_SEQUENCES","DEPRECATED_BOOLEANS_SYNTAX","compileStyleMap","schema","compiledTypeMap","styleAliases","encodeHex","character","State","noArrayIndent","skipInvalid","flowLevel","styleMap","sortKeys","lineWidth","noRefs","noCompatMode","condenseFlow","implicitTypes","compiledImplicit","explicitTypes","compiledExplicit","duplicates","usedDuplicates","ind","generateNextLine","testImplicitResolving","resolve","isWhitespace","isPrintable","isPlainSafe","isPlainSafeFirst","needIndentIndicator","leadingSpaceRe","STYLE_PLAIN","STYLE_SINGLE","STYLE_LITERAL","STYLE_FOLDED","STYLE_DOUBLE","chooseScalarStyle","singleLineOnly","indentPerLevel","testAmbiguousType","hasLineBreak","hasFoldableLine","shouldTrackWidth","previousLineBreak","plain","writeScalar","iskey","testAmbiguity","blockHeader","dropEndingNewline","foldString","escapeString","indentIndicator","clip","keep","chomp","lineRe","nextLF","foldLine","prevMoreIndented","moreIndented","breakRe","curr","nextChar","escapeSeq","writeFlowSequence","_result","_tag","writeNode","writeBlockSequence","compact","writeFlowMapping","objectKeyList","objectKey","objectValue","pairBuffer","writeBlockMapping","explicitPair","detectType","explicit","typeList","instanceOf","represent","defaultStyle","objectOrArray","duplicateIndex","duplicate","arrayLevel","getDuplicateReferences","objects","duplicatesIndexes","inspectNode","reason","captureStackTrace","Mark","CONTEXT_FLOW_IN","CONTEXT_FLOW_OUT","CONTEXT_BLOCK_IN","CONTEXT_BLOCK_OUT","CHOMPING_CLIP","CHOMPING_STRIP","CHOMPING_KEEP","PATTERN_NON_PRINTABLE","PATTERN_NON_ASCII_LINE_BREAKS","PATTERN_FLOW_INDICATORS","PATTERN_TAG_HANDLE","PATTERN_TAG_URI","_class","is_EOL","is_WHITE_SPACE","is_WS_OR_EOL","is_FLOW_INDICATOR","fromHexCode","lc","escapedHexLen","fromDecimalCode","simpleEscapeSequence","charFromCodepoint","simpleEscapeCheck","simpleEscapeMap","filename","onWarning","legacy","json","listener","typeMap","lineIndent","documents","generateError","throwWarning","directiveHandlers","YAML","handleYamlDirective","major","minor","checkLineBreaks","TAG","handleTagDirective","tagMap","captureSegment","checkJson","_position","_length","_character","mergeMappings","destination","overridableKeys","quantity","storeMappingPair","keyTag","keyNode","valueNode","startLine","startPos","readLineBreak","skipSeparationSpace","allowComments","checkIndent","lineBreaks","testDocumentSeparator","writeFoldedLines","readPlainScalar","nodeIndent","withinFlowCollection","preceding","following","captureStart","captureEnd","hasPendingContent","_line","_lineStart","_lineIndent","_kind","readSingleQuotedScalar","readDoubleQuotedScalar","hexLength","hexResult","readFlowCollection","readNext","_anchor","terminator","isPair","isExplicitPair","isMapping","anchorMap","composeNode","readBlockScalar","folding","chomping","didReadContent","detectedIndent","textIndent","emptyLines","atMoreIndented","readBlockSequence","detected","readBlockMapping","flowIndent","allowCompact","_pos","atExplicitKey","readTagProperty","isVerbatim","isNamed","tagHandle","tagName","readAnchorProperty","readAlias","alias","parentIndent","nodeContext","allowToSeek","allowBlockStyles","allowBlockScalars","allowBlockCollections","indentStatus","atNewLine","hasContent","typeIndex","typeQuantity","blockIndent","construct","readDocument","documentStart","directiveName","directiveArgs","hasDirectives","loadDocuments","iterator","getSnippet","maxLength","snippet","compileList","exclude","include","forEach","includedSchema","currentType","previousType","previousIndex","compileMap","scalar","mapping","fallback","collectType","definition","implicit","loadKind","DEFAULT","createSchema","schemas","every","TYPE_CONSTRUCTOR_OPTIONS","YAML_NODE_KINDS","compileStyleAliases","NodeBuffer","_require","BASE64_MAP","resolveYamlBinary","bitlen","constructYamlBinary","tailbits","bits","representYamlBinary","isBinary","resolveYamlBoolean","constructYamlBoolean","isBoolean","lowercase","uppercase","camelcase","YAML_FLOAT_PATTERN","resolveYamlFloat","constructYamlFloat","sign","digits","POSITIVE_INFINITY","SCIENTIFIC_WITHOUT_DOT","representYamlFloat","isFloat","isHexCode","isOctCode","isDecCode","resolveYamlInteger","hasDigits","constructYamlInteger","isInteger","binary","decimal","hexadecimal","esprima","_","resolveJavascriptFunction","err","constructJavascriptFunction","Function","representJavascriptFunction","isFunction","resolveJavascriptRegExp","regexp","modifiers","constructJavascriptRegExp","representJavascriptRegExp","multiline","ignoreCase","isRegExp","resolveJavascriptUndefined","constructJavascriptUndefined","representJavascriptUndefined","isUndefined","resolveYamlMerge","resolveYamlNull","constructYamlNull","isNull","canonical","resolveYamlOmap","objectKeys","pairKey","pairHasKey","constructYamlOmap","resolveYamlPairs","constructYamlPairs","resolveYamlSet","constructYamlSet","YAML_DATE_REGEXP","YAML_TIMESTAMP_REGEXP","resolveYamlTimestamp","constructYamlTimestamp","year","month","day","hour","minute","fraction","tz_hour","tz_minute","date","UTC","setTime","getTime","representYamlTimestamp","toISOString","webpackPolyfill","deprecate","paths"],"mappings":"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","file":"vendors~hui-dialog-edit-card~lovelace-yaml-editor.chunk.js","sourcesContent":["'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  for (var i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","export default \"/* BASICS */\\n\\n.CodeMirror {\\n  /* Set height, width, borders, and global font properties here */\\n  font-family: monospace;\\n  height: 300px;\\n  color: black;\\n  direction: ltr;\\n}\\n\\n/* PADDING */\\n\\n.CodeMirror-lines {\\n  padding: 4px 0; /* Vertical padding around content */\\n}\\n.CodeMirror pre {\\n  padding: 0 4px; /* Horizontal padding of content */\\n}\\n\\n.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\\n  background-color: white; /* The little square between H and V scrollbars */\\n}\\n\\n/* GUTTER */\\n\\n.CodeMirror-gutters {\\n  border-right: 1px solid #ddd;\\n  background-color: #f7f7f7;\\n  white-space: nowrap;\\n}\\n.CodeMirror-linenumbers {}\\n.CodeMirror-linenumber {\\n  padding: 0 3px 0 5px;\\n  min-width: 20px;\\n  text-align: right;\\n  color: #999;\\n  white-space: nowrap;\\n}\\n\\n.CodeMirror-guttermarker { color: black; }\\n.CodeMirror-guttermarker-subtle { color: #999; }\\n\\n/* CURSOR */\\n\\n.CodeMirror-cursor {\\n  border-left: 1px solid black;\\n  border-right: none;\\n  width: 0;\\n}\\n/* Shown when moving in bi-directional text */\\n.CodeMirror div.CodeMirror-secondarycursor {\\n  border-left: 1px solid silver;\\n}\\n.cm-fat-cursor .CodeMirror-cursor {\\n  width: auto;\\n  border: 0 !important;\\n  background: #7e7;\\n}\\n.cm-fat-cursor div.CodeMirror-cursors {\\n  z-index: 1;\\n}\\n.cm-fat-cursor-mark {\\n  background-color: rgba(20, 255, 20, 0.5);\\n  -webkit-animation: blink 1.06s steps(1) infinite;\\n  -moz-animation: blink 1.06s steps(1) infinite;\\n  animation: blink 1.06s steps(1) infinite;\\n}\\n.cm-animate-fat-cursor {\\n  width: auto;\\n  border: 0;\\n  -webkit-animation: blink 1.06s steps(1) infinite;\\n  -moz-animation: blink 1.06s steps(1) infinite;\\n  animation: blink 1.06s steps(1) infinite;\\n  background-color: #7e7;\\n}\\n@-moz-keyframes blink {\\n  0% {}\\n  50% { background-color: transparent; }\\n  100% {}\\n}\\n@-webkit-keyframes blink {\\n  0% {}\\n  50% { background-color: transparent; }\\n  100% {}\\n}\\n@keyframes blink {\\n  0% {}\\n  50% { background-color: transparent; }\\n  100% {}\\n}\\n\\n/* Can style cursor different in overwrite (non-insert) mode */\\n.CodeMirror-overwrite .CodeMirror-cursor {}\\n\\n.cm-tab { display: inline-block; text-decoration: inherit; }\\n\\n.CodeMirror-rulers {\\n  position: absolute;\\n  left: 0; right: 0; top: -50px; bottom: -20px;\\n  overflow: hidden;\\n}\\n.CodeMirror-ruler {\\n  border-left: 1px solid #ccc;\\n  top: 0; bottom: 0;\\n  position: absolute;\\n}\\n\\n/* DEFAULT THEME */\\n\\n.cm-s-default .cm-header {color: blue;}\\n.cm-s-default .cm-quote {color: #090;}\\n.cm-negative {color: #d44;}\\n.cm-positive {color: #292;}\\n.cm-header, .cm-strong {font-weight: bold;}\\n.cm-em {font-style: italic;}\\n.cm-link {text-decoration: underline;}\\n.cm-strikethrough {text-decoration: line-through;}\\n\\n.cm-s-default .cm-keyword {color: #708;}\\n.cm-s-default .cm-atom {color: #219;}\\n.cm-s-default .cm-number {color: #164;}\\n.cm-s-default .cm-def {color: #00f;}\\n.cm-s-default .cm-variable,\\n.cm-s-default .cm-punctuation,\\n.cm-s-default .cm-property,\\n.cm-s-default .cm-operator {}\\n.cm-s-default .cm-variable-2 {color: #05a;}\\n.cm-s-default .cm-variable-3, .cm-s-default .cm-type {color: #085;}\\n.cm-s-default .cm-comment {color: #a50;}\\n.cm-s-default .cm-string {color: #a11;}\\n.cm-s-default .cm-string-2 {color: #f50;}\\n.cm-s-default .cm-meta {color: #555;}\\n.cm-s-default .cm-qualifier {color: #555;}\\n.cm-s-default .cm-builtin {color: #30a;}\\n.cm-s-default .cm-bracket {color: #997;}\\n.cm-s-default .cm-tag {color: #170;}\\n.cm-s-default .cm-attribute {color: #00c;}\\n.cm-s-default .cm-hr {color: #999;}\\n.cm-s-default .cm-link {color: #00c;}\\n\\n.cm-s-default .cm-error {color: #f00;}\\n.cm-invalidchar {color: #f00;}\\n\\n.CodeMirror-composing { border-bottom: 2px solid; }\\n\\n/* Default styles for common addons */\\n\\ndiv.CodeMirror span.CodeMirror-matchingbracket {color: #0b0;}\\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {color: #a22;}\\n.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\\n.CodeMirror-activeline-background {background: #e8f2ff;}\\n\\n/* STOP */\\n\\n/* The rest of this file contains styles related to the mechanics of\\n   the editor. You probably shouldn't touch them. */\\n\\n.CodeMirror {\\n  position: relative;\\n  overflow: hidden;\\n  background: white;\\n}\\n\\n.CodeMirror-scroll {\\n  overflow: scroll !important; /* Things will break if this is overridden */\\n  /* 30px is the magic margin used to hide the element's real scrollbars */\\n  /* See overflow: hidden in .CodeMirror */\\n  margin-bottom: -30px; margin-right: -30px;\\n  padding-bottom: 30px;\\n  height: 100%;\\n  outline: none; /* Prevent dragging from highlighting the element */\\n  position: relative;\\n}\\n.CodeMirror-sizer {\\n  position: relative;\\n  border-right: 30px solid transparent;\\n}\\n\\n/* The fake, visible scrollbars. Used to force redraw during scrolling\\n   before actual scrolling happens, thus preventing shaking and\\n   flickering artifacts. */\\n.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\\n  position: absolute;\\n  z-index: 6;\\n  display: none;\\n}\\n.CodeMirror-vscrollbar {\\n  right: 0; top: 0;\\n  overflow-x: hidden;\\n  overflow-y: scroll;\\n}\\n.CodeMirror-hscrollbar {\\n  bottom: 0; left: 0;\\n  overflow-y: hidden;\\n  overflow-x: scroll;\\n}\\n.CodeMirror-scrollbar-filler {\\n  right: 0; bottom: 0;\\n}\\n.CodeMirror-gutter-filler {\\n  left: 0; bottom: 0;\\n}\\n\\n.CodeMirror-gutters {\\n  position: absolute; left: 0; top: 0;\\n  min-height: 100%;\\n  z-index: 3;\\n}\\n.CodeMirror-gutter {\\n  white-space: normal;\\n  height: 100%;\\n  display: inline-block;\\n  vertical-align: top;\\n  margin-bottom: -30px;\\n}\\n.CodeMirror-gutter-wrapper {\\n  position: absolute;\\n  z-index: 4;\\n  background: none !important;\\n  border: none !important;\\n}\\n.CodeMirror-gutter-background {\\n  position: absolute;\\n  top: 0; bottom: 0;\\n  z-index: 4;\\n}\\n.CodeMirror-gutter-elt {\\n  position: absolute;\\n  cursor: default;\\n  z-index: 4;\\n}\\n.CodeMirror-gutter-wrapper ::selection { background-color: transparent }\\n.CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }\\n\\n.CodeMirror-lines {\\n  cursor: text;\\n  min-height: 1px; /* prevents collapsing before first draw */\\n}\\n.CodeMirror pre {\\n  /* Reset some styles that the rest of the page might have set */\\n  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\\n  border-width: 0;\\n  background: transparent;\\n  font-family: inherit;\\n  font-size: inherit;\\n  margin: 0;\\n  white-space: pre;\\n  word-wrap: normal;\\n  line-height: inherit;\\n  color: inherit;\\n  z-index: 2;\\n  position: relative;\\n  overflow: visible;\\n  -webkit-tap-highlight-color: transparent;\\n  -webkit-font-variant-ligatures: contextual;\\n  font-variant-ligatures: contextual;\\n}\\n.CodeMirror-wrap pre {\\n  word-wrap: break-word;\\n  white-space: pre-wrap;\\n  word-break: normal;\\n}\\n\\n.CodeMirror-linebackground {\\n  position: absolute;\\n  left: 0; right: 0; top: 0; bottom: 0;\\n  z-index: 0;\\n}\\n\\n.CodeMirror-linewidget {\\n  position: relative;\\n  z-index: 2;\\n  padding: 0.1px; /* Force widget margins to stay inside of the container */\\n}\\n\\n.CodeMirror-widget {}\\n\\n.CodeMirror-rtl pre { direction: rtl; }\\n\\n.CodeMirror-code {\\n  outline: none;\\n}\\n\\n/* Force content-box sizing for the elements where we expect it */\\n.CodeMirror-scroll,\\n.CodeMirror-sizer,\\n.CodeMirror-gutter,\\n.CodeMirror-gutters,\\n.CodeMirror-linenumber {\\n  -moz-box-sizing: content-box;\\n  box-sizing: content-box;\\n}\\n\\n.CodeMirror-measure {\\n  position: absolute;\\n  width: 100%;\\n  height: 0;\\n  overflow: hidden;\\n  visibility: hidden;\\n}\\n\\n.CodeMirror-cursor {\\n  position: absolute;\\n  pointer-events: none;\\n}\\n.CodeMirror-measure pre { position: static; }\\n\\ndiv.CodeMirror-cursors {\\n  visibility: hidden;\\n  position: relative;\\n  z-index: 3;\\n}\\ndiv.CodeMirror-dragcursors {\\n  visibility: visible;\\n}\\n\\n.CodeMirror-focused div.CodeMirror-cursors {\\n  visibility: visible;\\n}\\n\\n.CodeMirror-selected { background: #d9d9d9; }\\n.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\\n.CodeMirror-crosshair { cursor: crosshair; }\\n.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection { background: #d7d4f0; }\\n.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\\n\\n.cm-searching {\\n  background-color: #ffa;\\n  background-color: rgba(255, 255, 0, .4);\\n}\\n\\n/* Used to force a border model for a node */\\n.cm-force-border { padding-right: .1px; }\\n\\n@media print {\\n  /* Hide the cursor when printing */\\n  .CodeMirror div.CodeMirror-cursors {\\n    visibility: hidden;\\n  }\\n}\\n\\n/* See issue #2901 */\\n.cm-tab-wrap-hack:after { content: ''; }\\n\\n/* Help users use markselection to safely style text background */\\nspan.CodeMirror-selectedtext { background: none; }\\n\"","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n  // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n\n  var ios = !edge && /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent);\n  var android = /Android/.test(userAgent);\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n  if (presto_version) { presto_version = Number(presto_version[1]); }\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  var rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      { e.removeChild(e.firstChild); }\n    return e\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e)\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) { e.className = className; }\n    if (style) { e.style.cssText = style; }\n    if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n    return e\n  }\n  // wrapper for elt, which removes the elt from the accessibility tree\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e\n  }\n\n  var range;\n  if (document.createRange) { range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r\n  }; }\n  else { range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r\n  }; }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      { child = child.parentNode; }\n    if (parent.contains)\n      { return parent.contains(child) }\n    do {\n      if (child.nodeType == 11) { child = child.host; }\n      if (child == parent) { return true }\n    } while (child = child.parentNode)\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n    try {\n      activeElement = document.activeElement;\n    } catch(e) {\n      activeElement = document.body || null;\n    }\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n      { activeElement = activeElement.shadowRoot.activeElement; }\n    return activeElement\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n  }\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n    return b\n  }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\n  else if (ie) // Suppress mysterious IE10 errors\n    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args)}\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) { target = {}; }\n    for (var prop in obj)\n      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        { target[prop] = obj[prop]; } }\n    return target\n  }\n\n  // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n      if (end == -1) { end = string.length; }\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        { return n + (end - i) }\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function() {this.id = null;};\n  Delayed.prototype.set = function (ms, f) {\n    clearTimeout(this.id);\n    this.id = setTimeout(f, ms);\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      { if (array[i] == elt) { return i } }\n    return -1\n  }\n\n  // Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 30;\n\n  // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n  var Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n  // Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) { nextTab = string.length; }\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        { return pos + Math.min(skipped, goal - col) }\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) { return pos }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      { spaceStrs.push(lst(spaceStrs) + \" \"); }\n    return spaceStrs[n]\n  }\n\n  function lst(arr) { return arr[arr.length-1] }\n\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n    return out\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0, priority = score(value);\n    while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) { copyObj(props, inst); }\n    return inst\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n  }\n  function isWordChar(ch, helper) {\n    if (!helper) { return isWordCharBasic(ch) }\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n    return helper.test(ch)\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n    return true\n  }\n\n  // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n  // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n    return pos\n  }\n\n  // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n    for (;;) {\n      if (from == to) { return from }\n      var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n      if (mid == from) { return pred(mid) ? from : to }\n      if (pred(mid)) { to = mid; }\n      else { from = mid + dir; }\n    }\n  }\n\n  // BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) { return f(from, to, \"ltr\", 0) }\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n    if (!found) { f(from, to, \"ltr\"); }\n  }\n\n  var bidiOther = null;\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < ch && cur.to > ch) { return i }\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n    }\n    return found != null ? found : bidiOther\n  }\n\n  // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    // Character types for codepoints 0x600 to 0x6f9\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n    function charType(code) {\n      if (code <= 0xf7) { return lowTypes.charAt(code) }\n      else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n      else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n      else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n      else if (code == 0x200c) { return \"b\" }\n      else { return \"L\" }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n      var len = str.length, types = [];\n      for (var i = 0; i < len; ++i)\n        { types.push(charType(str.charCodeAt(i))); }\n\n      // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n        if (type == \"m\") { types[i$1] = prev; }\n        else { prev = type; }\n      }\n\n      // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n        if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n      }\n\n      // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n        else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n                 (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n        prev$1 = type$2;\n      }\n\n      // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n        if (type$3 == \",\") { types[i$4] = \"N\"; }\n        else if (type$3 == \"%\") {\n          var end = (void 0);\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i$4; j < end; ++j) { types[j] = replace; }\n          i$4 = end - 1;\n        }\n      }\n\n      // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n        if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n        else if (isStrong.test(type$4)) { cur$1 = type$4; }\n      }\n\n      // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = (void 0);\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n          var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n          i$6 = end$1 - 1;\n        }\n      }\n\n      // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7, at = order.length;\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); }\n              var nstart = j$2;\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              pos = j$2;\n            } else { ++j$2; }\n          }\n          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n        }\n      }\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order\n    }\n  })();\n\n  // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n  function getOrder(line, direction) {\n    var order = line.order;\n    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n    return order\n  }\n\n  // EVENT HANDLING\n\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n  var noHandlers = [];\n\n  var on = function(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map$$1 = emitter._handlers || (emitter._handlers = {});\n      map$$1[type] = (map$$1[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map$$1 = emitter._handlers, arr = map$$1 && map$$1[type];\n      if (arr) {\n        var index = indexOf(arr, f);\n        if (index > -1)\n          { map$$1[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n      }\n    }\n  }\n\n  function signal(emitter, type /*, values...*/) {\n    var handlers = getHandlers(emitter, type);\n    if (!handlers.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n  }\n\n  // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) { return }\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n      { set.push(arr[i]); } }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n  }\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) { e.stopPropagation(); }\n    else { e.cancelBubble = true; }\n  }\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n  }\n  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\n  function e_target(e) {return e.target || e.srcElement}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) { b = 1; }\n      else if (e.button & 2) { b = 3; }\n      else if (e.button & 4) { b = 2; }\n    }\n    if (mac && e.ctrlKey && b == 1) { b = 3; }\n    return b\n  }\n\n  // Detect drag-and-drop\n  var dragAndDrop = function() {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) { return false }\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node\n  }\n\n  // Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) { return badBidiRects }\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n    if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n    return badBidiRects = (r1.right - r0.right < 3)\n  }\n\n  // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) { nl = string.length; }\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result\n  } : function (string) { return string.split(/\\r\\n?|\\n/); };\n\n  var hasSelection = window.getSelection ? function (te) {\n    try { return te.selectionStart != te.selectionEnd }\n    catch(e) { return false }\n  } : function (te) {\n    var range$$1;\n    try {range$$1 = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range$$1 || range$$1.parentElement() != te) { return false }\n    return range$$1.compareEndPoints(\"StartToEnd\", range$$1) != 0\n  };\n\n  var hasCopyEvent = (function () {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) { return true }\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\"\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) { return badZoomedRects }\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n  }\n\n  // Known modes, by name and by MIME\n  var modes = {}, mimeModes = {};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  function defineMode(name, mode) {\n    if (arguments.length > 2)\n      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  }\n\n  // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") { found = {name: found}; }\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\")\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\")\n    }\n    if (typeof spec == \"string\") { return {name: spec} }\n    else { return spec || {name: \"null\"} }\n  }\n\n  // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) { return getMode(options, \"text/plain\") }\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) { continue }\n        if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) { modeObj.helperType = spec.helperType; }\n    if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n      { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n    return modeObj\n  }\n\n  // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n  var modeExtensions = {};\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) { return state }\n    if (mode.copyState) { return mode.copyState(state) }\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) { val = val.concat([]); }\n      nstate[n] = val;\n    }\n    return nstate\n  }\n\n  // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n  function innerMode(mode, state) {\n    var info;\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n      if (!info || info.mode == mode) { break }\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state}\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true\n  }\n\n  // STRING STREAM\n\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n  var StringStream = function(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {return this.pos >= this.string.length};\n  StringStream.prototype.sol = function () {return this.pos == this.lineStart};\n  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length)\n      { return this.string.charAt(this.pos++) }\n  };\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n    if (typeof match == \"string\") { ok = ch == match; }\n    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n    if (ok) {++this.pos; return ch}\n  };\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n    while (this.eat(match)){}\n    return this.pos > start\n  };\n  StringStream.prototype.eatSpace = function () {\n      var this$1 = this;\n\n    var start = this.pos;\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this$1.pos; }\n    return this.pos > start\n  };\n  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n    if (found > -1) {this.pos = found; return true}\n  };\n  StringStream.prototype.backUp = function (n) {this.pos -= n;};\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) -\n      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n      var substr = this.string.substr(this.pos, pattern.length);\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) { this.pos += pattern.length; }\n        return true\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) { return null }\n      if (match && consume !== false) { this.pos += match[0].length; }\n      return match\n    }\n  };\n  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n    try { return inner() }\n    finally { this.lineStart -= n; }\n  };\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n)\n  };\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos)\n  };\n\n  // Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n    var chunk = doc;\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n]\n  }\n\n  // Get the part of a document between two positions, as an array of\n  // strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n      if (n == end.line) { text = text.slice(0, end.ch); }\n      if (n == start.line) { text = text.slice(start.ch); }\n      out.push(text);\n      ++n;\n    });\n    return out\n  }\n  // Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) { out.push(line.text); }); // iter aborts when callback returns truthy value\n    return out\n  }\n\n  // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n  }\n\n  // Given a line object, find its line number by walking up through\n  // its parent links.\n  function lineNo(line) {\n    if (line.parent == null) { return null }\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) { break }\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first\n  }\n\n  // Find the line at the given vertical position, using the height\n  // information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1], ch = child.height;\n        if (h < ch) { chunk = child; continue outer }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n\n    } while (!chunk.lines)\n    var i = 0;\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) { break }\n      h -= lh;\n    }\n    return n + i\n  }\n\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber))\n  }\n\n  // A Pos instance represents a position within the text.\n  function Pos(line, ch, sticky) {\n    if ( sticky === void 0 ) sticky = null;\n\n    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  }\n\n  // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\n  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\n  function copyPos(x) {return Pos(x.line, x.ch)}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n  // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) { return Pos(doc.first, 0) }\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n    return clipToLen(pos, getLine(doc, pos.line).text.length)\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n    else if (ch < 0) { return Pos(pos.line, 0) }\n    else { return pos }\n  }\n  function clipPosArray(doc, array) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n    return out\n  }\n\n  var SavedContext = function(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n    return line\n  };\n\n  Context.prototype.baseToken = function (n) {\n      var this$1 = this;\n\n    if (!this.baseTokens) { return null }\n    while (this.baseTokens[this.baseTokenPos] <= n)\n      { this$1.baseTokenPos += 2; }\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n            size: this.baseTokens[this.baseTokenPos] - n}\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n    if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext)\n      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n    else\n      { return new Context(doc, copyState(doc.mode, saved), line) }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n  };\n\n\n  // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    // Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n            lineClasses, forceToEnd);\n    var state = context.state;\n\n    // Run overlays, adjust style array.\n    var loop = function ( o ) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i;\n        // Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            { st.splice(i, 1, end, st[i+1], i_end); }\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) { return }\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n      if (resetState) { context.state = resetState; }\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n      if (result.classes) { line.styleClasses = result.classes; }\n      else if (line.styleClasses) { line.styleClasses = null; }\n      if (updateFrontier === cm.doc.highlightFrontier)\n        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n    }\n    return line.styles\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) { return new Context(doc, true, n) }\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n    if (precise) { doc.modeFrontier = context.line; }\n    return context\n  }\n\n  // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") { callBlankLine(mode, context.state); }\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) { return mode.blankLine(state) }\n    if (!mode.innerMode) { return }\n    var inner = innerMode(mode, state);\n    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) { inner[0] = innerMode(mode, state).mode; }\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) { return style }\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n  }\n\n  var Token = function(stream, type, state) {\n    this.start = stream.start; this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  };\n\n  // Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n    if (asArray) { tokens = []; }\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n    }\n    return asArray ? tokens : new Token(stream, style, context.state)\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) { for (;;) {\n      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n      if (!lineClass) { break }\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        { output[prop] = lineClass[2]; }\n      else if (!(new RegExp(\"(?:^|\\s)\" + lineClass[2] + \"(?:$|\\s)\")).test(output[prop]))\n        { output[prop] += \" \" + lineClass[2]; }\n    } }\n    return type\n  }\n\n  // Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) { return doc.first }\n      var line = getLine(doc, search - 1), after = line.stateAfter;\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n        { return search }\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n    if (doc.highlightFrontier < n - 10) { return }\n    var start = doc.first;\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter;\n      // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break\n      }\n    }\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  }\n\n  // Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  }\n\n  // TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  // Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) { return span }\n    } }\n  }\n  // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    var r;\n    for (var i = 0; i < spans.length; ++i)\n      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n    return r\n  }\n  // Add a span to a line.\n  function addMarkedSpan(line, span) {\n    line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n    span.marker.attachLine(line);\n  }\n\n  // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    } }\n    return nw\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    } }\n    return nw\n  }\n\n  // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) { return null }\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) { return null }\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    // Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    // Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) { span.to = startCh; }\n          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n        }\n      }\n    }\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n        if (span$1.to != null) { span$1.to += offset; }\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n          if (!found$1) {\n            span$1.from = offset;\n            if (sameLine) { (first || (first = [])).push(span$1); }\n          }\n        } else {\n          span$1.from += offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      }\n    }\n    // Make sure we didn't create any zero-length spans\n    if (first) { first = clearEmptySpans(first); }\n    if (last && last != first) { last = clearEmptySpans(last); }\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        { for (var i$2 = 0; i$2 < first.length; ++i$2)\n          { if (first[i$2].to == null)\n            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n      for (var i$3 = 0; i$3 < gap; ++i$3)\n        { newMarkers.push(gapMarkers); }\n      newMarkers.push(last);\n    }\n    return newMarkers\n  }\n\n  // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        { spans.splice(i--, 1); }\n    }\n    if (!spans.length) { return null }\n    return spans\n  }\n\n  // Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          { (markers || (markers = [])).push(mark); }\n      } }\n    });\n    if (!markers) { return null }\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          { newParts.push({from: p.from, to: m.from}); }\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          { newParts.push({from: m.to, to: p.to}); }\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n    return parts\n  }\n\n  // Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.detachLine(line); }\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.attachLine(line); }\n    line.markedSpans = spans;\n  }\n\n  // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n  // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) { return lenDiff }\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) { return -fromCmp }\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) { return toCmp }\n    return b.id - a.id\n  }\n\n  // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        { found = sp.marker; }\n    } }\n    return found\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n    } }\n    return found\n  }\n\n  // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo$$1, from, to, marker) {\n    var line = getLine(doc, lineNo$$1);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        { return true }\n    } }\n  }\n\n  // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      { line = merged.find(-1, true).line; }\n    return line\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return line\n  }\n\n  // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line\n      ;(lines || (lines = [])).push(line);\n    }\n    return lines\n  }\n\n  // Get the line number of the start of the visual line that the\n  // given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) { return lineN }\n    return lineNo(vis)\n  }\n\n  // Get the line number of the start of the next visual line after\n  // the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) { return lineN }\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) { return lineN }\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return lineNo(line) + 1\n  }\n\n  // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      if (sp.from == null) { return true }\n      if (sp.marker.widgetNode) { continue }\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        { return true }\n    } }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      { return true }\n    for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) { return true }\n    }\n  }\n\n  // Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) { break }\n      else { h += line.height; }\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n        if (cur == chunk) { break }\n        else { h += cur.height; }\n      }\n    }\n    return h\n  }\n\n  // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) { return 0 }\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n    return len\n  }\n\n  // Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  // LINE DATA STRUCTURE\n\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n  var Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () { return lineNo(this) };\n  eventMixin(Line);\n\n  // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n    if (line.order != null) { line.order = null; }\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  }\n\n  // Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) { return null }\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n  }\n\n  // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   trailingSpace: false,\n                   splitSpaces: cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    // Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n        if (line.styleClasses.textClass)\n          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n      }\n\n      // Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n      // Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    // See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild;\n      if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        { builder.content.className = \"cm-tab-wrap-hack\"; }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n    return builder\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token\n  }\n\n  // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) { return }\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    var content;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) { mustWrap = true; }\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n          else { content.appendChild(txt); }\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) { break }\n        pos += skipped + 1;\n        var txt$1 = (void 0);\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n          else { content.appendChild(txt$1); }\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n    if (style || startStyle || endStyle || mustWrap || css) {\n      var fullStyle = style || \"\";\n      if (startStyle) { fullStyle += startStyle; }\n      if (endStyle) { fullStyle += endStyle; }\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (attributes) {\n        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\")\n          { token.setAttribute(attr, attributes[attr]); } }\n      }\n      return builder.content.appendChild(token)\n    }\n    builder.content.appendChild(content);\n  }\n\n  // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) { return text }\n    var spaceBefore = trailingBefore, result = \"\";\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n        { ch = \"\\u00a0\"; }\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n    return result\n  }\n\n  // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = (void 0);\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n          if (part.to > start && part.from <= start) { break }\n        }\n        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    }\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        { widget = builder.content.appendChild(document.createElement(\"span\")); }\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n    builder.trailingSpace = false;\n  }\n\n  // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n      return\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;\n    for (;;) {\n      if (nextChange == pos) { // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles = (void 0);\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) { spanStyle += \" \" + m.className; }\n            if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n            if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n            // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n            if (m.title) { (attributes || (attributes = {})).title = m.title; }\n            if (m.attributes) {\n              for (var attr in m.attributes)\n                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }\n            }\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              { collapsed = sp; }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) { return }\n          if (collapsed.to == pos) { collapsed = false; }\n        }\n      }\n      if (pos >= len) { break }\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n\n  // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line;\n    // Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    // Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  // Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        { callbacks[i].call(null); }\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n      }\n    } while (i < callbacks.length)\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n    if (!group) { return }\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null;\n\n  // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n  function signalLater(emitter, type /*, values...*/) {\n    var arr = getHandlers(emitter, type);\n    if (!arr.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    var loop = function ( i ) {\n      list.push(function () { return arr[i].apply(null, args); });\n    };\n\n    for (var i = 0; i < arr.length; ++i)\n      loop( i );\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n  }\n\n  // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") { updateLineText(cm, lineView); }\n      else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n      else if (type == \"class\") { updateLineClasses(cm, lineView); }\n      else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n    }\n    lineView.changes = null;\n  }\n\n  // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n    }\n    return lineView.node\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) { cls += \" CodeMirror-linebackground\"; }\n    if (lineView.background) {\n      if (cls) { lineView.background.className = cls; }\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  }\n\n  // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built\n    }\n    return buildLineContent(cm, lineView)\n  }\n\n  // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) { lineView.node = built.pre; }\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n    if (lineView.line.wrapClass)\n      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n    else if (lineView.node != lineView.text)\n      { lineView.node.className = \"\"; }\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        { lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n      if (markers) { for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n        var id = cm.display.gutterSpecs[k].className, found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                     (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n      } }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) { lineView.alignable = null; }\n    for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n      next = node.nextSibling;\n      if (node.className == \"CodeMirror-linewidget\")\n        { lineView.node.removeChild(node); }\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  // Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) { lineView.bgClass = built.bgClass; }\n    if (built.textClass) { lineView.textClass = built.textClass; }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node\n  }\n\n  // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) { return }\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\");\n      if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n      else\n        { wrap.appendChild(node); }\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n  (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) { return widget.height }\n    var cm = widget.doc.cm;\n    if (!cm) { return 0 }\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n      if (widget.noHScroll)\n        { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight\n  }\n\n  // Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        { return true }\n    }\n  }\n\n  // POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\n  function paddingH(display) {\n    if (display.cachedPaddingH) { return display.cachedPaddingH }\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n    return data\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n  }\n\n  // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n    for (var i = 0; i < lineView.rest.length; i++)\n      { if (lineView.rest[i] == line)\n        { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n    for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n      { if (lineNo(lineView.rest[i$1]) > lineN)\n        { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n  }\n\n  // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view\n  }\n\n  // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n  }\n\n  // Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      { return cm.display.view[findViewIndex(cm, lineN)] }\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      { return ext }\n  }\n\n  // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      { view = updateExternalMeasurement(cm, line); }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    }\n  }\n\n  // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) { ch = -1; }\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) { prepared.cache[key] = found; }\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom}\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map$$1, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd;\n    // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n    for (var i = 0; i < map$$1.length; i += 3) {\n      mStart = map$$1[i];\n      mEnd = map$$1[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map$$1.length - 3 || ch == mEnd && map$$1[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) { collapse = \"right\"; }\n      }\n      if (start != null) {\n        node = map$$1[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          { collapse = bias; }\n        if (bias == \"left\" && start == 0)\n          { while (i && map$$1[i - 2] == map$$1[i - 3] && map$$1[i - 1].insertLeft) {\n            node = map$$1[(i -= 3) + 2];\n            collapse = \"left\";\n          } }\n        if (bias == \"right\" && start == mEnd - mStart)\n          { while (i < map$$1.length - 3 && map$$1[i + 3] == map$$1[i + 4] && !map$$1[i + 5].insertLeft) {\n            node = map$$1[(i += 3) + 2];\n            collapse = \"right\";\n          } }\n        break\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n    if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n      if ((rect = rects[i]).left != rect.right) { break }\n    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n      if ((rect = rects[i$1]).left != rect.right) { break }\n    } }\n    return rect\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n          { rect = node.parentNode.getBoundingClientRect(); }\n        else\n          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n        if (rect.left || rect.right || start == 0) { break }\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n    } else { // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) { collapse = bias = \"right\"; }\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n      else\n        { rect = node.getBoundingClientRect(); }\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n      else\n        { rect = nullRect; }\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n    for (; i < heights.length - 1; i++)\n      { if (mid < heights[i]) { break } }\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) { result.bogus = true; }\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result\n  }\n\n  // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      { return rect }\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n        { lineView.measure.caches[i] = {}; } }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      { clearLineMeasurementCacheFor(cm.display.view[i]); }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n  }\n  function pageScrollY() {\n    if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop\n  }\n\n  function widgetTopHeight(lineObj) {\n    var height = 0;\n    if (lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above)\n      { height += widgetHeight(lineObj.widgets[i]); } } }\n    return height\n  }\n\n  // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height; rect.bottom += height;\n    }\n    if (context == \"line\") { return rect }\n    if (!context) { context = \"local\"; }\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") { yOff += paddingTop(cm.display); }\n    else { yOff -= cm.display.viewOffset; }\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect\n  }\n\n  // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") { return coords }\n    var left = coords.left, top = coords.top;\n    // First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n  }\n\n  // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) { m.left = m.right; } else { m.right = m.left; }\n      return intoCoordSystem(cm, lineObj, m, context)\n    }\n    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n    if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos], right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert)\n    }\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n    if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n    return val\n  }\n\n  // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height}\n  }\n\n  // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n    if (outside) { pos.outside = true; }\n    return pos\n  }\n\n  // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) { return PosWithInfo(doc.first, 0, null, true, -1) }\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, true, 1) }\n    if (x < 0) { x = 0; }\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 ? 1 : 0));\n      if (!collapsed) { return found }\n      var rangeEnd = collapsed.find(1);\n      if (rangeEnd.line == lineN) { return rangeEnd }\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n    return {begin: begin, end: end}\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n  }\n\n  // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo$$1, x, y) {\n    // Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n    var widgetHeight$$1 = widgetTopHeight(lineObj);\n    var begin = 0, end = lineObj.text.length, ltr = true;\n\n    var order = getOrder(lineObj, cm.doc.direction);\n    // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                   (cm, lineObj, lineNo$$1, preparedMeasure, order, x, y);\n      ltr = part.level != 1;\n      // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    }\n\n    // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n    var chAround = null, boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight$$1; box.bottom += widgetHeight$$1;\n      if (!boxIsAfter(box, x, y, false)) { return false }\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n      return true\n    }, begin, end);\n\n    var baseX, sticky, outside = false;\n    // If a box around the coordinates was found, use that\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) { ch++; }\n      // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight$$1 <= y) == ltr ?\n        \"after\" : \"before\";\n      // Now get accurate coordinates for this place, in order to get a\n      // base X position\n      var coords = cursorCoords(cm, Pos(lineNo$$1, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top || y >= coords.bottom;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo$$1, ch, sticky, outside, x - baseX)\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo$$1, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i], ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo$$1, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                     \"line\", lineObj, preparedMeasure), x, y, true)\n    }, 0, order.length - 1);\n    var part = order[index];\n    // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo$$1, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                               \"line\", lineObj, preparedMeasure);\n      if (boxIsAfter(start, x, y, true) && start.top > y)\n        { part = order[index - 1]; }\n    }\n    return part\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n    var part = null, closestDist = null;\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n      if (p.from >= end || p.to <= begin) { continue }\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n      // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n    if (!part) { part = order[order.length - 1]; }\n    // Clip the part to the wrapped line.\n    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n    return part\n  }\n\n  var measureText;\n  // Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n    if (measureText == null) {\n      measureText = elt(\"pre\");\n      // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n    if (height > 3) { display.cachedTextHeight = height; }\n    removeChildren(display.measure);\n    return height || 1\n  }\n\n  // Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor]);\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n    if (width > 2) { display.cachedCharWidth = width; }\n    return width || 10\n  }\n\n  // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth}\n  }\n\n  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n  }\n\n  // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) { return 0 }\n\n      var widgetsHeight = 0;\n      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n      } }\n\n      if (wrapping)\n        { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n      else\n        { return widgetsHeight + th }\n    }\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n    });\n  }\n\n  // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e) { return null }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel == 1 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n    return coords\n  }\n\n  // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) { return null }\n    n -= cm.display.viewFrom;\n    if (n < 0) { return null }\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) { return i }\n    }\n  }\n\n  // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) { from = cm.doc.first; }\n    if (to == null) { to = cm.doc.first + cm.doc.size; }\n    if (!lendiff) { lendiff = 0; }\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      { display.updateLineNumbers = from; }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        { resetView(cm); }\n    } else if (to <= display.viewFrom) { // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        { ext.lineN += lendiff; }\n      else if (from < ext.lineN + ext.size)\n        { display.externalMeasured = null; }\n    }\n  }\n\n  // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n\n    if (line < display.viewFrom || line >= display.viewTo) { return }\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) { return }\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) { arr.push(type); }\n  }\n\n  // Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      { return {index: index, lineN: newN} }\n    var n = cm.display.viewFrom;\n    for (var i = 0; i < index; i++)\n      { n += view[i].size; }\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) { return null }\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN}\n  }\n\n  // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n      else if (display.viewFrom < from)\n        { display.view = display.view.slice(findViewIndex(cm, from)); }\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n      else if (display.viewTo > to)\n        { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n    }\n    display.viewTo = to;\n  }\n\n  // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n    }\n    return dirty\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if ( primary === void 0 ) primary = true;\n\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) { continue }\n      var range$$1 = doc.sel.ranges[i];\n      if (range$$1.from().line >= cm.display.viewTo || range$$1.to().line < cm.display.viewFrom) { continue }\n      var collapsed = range$$1.empty();\n      if (collapsed || cm.options.showCursorWhenSelecting)\n        { drawSelectionCursor(cm, range$$1.head, curFragment); }\n      if (!collapsed)\n        { drawSelectionRange(cm, range$$1, selFragment); }\n    }\n    return result\n  }\n\n  // Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n  // Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range$$1, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) { top = 0; }\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop]\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n        var first = i == 0, last = !order || i == order.length - 1;\n        if (toPos.top - fromPos.top <= 3) { // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else { // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n        if (cmpCoords(toPos, start) < 0) { start = toPos; }\n        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n        if (cmpCoords(toPos, end) < 0) { end = toPos; }\n      });\n      return {start: start, end: end}\n    }\n\n    var sFrom = range$$1.from(), sTo = range$$1.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n    }\n\n    output.appendChild(fragment);\n  }\n\n  // Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) { return }\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      { display.blinker = setInterval(function () { return display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\"; },\n        cm.options.cursorBlinkRate); }\n    else if (cm.options.cursorBlinkRate < 0)\n      { display.cursorDiv.style.visibility = \"hidden\"; }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.state.focused) { cm.display.input.focus(); onFocus(cm); }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n      onBlur(cm);\n    } }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent) { cm.state.delayingBlurEvent = false; }\n\n    if (cm.options.readOnly == \"nocursor\") { return }\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } // Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) { return }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n  }\n\n  // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], wrapping = cm.options.lineWrapping;\n      var height = (void 0), width = 0;\n      if (cur.hidden) { continue }\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n        // Check that lines don't extend past the right of the current\n        // editor width\n        if (!wrapping && cur.text.firstChild)\n          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }\n      }\n      var diff = cur.line.height - height;\n      if (diff > .005 || diff < -.005) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n          { updateWidgetHeight(cur.rest[j]); } }\n      }\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n  }\n\n  // Read and store the height of line widgets associated with the\n  // given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n      var w = line.widgets[i], parent = w.node.parentNode;\n      if (parent) { w.height = parent.offsetHeight; }\n    } }\n  }\n\n  // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)}\n  }\n\n  // SCROLLING THINGS INTO VIEW\n\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (rect.top + box.top < 0) { doScroll = true; }\n    else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) { margin = 0; }\n    var rect;\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n    }\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {left: Math.min(coords.left, endCoords.left),\n              top: Math.min(coords.top, endCoords.top) - margin,\n              right: Math.max(coords.left, endCoords.left),\n              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n      }\n      if (!changed) { break }\n    }\n    return rect\n  }\n\n  // Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n  }\n\n  // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (rect.top < 0) { rect.top = 0; }\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n      if (newTop != screentop) { result.scrollTop = newTop; }\n    }\n\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft;\n    var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0);\n    var tooWide = rect.right - rect.left > screenw;\n    if (tooWide) { rect.right = rect.left + screenw; }\n    if (rect.left < 10)\n      { result.scrollLeft = 0; }\n    else if (rect.left < screenleft)\n      { result.scrollLeft = Math.max(0, rect.left - (tooWide ? 0 : 10)); }\n    else if (rect.right > screenw + screenleft - 3)\n      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n    return result\n  }\n\n  // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n  function addToScrollTop(cm, top) {\n    if (top == null) { return }\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  // Make sure that at the end of the operation the current cursor is\n  // shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) { resolveScrollToPos(cm); }\n    if (x != null) { cm.curOp.scrollLeft = x; }\n    if (y != null) { cm.curOp.scrollTop = y; }\n  }\n\n  function scrollToRange(cm, range$$1) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range$$1;\n  }\n\n  // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range$$1 = cm.curOp.scrollToPos;\n    if (range$$1) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range$$1.from), to = estimateCoords(cm, range$$1.to);\n      scrollToCoordsRange(cm, from, to, range$$1.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  }\n\n  // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n    if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n    setScrollTop(cm, val, true);\n    if (gecko) { updateDisplaySimple(cm); }\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val);\n    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n  }\n\n  // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth);\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  // SCROLLBARS\n\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    }\n  }\n\n  var NativeScrollbars = function(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n    });\n\n    this.checkedZeroWidth = false;\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n      // A bug in IE8 can cause this value to be negative, so guard it.\n      this.vert.firstChild.style.height =\n        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width =\n        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) { this.zeroWidthHack(); }\n      this.checkedZeroWidth = true;\n    }\n\n    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed;\n    this.disableVert = new Delayed;\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt$$1 = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n          : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n      if (elt$$1 != bar) { bar.style.pointerEvents = \"none\"; }\n      else { delay.set(1000, maybeDisable); }\n    }\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\n  NullScrollbars.prototype.setScrollLeft = function () {};\n  NullScrollbars.prototype.setScrollTop = function () {};\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) { measure = measureForScrollbars(cm); }\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        { updateHeightsInViewport(cm); }\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else { d.scrollbarFiller.style.display = \"\"; }\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else { d.gutterFiller.style.display = \"\"; }\n  }\n\n  var scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      // Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n      else { updateScrollTop(cm, pos); }\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n  var nextOpId = 0;\n  // Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n      forceUpdate: false,      // Used to force a redraw\n      updateInput: 0,       // Whether to reset the input textarea\n      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        // Accumulated changes, for firing change events\n      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, // Whether the selection needs to be redrawn\n      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId           // Unique ID\n    };\n    pushOperation(cm.curOp);\n  }\n\n  // Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp;\n    if (op) { finishOperation(op, function (group) {\n      for (var i = 0; i < group.ops.length; i++)\n        { group.ops[i].cm.curOp = null; }\n      endOperations(group);\n    }); }\n  }\n\n  // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      { endOperation_R1(ops[i]); }\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n      { endOperation_W1(ops[i$1]); }\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n      { endOperation_R2(ops[i$2]); }\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n      { endOperation_W2(ops[i$3]); }\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n      { endOperation_finish(ops[i$4]); }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) { findMaxLine(cm); }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      { op.preparedSelection = display.input.prepareSelection(); }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n    if (op.preparedSelection)\n      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      { updateScrollbars(cm, op.barMeasure); }\n    if (op.updatedDisplay)\n      { setDocumentHeight(cm, op.barMeasure); }\n\n    if (op.selectionChanged) { restartBlink(cm); }\n\n    if (cm.state.focused && op.updateInput)\n      { cm.display.input.reset(op.typing); }\n    if (takeFocus) { ensureFocus(op.cm); }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n    // Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      { display.wheelStartX = display.wheelStartY = null; }\n\n    // Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n    // If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    }\n\n    // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) { for (var i = 0; i < hidden.length; ++i)\n      { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n    if (display.wrapper.offsetHeight)\n      { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n    // Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      { signal(cm, \"changes\", cm, op.changeObjs); }\n    if (op.update)\n      { op.update.finish(); }\n  }\n\n  // Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) { return f() }\n    startOperation(cm);\n    try { return f() }\n    finally { endOperation(cm); }\n  }\n  // Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) { return f.apply(cm, arguments) }\n      startOperation(cm);\n      try { return f.apply(cm, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n  // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) { return f.apply(this, arguments) }\n      startOperation(this);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(this); }\n    }\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) { return f.apply(this, arguments) }\n      startOperation(cm);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n\n  // HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo)\n      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.highlightFrontier >= cm.display.viewTo) { return }\n    var end = +new Date + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) { // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n        if (resetState) { context.state = resetState; }\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) { line.styleClasses = newCls; }\n        else if (oldCls) { line.styleClasses = null; }\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n        if (ischange) { changedLines.push(context.line); }\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          { processLine(cm, line.text, context); }\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n    if (changedLines.length) { runInOp(cm, function () {\n      for (var i = 0; i < changedLines.length; i++)\n        { regLineChange(cm, changedLines[i], \"text\"); }\n    }); }\n  }\n\n  // DISPLAY DRAWING\n\n  var DisplayUpdate = function(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    // Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type))\n      { this.events.push(arguments); }\n  };\n  DisplayUpdate.prototype.finish = function () {\n      var this$1 = this;\n\n    for (var i = 0; i < this.events.length; i++)\n      { signal.apply(null, this$1.events[i]); }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) { return null }\n    var active = activeElt();\n    if (!active || !contains(cm.display.lineDiv, active)) { return null }\n    var result = {activeElt: active};\n    if (window.getSelection) {\n      var sel = window.getSelection();\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n    return result\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n    snapshot.activeElt.focus();\n    if (snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(), range$$1 = document.createRange();\n      range$$1.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range$$1.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range$$1);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  }\n\n  // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false\n    }\n\n    // Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      { return false }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    // Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    // Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      { return false }\n\n    // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n    var selSnapshot = selectionSnapshot(cm);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n    display.renderedView = display.view;\n    // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n    restoreSelection(selSnapshot);\n\n    // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n        // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          { break }\n      }\n      if (!updateDisplayIfNeeded(cm, update)) { break }\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      // Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        { node.style.display = \"none\"; }\n      else\n        { node.parentNode.removeChild(node); }\n      return next\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { // Already drawn\n        while (cur != lineView.node) { cur = rm(cur); }\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) { cur = rm(cur); }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n      if (cm.options.fixedGutter) {\n        if (view[i].gutter)\n          { view[i].gutter.style.left = left; }\n        if (view[i].gutterBackground)\n          { view[i].gutterBackground.style.left = left; }\n      }\n      var align = view[i].alignable;\n      if (align) { for (var j = 0; j < align.length; j++)\n        { align[j].style.left = left; } }\n    } }\n    if (cm.options.fixedGutter)\n      { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n  }\n\n  // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) { return false }\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true\n    }\n    return false\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [], sawLineNumbers = false;\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i], style = null;\n      if (typeof name != \"string\") { style = name.style; name = name.className; }\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) { continue }\n        else { sawLineNumbers = true; }\n      }\n      result.push({className: name, style: style});\n    }\n    if (lineNumbers && !sawLineNumbers) { result.push({className: \"CodeMirror-linenumbers\", style: null}); }\n    return result\n  }\n\n  // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n  function renderGutters(display) {\n    var gutters = display.gutters, specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n      if (style) { gElt.style.cssText = style; }\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  }\n\n  // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input;\n\n    // Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n    // Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    // A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    // When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n    // Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [lines], null, \"position: relative\");\n    // Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    // Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    // Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    // The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n    if (place) {\n      if (place.appendChild) { place.appendChild(d.wrapper); }\n      else { place(d.wrapper); }\n    }\n\n    // Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    // Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n    d.externalMeasured = null;\n    // Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    // Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    // True when shift is held down.\n    d.shift = false;\n\n    // Used to track whether anything happened since the context menu\n    // was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n\n    input.init(d);\n  }\n\n  // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n  if (ie) { wheelPixelsPerUnit = -.53; }\n  else if (gecko) { wheelPixelsPerUnit = 15; }\n  else if (chrome) { wheelPixelsPerUnit = -.7; }\n  else if (safari) { wheelPixelsPerUnit = -1/3; }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n    else if (dy == null) { dy = e.wheelDelta; }\n    return {x: dx, y: dy}\n  }\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n\n    var display = cm.display, scroll = display.scroller;\n    // Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n    // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer\n          }\n        }\n      }\n    }\n\n    // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY)\n        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit)); }\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit));\n      // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        { e_preventDefault(e); }\n      display.wheelStartX = null; // Abort measurement, if in progress\n      return\n    }\n\n    // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) { return }\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n            (movedX && display.wheelDX && movedX / display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) { return }\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n  var Selection = function(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\n  Selection.prototype.equals = function (other) {\n      var this$1 = this;\n\n    if (other == this) { return true }\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this$1.ranges[i], there = other.ranges[i];\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n    }\n    return true\n  };\n\n  Selection.prototype.deepCopy = function () {\n      var this$1 = this;\n\n    var out = [];\n    for (var i = 0; i < this.ranges.length; i++)\n      { out[i] = new Range(copyPos(this$1.ranges[i].anchor), copyPos(this$1.ranges[i].head)); }\n    return new Selection(out, this.primIndex)\n  };\n\n  Selection.prototype.somethingSelected = function () {\n      var this$1 = this;\n\n    for (var i = 0; i < this.ranges.length; i++)\n      { if (!this$1.ranges[i].empty()) { return true } }\n    return false\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n      var this$1 = this;\n\n    if (!end) { end = pos; }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this$1.ranges[i];\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n        { return i }\n    }\n    return -1\n  };\n\n  var Range = function(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  };\n\n  Range.prototype.from = function () { return minPos(this.anchor, this.head) };\n  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };\n  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n  // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) { --primIndex; }\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex)\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0)\n  }\n\n  // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n  function changeEnd(change) {\n    if (!change.text) { return change.to }\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n  }\n\n  // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) { return pos }\n    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n    return Pos(line, ch)\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex)\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n    else\n      { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n  }\n\n  // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex)\n  }\n\n  // Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) { line.stateAfter = null; }\n      if (line.styles) { line.styles = null; }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) { regChange(cm); }\n  }\n\n  // DOCUMENT DATA STRUCTURE\n\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n  }\n\n  // Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight$$1) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight$$1);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      var result = [];\n      for (var i = start; i < end; ++i)\n        { result.push(new Line(text[i], spansFor(i), estimateHeight$$1)); }\n      return result\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    // Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) { doc.remove(from.line, nlines); }\n      if (added.length) { doc.insert(from.line, added); }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight$$1));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  // Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) { continue }\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) { continue }\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      } }\n    }\n    propagate(doc, null, true);\n  }\n\n  // Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) { throw new Error(\"This document is already in use.\") }\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n    if (!cm.options.lineWrapping) { findMaxLine(cm); }\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(startGen) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = Infinity;\n    // Used to track when changes can be merged into a single undo\n    // event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    // Used by the isClean() method\n    this.generation = this.maxGeneration = startGen || 1;\n  }\n\n  // Create a history change event from an updateDoc-style change\n  // object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n    return histChange\n  }\n\n  // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) { array.pop(); }\n      else { break }\n    }\n  }\n\n  // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done)\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done)\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done)\n    }\n  }\n\n  // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n    var last;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        { pushSelectionToHistory(doc.sel, hist.done); }\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) { hist.done.shift(); }\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) { signal(doc, \"historyAdded\"); }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n  }\n\n  // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      { hist.done[hist.done.length - 1] = sel; }\n    else\n      { pushSelectionToHistory(sel, hist.done); }\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      { clearSelectionEvents(hist.undone); }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      { dest.push(sel); }\n  }\n\n  // Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans)\n        { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n      ++n;\n    });\n  }\n\n  // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) { return null }\n    var out;\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n      else if (out) { out.push(spans[i]); }\n    }\n    return !out ? spans : out.length ? out : null\n  }\n\n  // Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) { return null }\n    var nw = [];\n    for (var i = 0; i < change.text.length; ++i)\n      { nw.push(removeClearedSpans(found[i])); }\n    return nw\n  }\n\n  // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) { return stretched }\n    if (!stretched) { return old }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            { if (oldCur[k].marker == span.marker) { continue spans } }\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old\n  }\n\n  // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m = (void 0);\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        } } }\n      }\n    }\n    return copy\n  }\n\n  // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head)\n    } else {\n      return new Range(other || head, head)\n    }\n  }\n\n  // Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  }\n\n  // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    for (var i = 0; i < doc.sel.ranges.length; i++)\n      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  // Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  }\n\n  // Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        var this$1 = this;\n\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          { this$1.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head)); }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }\n    else { return sel }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  // Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      { sel = filterSelectionChange(doc, sel, options); }\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm)\n      { ensureCursorVisible(doc.cm); }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) { return }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  // Verify that the selection does not partially select any atomic\n  // marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  }\n\n  // Return a selection that does not partially select any atomic\n  // ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) { out = sel.ranges.slice(0, i); }\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n      if ((sp.from == null || (m.inclusiveLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (m.inclusiveRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) { break }\n            else {--i; continue}\n          }\n        }\n        if (!m.atomic) { continue }\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n          if (dir < 0 ? m.inclusiveRight : m.inclusiveLeft)\n            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? m.inclusiveLeft : m.inclusiveRight)\n          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n      }\n    } }\n    return pos\n  }\n\n  // Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0)\n    }\n    return found\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n      else { return null }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n      else { return null }\n    } else {\n      return new Pos(pos.line, pos.ch + dir)\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  }\n\n  // UPDATING\n\n  // Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () { return obj.canceled = true; }\n    };\n    if (update) { obj.update = function (from, to, text, origin) {\n      if (from) { obj.from = clipPos(doc, from); }\n      if (to) { obj.to = clipPos(doc, to); }\n      if (text) { obj.text = text; }\n      if (origin !== undefined) { obj.origin = origin; }\n    }; }\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n    if (obj.canceled) {\n      if (doc.cm) { doc.cm.curOp.updateInput = 2; }\n      return null\n    }\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n  }\n\n  // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n      if (doc.cm.state.suppressEdits) { return }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) { return }\n    }\n\n    // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  // Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n    if (suppress && !allowSelectionOnly) { return }\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n    var i = 0;\n    for (; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        { break }\n    }\n    if (i == source.length) { return }\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return\n        }\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return\n      } else { break }\n    }\n\n    // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function ( i ) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {}\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n      var rebased = [];\n\n      // Propagate to the linked documents\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop( i$1 );\n\n      if ( returned ) return returned.v;\n    }\n  }\n\n  // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) { return }\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n      Pos(range.anchor.line + distance, range.anchor.ch),\n      Pos(range.head.line + distance, range.head.ch)\n    ); }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        { regLineChange(doc.cm, l, \"gutter\"); }\n    }\n  }\n\n  // More lower-level change function, handling only a single document\n  // (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return\n    }\n    if (change.from.line > doc.lastLine()) { return }\n\n    // Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n    else { updateDoc(doc, change, spans); }\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n  }\n\n  // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      { signalCursorActivity(cm); }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    // Remember that these lines changed, for updating the display\n    if (change.full)\n      { regChange(cm); }\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      { regLineChange(cm, from.line, \"text\"); }\n    else\n      { regChange(cm, from.line, to.line + 1, lendiff); }\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) { to = from; }\n    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }\n    if (typeof code == \"string\") { code = doc.splitLines(code); }\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  // Rebasing/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue\n      }\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n    else { no = lineNo(handle); }\n    if (no == null) { return null }\n    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n    return line\n  }\n\n  // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    var this$1 = this;\n\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this$1;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length },\n\n    // Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      var this$1 = this;\n\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this$1.lines[i];\n        this$1.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function(at, lines, height) {\n      var this$1 = this;\n\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this$1; }\n    },\n\n    // Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      var this$1 = this;\n\n      for (var e = at + n; at < e; ++at)\n        { if (op(this$1.lines[at])) { return true } }\n    }\n  };\n\n  function BranchChunk(children) {\n    var this$1 = this;\n\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this$1;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size },\n\n    removeInner: function(at, n) {\n      var this$1 = this;\n\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this$1.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this$1.height -= oldHeight - child.height;\n          if (sz == rm) { this$1.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n      // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n\n    collapse: function(lines) {\n      var this$1 = this;\n\n      for (var i = 0; i < this.children.length; ++i) { this$1.children[i].collapse(lines); }\n    },\n\n    insertInner: function(at, lines, height) {\n      var this$1 = this;\n\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this$1.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this$1.children.splice(++i, 0, leaf);\n              leaf.parent = this$1;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this$1.maybeSpill();\n          }\n          break\n        }\n        at -= sz;\n      }\n    },\n\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) { return }\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10)\n      me.parent.maybeSpill();\n    },\n\n    iterN: function(at, n, op) {\n      var this$1 = this;\n\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this$1.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) { return true }\n          if ((n -= used) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n    }\n  };\n\n  // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function(doc, node, options) {\n    var this$1 = this;\n\n    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n      { this$1[opt] = options[opt]; } } }\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n      var this$1 = this;\n\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) { return }\n    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this$1) { ws.splice(i--, 1); } }\n    if (!ws.length) { line.widgets = null; }\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n      var this$1 = this;\n\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) { return }\n    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      { addToScrollTop(cm, diff); }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) { widgets.push(widget); }\n      else { widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget); }\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) { addToScrollTop(cm, widget.height); }\n        cm.curOp.forceUpdate = true;\n      }\n      return true\n    });\n    if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n    return widget\n  }\n\n  // TEXTMARKERS\n\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  var TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n\n  // Clear the marker.\n  TextMarker.prototype.clear = function () {\n      var this$1 = this;\n\n    if (this.explicitlyCleared) { return }\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) { startOperation(cm); }\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) { signalLater(this, \"clear\", found.from, found.to); }\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this$1.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this$1);\n      if (cm && !this$1.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n      else if (cm) {\n        if (span.to != null) { max = lineNo(line); }\n        if (span.from != null) { min = lineNo(line); }\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this$1.collapsed && !lineIsHidden(this$1.doc, line) && cm)\n        { updateLineHeight(line, textHeight(cm.display)); }\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n      var visual = visualLine(this$1.lines[i$1]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    } }\n\n    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) { reCheckSelection(cm.doc); }\n    }\n    if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n    if (withOp) { endOperation(cm); }\n    if (this.parent) { this.parent.clear(); }\n  };\n\n  // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function (side, lineObj) {\n      var this$1 = this;\n\n    if (side == null && this.type == \"bookmark\") { side = 1; }\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this$1.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this$1);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) { return from }\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) { return to }\n      }\n    }\n    return from && {from: from, to: to}\n  };\n\n  // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n  TextMarker.prototype.changed = function () {\n      var this$1 = this;\n\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) { return }\n    runInOp(cm, function () {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          { updateLineHeight(line, line.height + dHeight); }\n      }\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n    }\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp\n      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n  eventMixin(TextMarker);\n\n  // Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n    // Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) { copyObj(options, marker, false); }\n    // Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      { return marker }\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory)\n      { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        { updateMaxLine = true; }\n      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null));\n      ++curLine;\n    });\n    // lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n    }); }\n\n    if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n      if (doc.history.done.length || doc.history.undone.length)\n        { doc.clearHistory(); }\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n      if (marker.collapsed)\n        { regChange(cm, from.line, to.line + 1); }\n      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||\n               marker.attributes || marker.title)\n        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n      if (marker.atomic) { reCheckSelection(cm.doc); }\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker\n  }\n\n  // SHARED TEXTMARKERS\n\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n  var SharedTextMarker = function(markers, primary) {\n    var this$1 = this;\n\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      { markers[i].parent = this$1; }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n      var this$1 = this;\n\n    if (this.explicitlyCleared) { return }\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      { this$1.markers[i].clear(); }\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj)\n  };\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) { options.widgetNode = widget.cloneNode(true); }\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        { if (doc.linked[i].isParent) { return } }\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary)\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function ( i ) {\n      var marker = markers[i], linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop( i );\n  }\n\n  var nextDocId = 0;\n  var Doc = function(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n    if (firstLine == null) { firstLine = 0; }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") { text = this.splitLines(text); }\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) { this.iterN(from - this.first, to - from, op); }\n      else { this.iterN(this.first, this.first + this.size, from); }\n    },\n\n    // Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n    getLineNumber: function(line) {return lineNo(line)},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") { line = getLine(this, line); }\n      return visualLine(line)\n    },\n\n    lineCount: function() {return this.size},\n    firstLine: function() {return this.first},\n    lastLine: function() {return this.first + this.size - 1},\n\n    clipPos: function(pos) {return clipPos(this, pos)},\n\n    getCursor: function(start) {\n      var range$$1 = this.sel.primary(), pos;\n      if (start == null || start == \"head\") { pos = range$$1.head; }\n      else if (start == \"anchor\") { pos = range$$1.anchor; }\n      else if (start == \"end\" || start == \"to\" || start === false) { pos = range$$1.to(); }\n      else { pos = range$$1.from(); }\n      return pos\n    },\n    listSelections: function() { return this.sel.ranges },\n    somethingSelected: function() {return this.sel.somethingSelected()},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      var this$1 = this;\n\n      if (!ranges.length) { return }\n      var out = [];\n      for (var i = 0; i < ranges.length; i++)\n        { out[i] = new Range(clipPos(this$1, ranges[i].anchor),\n                           clipPos(this$1, ranges[i].head)); }\n      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var this$1 = this;\n\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this$1, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) { return lines }\n      else { return lines.join(lineSep || this.lineSeparator()) }\n    },\n    getSelections: function(lineSep) {\n      var this$1 = this;\n\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this$1, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) { sel = sel.join(lineSep || this$1.lineSeparator()); }\n        parts[i] = sel;\n      }\n      return parts\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        { dup[i] = code; }\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var this$1 = this;\n\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range$$1 = sel.ranges[i];\n        changes[i] = {from: range$$1.from(), to: range$$1.to(), text: this$1.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n        { makeChange(this$1, changes[i$1]); }\n      if (newSel) { setSelectionReplaceHistory(this, newSel); }\n      else if (this.cm) { ensureCursorVisible(this.cm); }\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n      return {undo: done, redo: undone}\n    },\n    clearHistory: function() {this.history = new History(this.history.maxGeneration);},\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n      return this.history.generation\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration)\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)}\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history.maxGeneration);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    setGutterMarker: docMethodOp(function(line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n        return true\n      })\n    }),\n\n    clearGutter: docMethodOp(function(gutterID) {\n      var this$1 = this;\n\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n            return true\n          });\n        }\n      });\n    }),\n\n    lineInfo: function(line) {\n      var n;\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) { return null }\n        n = line;\n        line = getLine(this, line);\n        if (!line) { return null }\n      } else {\n        n = lineNo(line);\n        if (n == null) { return null }\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets}\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) { line[prop] = cls; }\n        else if (classTest(cls).test(line[prop])) { return false }\n        else { line[prop] += \" \" + cls; }\n        return true\n      })\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) { return false }\n        else if (cls == null) { line[prop] = null; }\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) { return false }\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true\n      })\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options)\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\")\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          { markers.push(span.marker.parent || span.marker); }\n      } }\n      return markers\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo$$1 = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n        if (spans) { for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo$$1 == from.line && from.ch >= span.to ||\n                span.from == null && lineNo$$1 != from.line ||\n                span.from != null && lineNo$$1 == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            { found.push(span.marker.parent || span.marker); }\n        } }\n        ++lineNo$$1;\n      });\n      return found\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n        if (sps) { for (var i = 0; i < sps.length; ++i)\n          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n      });\n      return markers\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo$$1 = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true }\n        off -= sz;\n        ++lineNo$$1;\n      });\n      return clipPos(this, Pos(lineNo$$1, ch))\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) { return 0 }\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc\n    },\n\n    linkedDoc: function(options) {\n      if (!options) { options = {}; }\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) { from = options.from; }\n      if (options.to != null && options.to < to) { to = options.to; }\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n      if (options.sharedHist) { copy.history = this.history\n      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy\n    },\n    unlinkDoc: function(other) {\n      var this$1 = this;\n\n      if (other instanceof CodeMirror) { other = other.doc; }\n      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n        var link = this$1.linked[i];\n        if (link.doc != other) { continue }\n        this$1.linked.splice(i, 1);\n        other.unlinkDoc(this$1);\n        detachSharedMarkers(findSharedMarkers(this$1));\n        break\n      } }\n      // If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode},\n    getEditor: function() {return this.cm},\n\n    splitLines: function(str) {\n      if (this.lineSep) { return str.split(this.lineSep) }\n      return splitLinesAuto(str)\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") { dir = \"ltr\"; }\n      if (dir == this.direction) { return }\n      this.direction = dir;\n      this.iter(function (line) { return line.order = null; });\n      if (this.cm) { directionChanged(this.cm); }\n    })\n  });\n\n  // Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      { return }\n    e_preventDefault(e);\n    if (ie) { lastDrop = +new Date; }\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) { return }\n    // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var loadFile = function (file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1)\n          { return }\n\n        var reader = new FileReader;\n        reader.onload = operation(cm, function () {\n          var content = reader.result;\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) { content = \"\"; }\n          text[i] = content;\n          if (++read == n) {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(text.join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(pos, changeEnd(change)));\n          }\n        });\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < n; ++i) { loadFile(files[i], i); }\n    } else { // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        // Ensure the editor is re-focused\n        setTimeout(function () { return cm.display.input.focus(); }, 20);\n        return\n      }\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n        if (text$1) {\n          var selected;\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            { selected = cm.listSelections(); }\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n            { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\";\n\n    // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        // Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) { img.parentNode.removeChild(img); }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) { return }\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) { return }\n    var byClass = document.getElementsByClassName(\"CodeMirror\"), editors = [];\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) { editors.push(cm); }\n    }\n    if (editors.length) { editors[0].operation(function () {\n      for (var i = 0; i < editors.length; i++) { f(editors[i]); }\n    }); }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) { return }\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100); }\n    });\n    // When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n  }\n  // Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    // Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 145: \"ScrollLock\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n\n  // Number keys\n  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n  // Alphabetic keys\n  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n  // Function keys\n  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\n  var keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  };\n  // Very basic readline/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\n    \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\n    \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\n    \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n      else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n      else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n      else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n      else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n    }\n    if (alt) { name = \"Alt-\" + name; }\n    if (ctrl) { name = \"Ctrl-\" + name; }\n    if (cmd) { name = \"Cmd-\" + name; }\n    if (shift) { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n      if (value == \"...\") { delete keymap[keyname]; continue }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val = (void 0), name = (void 0);\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) { copy[name] = val; }\n        else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n      }\n      delete keymap[keyname];\n    } }\n    for (var prop in copy) { keymap[prop] = copy[prop]; }\n    return keymap\n  }\n\n  function lookupKey(key, map$$1, handle, context) {\n    map$$1 = getKeyMap(map$$1);\n    var found = map$$1.call ? map$$1.call(key, context) : map$$1[key];\n    if (found === false) { return \"nothing\" }\n    if (found === \"...\") { return \"multi\" }\n    if (found != null && handle(found)) { return \"handled\" }\n\n    if (map$$1.fallthrough) {\n      if (Object.prototype.toString.call(map$$1.fallthrough) != \"[object Array]\")\n        { return lookupKey(key, map$$1.fallthrough, handle, context) }\n      for (var i = 0; i < map$$1.fallthrough.length; i++) {\n        var result = lookupKey(key, map$$1.fallthrough[i], handle, context);\n        if (result) { return result }\n      }\n    }\n  }\n\n  // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n    if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Cmd\") { name = \"Cmd-\" + name; }\n    if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // Look up the name of a key as indicated by an event object.\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n    var name = keyNames[event.keyCode];\n    if (name == null || event.altGraphKey) { return false }\n    // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n    if (event.keyCode == 3 && event.code) { name = event.code; }\n    return addModifierNames(name, event, noShift)\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val\n  }\n\n  // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break\n        }\n      }\n      kill.push(toKill);\n    }\n    // Next, remove those actual ranges.\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      var order = getOrder(lineObj, cm.doc.direction);\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = (dir < 0) == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch;\n        // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n          if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n        } else { ch = dir < 0 ? part.to : part.from; }\n        return new Pos(lineNo, ch, sticky)\n      }\n    }\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n    if (!bidi) { return moveLogically(line, start, dir) }\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir)\n    }\n\n    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n    var prep;\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch)\n    };\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = (part.level == 1) == (dir < 0);\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky)\n      }\n    }\n\n    // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n        ? new Pos(start.line, mv(ch, 1), \"before\")\n        : new Pos(start.line, ch, \"after\"); };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = (dir > 0) == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n      }\n    };\n\n    // Case 3a: Look for other bidi parts on the same visual line\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n    if (res) { return res }\n\n    // Case 3b: Look for other bidi parts on the next visual line\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n      if (res) { return res }\n    }\n\n    // Case 4: Nowhere to move\n    return null\n  }\n\n  // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n    killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n      if (range.empty()) {\n        var len = getLine(cm.doc, range.head.line).text.length;\n        if (range.head.ch == len && range.head.line < cm.lastLine())\n          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n        else\n          { return {from: range.head, to: Pos(range.head.line, len)} }\n      } else {\n        return {from: range.from(), to: range.to()}\n      }\n    }); },\n    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0),\n      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n    }); }); },\n    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0), to: range.from()\n    }); }); },\n    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n      return {from: leftPos, to: range.from()}\n    }); },\n    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      return {from: range.from(), to: rightPos }\n    }); },\n    undo: function (cm) { return cm.undo(); },\n    redo: function (cm) { return cm.redo(); },\n    undoSelection: function (cm) { return cm.undoSelection(); },\n    redoSelection: function (cm) { return cm.redoSelection(); },\n    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n      {origin: \"+move\", bias: -1}\n    ); },\n    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: 0, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n      if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n      return pos\n    }, sel_move); },\n    goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n    goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n    goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n    goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n    goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n    goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n    goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n    goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n    goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n    goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n    goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n    goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n    delCharBefore: function (cm) { return cm.deleteH(-1, \"char\"); },\n    delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n    delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n    delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n    delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n    delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n    indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n    indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n    indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n    insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n    insertSoftTab: function (cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n      else { cm.execCommand(\"insertTab\"); }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) { return runInOp(cm, function () {\n      var ranges = cm.listSelections(), newSel = [];\n      for (var i = 0; i < ranges.length; i++) {\n        if (!ranges[i].empty()) { continue }\n        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n        if (line) {\n          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n          if (cur.ch > 0) {\n            cur = new Pos(cur.line, cur.ch + 1);\n            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                            Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n          } else if (cur.line > cm.doc.first) {\n            var prev = getLine(cm.doc, cur.line - 1).text;\n            if (prev) {\n              cur = new Pos(cur.line, 1);\n              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                              prev.charAt(prev.length - 1),\n                              Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n            }\n          }\n        }\n        newSel.push(new Range(cur, cur));\n      }\n      cm.setSelections(newSel);\n    }); },\n    newlineAndIndent: function (cm) { return runInOp(cm, function () {\n      var sels = cm.listSelections();\n      for (var i = sels.length - 1; i >= 0; i--)\n        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n      sels = cm.listSelections();\n      for (var i$1 = 0; i$1 < sels.length; i$1++)\n        { cm.indentLine(sels[i$1].from().line, null, true); }\n      ensureCursorVisible(cm);\n    }); },\n    openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n  };\n\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, visual, lineN, 1)\n  }\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, line, lineN, -1)\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(0, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n    }\n    return start\n  }\n\n  // Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) { return false }\n    }\n    // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      if (dropShift) { cm.display.shift = false; }\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) { return result }\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm)\n  }\n\n  // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n  var stopSeq = new Delayed;\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) { return \"handled\" }\n      if (/\\'$/.test(name))\n        { cm.state.keySeq = null; }\n      else\n        { stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        }); }\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n    }\n    return dispatchKeyInner(cm, name, e, handle)\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      { cm.state.keySeq = name; }\n    if (result == \"handled\")\n      { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result\n  }\n\n  // Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) { return false }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n          || dispatchKey(cm, name, e, function (b) {\n               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n                 { return doHandleBinding(cm, b) }\n             })\n    } else {\n      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n    }\n  }\n\n  // Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) { return }\n    // IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      // Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        { cm.replaceSelection(\"\", null, \"cut\"); }\n    }\n\n    // Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n      { showCrossHair(cm); }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) { this.doc.sel.shift = false; }\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    // Some browsers fire keypress events for backspace\n    if (ch == \"\\x08\") { return }\n    if (handleCharBinding(cm, e, ch)) { return }\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time &&\n      cmp(pos, this.pos) == 0 && button == this.button\n  };\n\n  var lastClick, lastDoubleClick;\n  function clickRepeat(pos, button) {\n    var now = +new Date;\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\"\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\"\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\"\n    }\n  }\n\n  // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () { return display.scroller.draggable = true; }, 100);\n      }\n      return\n    }\n    if (clickInGutter(cm, e)) { return }\n    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus();\n\n    // #3261: make sure, that we're not starting a second selection\n    if (button == 1 && cm.state.selectingText)\n      { cm.state.selectingText(e); }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n    if (button == 1) {\n      if (pos) { leftButtonDown(cm, pos, repeat, e); }\n      else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n    } else if (button == 2) {\n      if (pos) { extendSelection(cm.doc, pos); }\n      setTimeout(function () { return display.input.focus(); }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) { cm.display.input.onContextMenu(e); }\n      else { delayBlurEvent(cm); }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n    if (repeat == \"double\") { name = \"Double\" + name; }\n    else if (repeat == \"triple\") { name = \"Triple\" + name; }\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") { bound = commands[bound]; }\n      if (!bound) { return false }\n      var done = false;\n      try {\n        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n      return done\n    })\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n    return value\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n    else { cm.curOp.focus = activeElt(); }\n\n    var behavior = configureMouse(cm, repeat, event);\n\n    var sel = cm.doc.sel, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n      { leftButtonStartDrag(cm, event, pos, behavior); }\n    else\n      { leftButtonSelect(cm, event, pos, behavior); }\n  }\n\n  // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display, moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) { display.scroller.draggable = false; }\n      cm.state.draggingText = false;\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n      if (!moved) {\n        e_preventDefault(e);\n        if (!behavior.addNew)\n          { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if (webkit || ie && ie_version == 9)\n          { setTimeout(function () {display.wrapper.ownerDocument.body.focus(); display.input.focus();}, 20); }\n        else\n          { display.input.focus(); }\n      }\n    });\n    var mouseMove = function(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n    var dragStart = function () { return moved = true; };\n    // Let the drag handler handle this.\n    if (webkit) { display.scroller.draggable = true; }\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag;\n    // IE's approach to draggable\n    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n\n    delayBlurEvent(cm);\n    setTimeout(function () { return display.input.focus(); }, 20);\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") { return new Range(pos, pos) }\n    if (unit == \"word\") { return cm.findWordAt(pos) }\n    if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to)\n  }\n\n  // Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, event, start, behavior) {\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(event);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        { ourRange = ranges[ourIndex]; }\n      else\n        { ourRange = new Range(start, start); }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) { ourRange = new Range(start, start); }\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range$$1 = rangeForUnit(cm, start, behavior.unit);\n      if (behavior.extend)\n        { ourRange = extendRange(ourRange, range$$1.anchor, range$$1.head, behavior.extend); }\n      else\n        { ourRange = range$$1; }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) { return }\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n          else if (text.length > leftPos)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n        }\n        if (!ranges.length) { ranges.push(new Range(start, start)); }\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range$$1 = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor, head;\n        if (cmp(range$$1.anchor, anchor) > 0) {\n          head = range$$1.head;\n          anchor = minPos(oldRange.from(), range$$1.anchor);\n        } else {\n          head = range$$1.anchor;\n          anchor = maxPos(oldRange.to(), range$$1.head);\n        }\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n      if (!cur) { return }\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) { setTimeout(operation(cm, function () {\n          if (counter != curCount) { return }\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50); }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      // If e is null or undefined we interpret this as someone trying\n      // to explicitly cancel the selection rather than the user\n      // letting go of the mouse button.\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) { done(e); }\n      else { extend(e); }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  }\n\n  // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n  function bidiSimplify(cm, range$$1) {\n    var anchor = range$$1.anchor;\n    var head = range$$1.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range$$1 }\n    var order = getOrder(anchorLine);\n    if (!order) { return range$$1 }\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n    if (part.from != anchor.ch && part.to != anchor.ch) { return range$$1 }\n    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n    if (boundary == 0 || boundary == order.length) { return range$$1 }\n\n    // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n    var leftSide;\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n      if (headIndex == boundary - 1 || headIndex == boundary)\n        { leftSide = dir < 0; }\n      else\n        { leftSide = dir > 0; }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range$$1 : new Range(new Pos(anchor.line, ch, sticky), head)\n  }\n\n\n  // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try { mX = e.clientX; mY = e.clientY; }\n      catch(e) { return false }\n    }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n    if (prevent) { e_preventDefault(e); }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e)\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true)\n  }\n\n  // CONTEXT MENU HANDLING\n\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n    if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n    if (!captureRightClick) { cm.display.input.onContextMenu(e); }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n    return gutterEvent(cm, e, \"gutterContextMenu\", false)\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {toString: function(){return \"CodeMirror.Init\"}};\n\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n      if (handle) { optionHandlers[name] =\n        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n    }\n\n    CodeMirror.defineOption = option;\n\n    // Passed to option handlers when there is no old value.\n    CodeMirror.Init = Init;\n\n    // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n    option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n      if (!val) { return }\n      var newBreaks = [], lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n          if (found == -1) { break }\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n        lineNo++;\n      });\n      for (var i = newBreaks.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n      if (old != Init) { cm.refresh(); }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n    option(\"autocorrect\", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);\n    option(\"autocapitalize\", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n      if (prev && prev.detach) { prev.detach(cm, next); }\n      if (next.attach) { next.attach(cm, prev || null); }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) { return integer; }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n      cm.display.input.readOnlyChanged(val);\n    });\n    option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) { cm.display.input.resetPosition(); }\n    });\n\n    option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () { return updateScrollbars(cm); }, 100);\n  }\n\n  // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n    this.options = options = options ? copyObj(options) : {};\n    // Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n    else if (options.mode) { doc.modeOption = options.mode; }\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n    if (options.lineWrapping)\n      { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  // stores maps added by addKeyMap\n      overlays: [], // highlighting overlays, as added by addOverlay\n      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1, cutIncoming: -1, // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), // stores highlight worker timeout\n      keySeq: null,  // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) { display.input.focus(); }\n\n    // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n    if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || this.hasFocus())\n      { setTimeout(bind(onFocus, this), 20); }\n    else\n      { onBlur(this); }\n\n    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n      { optionHandlers[opt](this$1, options[opt], Init); } }\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) { options.finishInit(this); }\n    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this$1); }\n    endOperation(this);\n    // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      { display.lineDiv.style.textRendering = \"auto\"; }\n  }\n\n  // The default configuration options.\n  CodeMirror.defaults = defaults;\n  // Functions to run when options are changed.\n  CodeMirror.optionHandlers = optionHandlers;\n\n  // Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    // Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) { return }\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      })); }\n    else\n      { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n    // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n    on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); });\n\n    // Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    }\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) { return false }\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1\n    }\n    function farAway(touch, other) {\n      if (other.left == null) { return true }\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20\n    }\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) { d.activeTouch.moved = true; }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          { range = new Range(pos, pos); }\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          { range = cm.findWordAt(pos); }\n        else // Triple tap\n          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    // Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n    on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n    // Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function (e) { return onDragStart(cm, e); },\n      drop: operation(cm, onDrop),\n      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n    on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n  }\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };\n\n  // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) { how = \"add\"; }\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) { how = \"prev\"; }\n      else { state = getContextBefore(cm, n).state; }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) { line.stateAfter = null; }\n    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) { return }\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n      else { indentation = 0; }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n    if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break\n        }\n      }\n    }\n  }\n\n  // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) { sel = doc.sel; }\n\n    var recent = +new Date - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted), multiPaste = null;\n    // When pasting N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) { return [l]; });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput;\n    // Normal behavior is to insert the new text into every selection\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range$$1 = sel.ranges[i$1];\n      var from = range$$1.from(), to = range$$1.to();\n      if (range$$1.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          { from = Pos(from.line, from.ch - deleted); }\n        else if (cm.state.overwrite && !paste) // Handle overwrite\n          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == inserted)\n          { from = to = Pos(from.line, 0); }\n      }\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      { triggerElectric(cm, inserted); }\n\n    ensureCursorVisible(cm);\n    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput)\n        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n      return true\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range$$1 = sel.ranges[i];\n      if (range$$1.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range$$1.head.line)) { continue }\n      var mode = cm.getModeAt(range$$1.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range$$1.head.line, \"smart\");\n            break\n          } }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range$$1.head.line).text.slice(0, range$$1.head.ch)))\n          { indented = indentLine(cm, range$$1.head.line, \"smart\"); }\n      }\n      if (indented) { signalLater(cm, \"electricInput\", cm, range$$1.head.line); }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges}\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n    if (webkit) { te.style.width = \"1000px\"; }\n    else { te.setAttribute(\"wrap\", \"off\"); }\n    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) { te.style.border = \"1px solid black\"; }\n    disableBrowserMagic(te);\n    return div\n  }\n\n  // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    var helpers = CodeMirror.helpers = {};\n\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function(){window.focus(); this.display.input.focus();},\n\n      setOption: function(option, value) {\n        var options = this.options, old = options[option];\n        if (options[option] == value && option != \"mode\") { return }\n        options[option] = value;\n        if (optionHandlers.hasOwnProperty(option))\n          { operation(this, optionHandlers[option])(this, value, old); }\n        signal(this, \"optionChange\", this, option);\n      },\n\n      getOption: function(option) {return this.options[option]},\n      getDoc: function() {return this.doc},\n\n      addKeyMap: function(map$$1, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map$$1));\n      },\n      removeKeyMap: function(map$$1) {\n        var maps = this.state.keyMaps;\n        for (var i = 0; i < maps.length; ++i)\n          { if (maps[i] == map$$1 || maps[i].name == map$$1) {\n            maps.splice(i, 1);\n            return true\n          } }\n      },\n\n      addOverlay: methodOp(function(spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n        if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n        insertSorted(this.state.overlays,\n                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                      priority: (options && options.priority) || 0},\n                     function (overlay) { return overlay.priority; });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function(spec) {\n        var this$1 = this;\n\n        var overlays = this.state.overlays;\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this$1.state.modeGen++;\n            regChange(this$1);\n            return\n          }\n        }\n      }),\n\n      indentLine: methodOp(function(n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n          else { dir = dir ? \"add\" : \"subtract\"; }\n        }\n        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n      }),\n      indentSelection: methodOp(function(how) {\n        var this$1 = this;\n\n        var ranges = this.doc.sel.ranges, end = -1;\n        for (var i = 0; i < ranges.length; i++) {\n          var range$$1 = ranges[i];\n          if (!range$$1.empty()) {\n            var from = range$$1.from(), to = range$$1.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this$1.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n            for (var j = start; j < end; ++j)\n              { indentLine(this$1, j, how); }\n            var newRanges = this$1.doc.sel.ranges;\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n              { replaceOneSelection(this$1.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n          } else if (range$$1.head.line > end) {\n            indentLine(this$1, range$$1.head.line, how, true);\n            end = range$$1.head.line;\n            if (i == this$1.doc.sel.primIndex) { ensureCursorVisible(this$1); }\n          }\n        }\n      }),\n\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function(pos, precise) {\n        return takeToken(this, pos, precise)\n      },\n\n      getLineTokens: function(line, precise) {\n        return takeToken(this, Pos(line), precise, true)\n      },\n\n      getTokenTypeAt: function(pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n        var type;\n        if (ch == 0) { type = styles[2]; }\n        else { for (;;) {\n          var mid = (before + after) >> 1;\n          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n          else { type = styles[mid * 2 + 2]; break }\n        } }\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n      },\n\n      getModeAt: function(pos) {\n        var mode = this.doc.mode;\n        if (!mode.innerMode) { return mode }\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n      },\n\n      getHelper: function(pos, type) {\n        return this.getHelpers(pos, type)[0]\n      },\n\n      getHelpers: function(pos, type) {\n        var this$1 = this;\n\n        var found = [];\n        if (!helpers.hasOwnProperty(type)) { return found }\n        var help = helpers[type], mode = this.getModeAt(pos);\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) { found.push(help[mode[type]]); }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n            if (val) { found.push(val); }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n          if (cur.pred(mode, this$1) && indexOf(found, cur.val) == -1)\n            { found.push(cur.val); }\n        }\n        return found\n      },\n\n      getStateAfter: function(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n        return getContextBefore(this, line + 1, precise).state\n      },\n\n      cursorCoords: function(start, mode) {\n        var pos, range$$1 = this.doc.sel.primary();\n        if (start == null) { pos = range$$1.head; }\n        else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n        else { pos = start ? range$$1.from() : range$$1.to(); }\n        return cursorCoords(this, pos, mode || \"page\")\n      },\n\n      charCoords: function(pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n      },\n\n      coordsChar: function(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top)\n      },\n\n      lineAtHeight: function(height, mode) {\n        height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset)\n      },\n      heightAtLine: function(line, mode, includeWidgets) {\n        var end = false, lineObj;\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n          if (line < this.doc.first) { line = this.doc.first; }\n          else if (line > last) { line = last; end = true; }\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n          (end ? this.doc.height - heightAtLine(lineObj) : 0)\n      },\n\n      defaultTextHeight: function() { return textHeight(this.display) },\n      defaultCharWidth: function() { return charWidth(this.display) },\n\n      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n      addWidget: function(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom, left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n          // Default to positioning above (if specified and possible); otherwise default to positioning below\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n            { top = pos.top - node.offsetHeight; }\n          else if (pos.bottom + node.offsetHeight <= vspace)\n            { top = pos.bottom; }\n          if (left + node.offsetWidth > hspace)\n            { left = hspace - node.offsetWidth; }\n        }\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") { left = 0; }\n          else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n          node.style.left = left + \"px\";\n        }\n        if (scroll)\n          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n      },\n\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n\n      execCommand: function(cmd) {\n        if (commands.hasOwnProperty(cmd))\n          { return commands[cmd].call(null, this) }\n      },\n\n      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n      findPosH: function(from, amount, unit, visually) {\n        var this$1 = this;\n\n        var dir = 1;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this$1.doc, cur, dir, unit, visually);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveH: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        this.extendSelectionsBy(function (range$$1) {\n          if (this$1.display.shift || this$1.doc.extend || range$$1.empty())\n            { return findPosH(this$1.doc, range$$1.head, dir, unit, this$1.options.rtlMoveVisually) }\n          else\n            { return dir < 0 ? range$$1.from() : range$$1.to() }\n        }, sel_move);\n      }),\n\n      deleteH: methodOp(function(dir, unit) {\n        var sel = this.doc.sel, doc = this.doc;\n        if (sel.somethingSelected())\n          { doc.replaceSelection(\"\", null, \"+delete\"); }\n        else\n          { deleteNearSelection(this, function (range$$1) {\n            var other = findPosH(doc, range$$1.head, dir, unit, false);\n            return dir < 0 ? {from: other, to: range$$1.head} : {from: range$$1.head, to: other}\n          }); }\n      }),\n\n      findPosV: function(from, amount, unit, goalColumn) {\n        var this$1 = this;\n\n        var dir = 1, x = goalColumn;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this$1, cur, \"div\");\n          if (x == null) { x = coords.left; }\n          else { coords.left = x; }\n          cur = findPosV(this$1, coords, dir, unit);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveV: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        var doc = this.doc, goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range$$1) {\n          if (collapse)\n            { return dir < 0 ? range$$1.from() : range$$1.to() }\n          var headPos = cursorCoords(this$1, range$$1.head, \"div\");\n          if (range$$1.goalColumn != null) { headPos.left = range$$1.goalColumn; }\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n          if (unit == \"page\" && range$$1 == doc.sel.primary())\n            { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n          return pos\n        }, sel_move);\n        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n          { doc.sel.ranges[i].goalColumn = goals[i]; } }\n      }),\n\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function(pos) {\n        var doc = this.doc, line = getLine(doc, pos.line).text;\n        var start = pos.ch, end = pos.ch;\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n          if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper)\n            ? function (ch) { return isWordChar(ch, helper); }\n            : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n            : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n          while (start > 0 && check(line.charAt(start - 1))) { --start; }\n          while (end < line.length && check(line.charAt(end))) { ++end; }\n        }\n        return new Range(Pos(pos.line, start), Pos(pos.line, end))\n      },\n\n      toggleOverwrite: function(value) {\n        if (value != null && value == this.state.overwrite) { return }\n        if (this.state.overwrite = !this.state.overwrite)\n          { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n        else\n          { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function() { return this.display.input.getField() == activeElt() },\n      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n      getScrollInfo: function() {\n        var scroller = this.display.scroller;\n        return {left: scroller.scrollLeft, top: scroller.scrollTop,\n                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n      },\n\n      scrollIntoView: methodOp(function(range$$1, margin) {\n        if (range$$1 == null) {\n          range$$1 = {from: this.doc.sel.primary().head, to: null};\n          if (margin == null) { margin = this.options.cursorScrollMargin; }\n        } else if (typeof range$$1 == \"number\") {\n          range$$1 = {from: Pos(range$$1, 0), to: null};\n        } else if (range$$1.from == null) {\n          range$$1 = {from: range$$1, to: null};\n        }\n        if (!range$$1.to) { range$$1.to = range$$1.from; }\n        range$$1.margin = margin || 0;\n\n        if (range$$1.from.line != null) {\n          scrollToRange(this, range$$1);\n        } else {\n          scrollToCoordsRange(this, range$$1.from, range$$1.to, range$$1.margin);\n        }\n      }),\n\n      setSize: methodOp(function(width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n        if (width != null) { this.display.wrapper.style.width = interpret(width); }\n        if (height != null) { this.display.wrapper.style.height = interpret(height); }\n        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n        var lineNo$$1 = this.display.viewFrom;\n        this.doc.iter(lineNo$$1, this.display.viewTo, function (line) {\n          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n            { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo$$1, \"widget\"); break } } }\n          ++lineNo$$1;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n\n      operation: function(f){return runInOp(this, f)},\n      startOperation: function(){return startOperation(this)},\n      endOperation: function(){return endOperation(this)},\n\n      refresh: methodOp(function() {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5)\n          { estimateLineHeights(this); }\n        signal(this, \"refresh\", this);\n      }),\n\n      swapDoc: methodOp(function(doc) {\n        var old = this.doc;\n        old.cm = null;\n        // Cancel the current text selection if any (#5821)\n        if (this.state.selectingText) { this.state.selectingText(); }\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old\n      }),\n\n      phrase: function(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText\n      },\n\n      getInputField: function(){return this.display.input.getField()},\n      getWrapperElement: function(){return this.display.wrapper},\n      getScrollerElement: function(){return this.display.scroller},\n      getGutterElement: function(){return this.display.gutters}\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function(type, name, value) {\n      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n      helpers[type][name] = value;\n    };\n    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n      helpers[type]._global.push({pred: predicate, val: value});\n    };\n  }\n\n  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"char\", \"column\" (like char, but doesn't\n  // cross line boundaries), \"word\" (across next word), or \"group\" (to\n  // the start of next group of word or non-word-non-whitespace\n  // chars). The visually param controls whether, in right-to-left\n  // text, direction 1 means to move towards the next index in the\n  // string, or towards the character to the right of the current\n  // position. The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    function findNextLine() {\n      var l = pos.line + dir;\n      if (l < doc.first || l >= doc.first + doc.size) { return false }\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l)\n    }\n    function moveOnce(boundToLine) {\n      var next;\n      if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n      if (next == null) {\n        if (!boundToLine && findNextLine())\n          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, dir); }\n        else\n          { return false }\n      } else {\n        pos = next;\n      }\n      return true\n    }\n\n    if (unit == \"char\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) { break }\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || /\\s/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) { type = \"s\"; }\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n          break\n        }\n\n        if (type) { sawType = type; }\n        if (dir > 0 && !moveOnce(!first)) { break }\n      }\n    }\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n    return result\n  }\n\n  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    var target;\n    for (;;) {\n      target = coordsChar(cm, x, y);\n      if (!target.outside) { break }\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n      y += dir * 5;\n    }\n    return target\n  }\n\n  // CONTENTEDITABLE INPUT STYLE\n\n  var ContentEditableInput = function(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = input.cm;\n    var div = input.div = display.lineDiv;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n    on(div, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n      // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n    });\n\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {data: e.data, done: false};\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n        this$1.composing.done = true;\n      }\n    });\n\n    on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n    on(div, \"input\", function () {\n      if (!this$1.composing) { this$1.readFromDOMSoon(); }\n    });\n\n    function onCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n        if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\");\n        // iOS exposes the clipboard API, but seems to discard content inserted into it\n        e.clipboardData.setData(\"Text\", content);\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return\n        }\n      }\n      // Old-fashioned briefly-focus-a-textarea hack\n      var kludge = hiddenTextarea(), te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = document.activeElement;\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n        if (hadFocus == div) { input.showPrimarySelection(); }\n      }, 50);\n    }\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = this.cm.state.focused;\n    return result\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) { return }\n    if (info.focus || takeFocus) { this.showPrimarySelection(); }\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection()\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n    var from = prim.from(), to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n        cmp(minPos(curAnchor, curFocus), from) == 0 &&\n        cmp(maxPos(curAnchor, curFocus), to) == 0)\n      { return }\n\n    var view = cm.display.view;\n    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n        {node: view[0].measure.map[2], offset: 0};\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map$$1 = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {node: map$$1[map$$1.length - 1], offset: map$$1[map$$1.length - 2] - map$$1[map$$1.length - 3]};\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0), rng;\n    try { rng = range(start.node, start.offset, end.offset, end.node); }\n    catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n      if (old && sel.anchorNode == null) { sel.addRange(old); }\n      else if (gecko) { this.startGracePeriod(); }\n    }\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n      var this$1 = this;\n\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n      if (this$1.selectionChanged())\n        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n    if (!sel.rangeCount) { return false }\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node)\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor())\n        { this.showSelection(this.prepareSelection(), true); }\n      this.div.focus();\n    }\n  };\n  ContentEditableInput.prototype.blur = function () { this.div.blur(); };\n  ContentEditableInput.prototype.getField = function () { return this.div };\n\n  ContentEditableInput.prototype.supportsTouch = function () { return true };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n    var input = this;\n    if (this.selectionInEditor())\n      { this.pollSelection(); }\n    else\n      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n    var sel = this.getSelection(), cm = this.cm;\n    // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n      this.blur();\n      this.focus();\n      return\n    }\n    if (this.composing) { return }\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n    }); }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n    var from = sel.from(), to = sel.to();\n    if (from.ch == 0 && from.line > cm.firstLine())\n      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n      { to = Pos(to.line + 1, 0); }\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n    var fromIndex, fromLine, fromNode;\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) { return false }\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n      else { break }\n    }\n\n    var cutFront = 0, cutEnd = 0;\n    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n      { ++cutFront; }\n    var newBot = lst(newText), oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                             oldBot.length - (oldText.length == 1 ? cutFront : 0));\n    while (cutEnd < maxCutEnd &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n      { ++cutEnd; }\n    // Try to move start of change to start of selection if ambiguous\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) { return }\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n      var this$1 = this;\n\n    if (this.readDOMTimeout != null) { return }\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n      if (this$1.composing) {\n        if (this$1.composing.done) { this$1.composing = null; }\n        else { return }\n      }\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n      var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent())\n      { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) { return }\n    e.preventDefault();\n    if (!this.cm.isReadOnly())\n      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) { return null }\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line, cm.doc.direction), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode)\n      { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n    return false\n  }\n\n  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n    function close() {\n      if (closing) {\n        text += lineSep;\n        if (extraLinebreak) { text += lineSep; }\n        closing = extraLinebreak = false;\n      }\n    }\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText) {\n          addText(cmText);\n          return\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range$$1;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range$$1 = found[0].find(0)))\n            { addText(getBetween(cm.doc, range$$1.from, range$$1.to).join(lineSep)); }\n          return\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n        if (isBlock) { close(); }\n        for (var i = 0; i < node.childNodes.length; i++)\n          { walk(node.childNodes[i]); }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }\n        if (isBlock) { closing = true; }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) { break }\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n    return text\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        { return locateNodeInLineView(lineView, node, offset) }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad)\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) { offset = textNode.nodeValue.length; }\n    }\n    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map$$1 = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map$$1.length; j += 3) {\n          var curNode = map$$1[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map$$1[j] + offset;\n            if (offset < 0 || curNode != textNode) { ch = map$$1[j + (offset ? 1 : 0)]; }\n            return Pos(line, ch)\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) { return badPos(found, bad) }\n\n    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        { return badPos(Pos(found.line, found.ch - dist), bad) }\n      else\n        { dist += after.textContent.length; }\n    }\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n      else\n        { dist$1 += before.textContent.length; }\n    }\n  }\n\n  // TEXTAREA INPUT STYLE\n\n  var TextareaInput = function(cm) {\n    this.cm = cm;\n    // See input.poll and input.reset\n    this.prevInput = \"\";\n\n    // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n    this.pollingFast = false;\n    // Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n    // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n    if (ios) { te.style.width = \"0px\"; }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n      input.poll();\n    });\n\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n      cm.state.pasteIncoming = +new Date;\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n      if (e.type == \"cut\") { cm.state.cutIncoming = +new Date; }\n    }\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date;\n        input.focus();\n        return\n      }\n\n      // Pass the `paste` event to the textarea so it's handled by its event listener.\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    });\n\n    // Prevent normal selection in the editor (we handle our own)\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) { e_preventDefault(e); }\n    });\n\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n      if (input.composing) { input.composing.range.clear(); }\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea();\n    // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm, display = cm.display, doc = cm.doc;\n    var result = prepareSelection(cm);\n\n    // Move the hidden textarea near the cursor to prevent scrolling artifacts\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                          headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                           headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm, display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  };\n\n  // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) { return }\n    var cm = this.cm;\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n      if (cm.state.focused) { selectInput(this.textarea); }\n      if (ie && ie_version >= 9) { this.hasSelection = content; }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n      if (ie && ie_version >= 9) { this.hasSelection = null; }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () { return this.textarea };\n\n  TextareaInput.prototype.supportsTouch = function () { return false };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try { this.textarea.focus(); }\n      catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n    }\n  };\n\n  TextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n  // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n  TextareaInput.prototype.slowPoll = function () {\n      var this$1 = this;\n\n    if (this.pollingFast) { return }\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n      if (this$1.cm.state.focused) { this$1.slowPoll(); }\n    });\n  };\n\n  // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false, input = this;\n    input.pollingFast = true;\n    function p() {\n      var changed = input.poll();\n      if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n      else {input.pollingFast = false; input.slowPoll();}\n    }\n    input.polling.set(20, p);\n  };\n\n  // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n  TextareaInput.prototype.poll = function () {\n      var this$1 = this;\n\n    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n    // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n    if (this.contextMenuPending || !cm.state.focused ||\n        (hasSelection(input) && !prevInput && !this.composing) ||\n        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n      { return false }\n\n    var text = input.value;\n    // If nothing changed, bail.\n    if (text == prevInput && !cm.somethingSelected()) { return false }\n    // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n    if (ie && ie_version >= 9 && this.hasSelection === text ||\n        mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n      if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n      if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n    }\n    // Find the part of the input that is actually new\n    var same = 0, l = Math.min(prevInput.length, text.length);\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same,\n                     null, this$1.composing ? \"*compose\" : null);\n\n      // Don't leave long text in the textarea, since it makes further polling slow\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n      else { this$1.prevInput = text; }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                           {className: \"CodeMirror-composing\"});\n      }\n    });\n    return true\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n    if (input.contextMenuPending) { input.contextMenuPending(); }\n    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n    if (!pos || presto) { return } // Opera is difficult.\n\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n    var reset = cm.options.resetSelectionOnContextMenu;\n    if (reset && cm.doc.sel.contains(pos) == -1)\n      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n    if (webkit) { oldScrollY = window.scrollY; } // Work around Chrome issue (#2712)\n    display.input.focus();\n    if (webkit) { window.scrollTo(null, oldScrollY); }\n    display.input.reset();\n    // Adds \"Select all\" to context menu in FF\n    if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll);\n\n    // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; // Used to catch context-menu undo\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1; te.selectionEnd = extval.length;\n        // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n    function rehide() {\n      if (input.contextMenuPending != rehide) { return }\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n      // Try to detect the user choosing select-all\n      if (te.selectionStart != null) {\n        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n        var i = 0, poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n              te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n    if (captureRightClick) {\n      e_stop(e);\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) { this.reset(); }\n    this.textarea.disabled = val == \"nocursor\";\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      { options.tabindex = textarea.tabIndex; }\n    if (!options.placeholder && textarea.placeholder)\n      { options.placeholder = textarea.placeholder; }\n    // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n\n    var realSubmit;\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      // Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n      cm.getTextArea = function () { return textarea; };\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (typeof textarea.form.submit == \"function\")\n            { textarea.form.submit = realSubmit; }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n      options);\n    return cm\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  }\n\n  // EDITOR CONSTRUCTOR\n\n  defineOptions(CodeMirror);\n\n  addEditorMethods(CodeMirror);\n\n  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    { CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments)}\n    })(Doc.prototype[prop]); } }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  CodeMirror.defineMode = function(name/*, mode, */) {\n    if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name; }\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME;\n\n  // Minimal default mode.\n  CodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n  // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n\n  addLegacyProps(CodeMirror);\n\n  CodeMirror.version = \"5.47.0\";\n\n  return CodeMirror;\n\n})));\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"yaml\", function() {\n\n  var cons = ['true', 'false', 'on', 'off', 'yes', 'no'];\n  var keywordRegex = new RegExp(\"\\\\b((\"+cons.join(\")|(\")+\"))$\", 'i');\n\n  return {\n    token: function(stream, state) {\n      var ch = stream.peek();\n      var esc = state.escaped;\n      state.escaped = false;\n      /* comments */\n      if (ch == \"#\" && (stream.pos == 0 || /\\s/.test(stream.string.charAt(stream.pos - 1)))) {\n        stream.skipToEnd();\n        return \"comment\";\n      }\n\n      if (stream.match(/^('([^']|\\\\.)*'?|\"([^\"]|\\\\.)*\"?)/))\n        return \"string\";\n\n      if (state.literal && stream.indentation() > state.keyCol) {\n        stream.skipToEnd(); return \"string\";\n      } else if (state.literal) { state.literal = false; }\n      if (stream.sol()) {\n        state.keyCol = 0;\n        state.pair = false;\n        state.pairStart = false;\n        /* document start */\n        if(stream.match(/---/)) { return \"def\"; }\n        /* document end */\n        if (stream.match(/\\.\\.\\./)) { return \"def\"; }\n        /* array list item */\n        if (stream.match(/\\s*-\\s+/)) { return 'meta'; }\n      }\n      /* inline pairs/lists */\n      if (stream.match(/^(\\{|\\}|\\[|\\])/)) {\n        if (ch == '{')\n          state.inlinePairs++;\n        else if (ch == '}')\n          state.inlinePairs--;\n        else if (ch == '[')\n          state.inlineList++;\n        else\n          state.inlineList--;\n        return 'meta';\n      }\n\n      /* list seperator */\n      if (state.inlineList > 0 && !esc && ch == ',') {\n        stream.next();\n        return 'meta';\n      }\n      /* pairs seperator */\n      if (state.inlinePairs > 0 && !esc && ch == ',') {\n        state.keyCol = 0;\n        state.pair = false;\n        state.pairStart = false;\n        stream.next();\n        return 'meta';\n      }\n\n      /* start of value of a pair */\n      if (state.pairStart) {\n        /* block literals */\n        if (stream.match(/^\\s*(\\||\\>)\\s*/)) { state.literal = true; return 'meta'; };\n        /* references */\n        if (stream.match(/^\\s*(\\&|\\*)[a-z0-9\\._-]+\\b/i)) { return 'variable-2'; }\n        /* numbers */\n        if (state.inlinePairs == 0 && stream.match(/^\\s*-?[0-9\\.\\,]+\\s?$/)) { return 'number'; }\n        if (state.inlinePairs > 0 && stream.match(/^\\s*-?[0-9\\.\\,]+\\s?(?=(,|}))/)) { return 'number'; }\n        /* keywords */\n        if (stream.match(keywordRegex)) { return 'keyword'; }\n      }\n\n      /* pairs (associative arrays) -> key */\n      if (!state.pair && stream.match(/^\\s*(?:[,\\[\\]{}&*!|>'\"%@`][^\\s'\":]|[^,\\[\\]{}#&*!|>'\"%@`])[^#]*?(?=\\s*:($|\\s))/)) {\n        state.pair = true;\n        state.keyCol = stream.indentation();\n        return \"atom\";\n      }\n      if (state.pair && stream.match(/^:\\s*/)) { state.pairStart = true; return 'meta'; }\n\n      /* nothing found, continue */\n      state.pairStart = false;\n      state.escaped = (ch == '\\\\');\n      stream.next();\n      return null;\n    },\n    startState: function() {\n      return {\n        pair: false,\n        pairStart: false,\n        keyCol: 0,\n        inlinePairs: 0,\n        inlineList: 0,\n        literal: false,\n        escaped: false\n      };\n    },\n    lineComment: \"#\",\n    fold: \"indent\"\n  };\n});\n\nCodeMirror.defineMIME(\"text/x-yaml\", \"yaml\");\nCodeMirror.defineMIME(\"text/yaml\", \"yaml\");\n\n});\n","(function webpackUniversalModuleDefinition(root, factory) {\n/* istanbul ignore next */\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n/* istanbul ignore next */\n\telse if(typeof exports === 'object')\n\t\texports[\"esprima\"] = factory();\n\telse\n\t\troot[\"esprima\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/* istanbul ignore if */\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/*\n\t  Copyright JS Foundation and other contributors, https://js.foundation/\n\n\t  Redistribution and use in source and binary forms, with or without\n\t  modification, are permitted provided that the following conditions are met:\n\n\t    * Redistributions of source code must retain the above copyright\n\t      notice, this list of conditions and the following disclaimer.\n\t    * Redistributions in binary form must reproduce the above copyright\n\t      notice, this list of conditions and the following disclaimer in the\n\t      documentation and/or other materials provided with the distribution.\n\n\t  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n\t  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n\t  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n\t  ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY\n\t  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n\t  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n\t  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n\t  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n\t  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n\t  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\t*/\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar comment_handler_1 = __webpack_require__(1);\n\tvar jsx_parser_1 = __webpack_require__(3);\n\tvar parser_1 = __webpack_require__(8);\n\tvar tokenizer_1 = __webpack_require__(15);\n\tfunction parse(code, options, delegate) {\n\t    var commentHandler = null;\n\t    var proxyDelegate = function (node, metadata) {\n\t        if (delegate) {\n\t            delegate(node, metadata);\n\t        }\n\t        if (commentHandler) {\n\t            commentHandler.visit(node, metadata);\n\t        }\n\t    };\n\t    var parserDelegate = (typeof delegate === 'function') ? proxyDelegate : null;\n\t    var collectComment = false;\n\t    if (options) {\n\t        collectComment = (typeof options.comment === 'boolean' && options.comment);\n\t        var attachComment = (typeof options.attachComment === 'boolean' && options.attachComment);\n\t        if (collectComment || attachComment) {\n\t            commentHandler = new comment_handler_1.CommentHandler();\n\t            commentHandler.attach = attachComment;\n\t            options.comment = true;\n\t            parserDelegate = proxyDelegate;\n\t        }\n\t    }\n\t    var isModule = false;\n\t    if (options && typeof options.sourceType === 'string') {\n\t        isModule = (options.sourceType === 'module');\n\t    }\n\t    var parser;\n\t    if (options && typeof options.jsx === 'boolean' && options.jsx) {\n\t        parser = new jsx_parser_1.JSXParser(code, options, parserDelegate);\n\t    }\n\t    else {\n\t        parser = new parser_1.Parser(code, options, parserDelegate);\n\t    }\n\t    var program = isModule ? parser.parseModule() : parser.parseScript();\n\t    var ast = program;\n\t    if (collectComment && commentHandler) {\n\t        ast.comments = commentHandler.comments;\n\t    }\n\t    if (parser.config.tokens) {\n\t        ast.tokens = parser.tokens;\n\t    }\n\t    if (parser.config.tolerant) {\n\t        ast.errors = parser.errorHandler.errors;\n\t    }\n\t    return ast;\n\t}\n\texports.parse = parse;\n\tfunction parseModule(code, options, delegate) {\n\t    var parsingOptions = options || {};\n\t    parsingOptions.sourceType = 'module';\n\t    return parse(code, parsingOptions, delegate);\n\t}\n\texports.parseModule = parseModule;\n\tfunction parseScript(code, options, delegate) {\n\t    var parsingOptions = options || {};\n\t    parsingOptions.sourceType = 'script';\n\t    return parse(code, parsingOptions, delegate);\n\t}\n\texports.parseScript = parseScript;\n\tfunction tokenize(code, options, delegate) {\n\t    var tokenizer = new tokenizer_1.Tokenizer(code, options);\n\t    var tokens;\n\t    tokens = [];\n\t    try {\n\t        while (true) {\n\t            var token = tokenizer.getNextToken();\n\t            if (!token) {\n\t                break;\n\t            }\n\t            if (delegate) {\n\t                token = delegate(token);\n\t            }\n\t            tokens.push(token);\n\t        }\n\t    }\n\t    catch (e) {\n\t        tokenizer.errorHandler.tolerate(e);\n\t    }\n\t    if (tokenizer.errorHandler.tolerant) {\n\t        tokens.errors = tokenizer.errors();\n\t    }\n\t    return tokens;\n\t}\n\texports.tokenize = tokenize;\n\tvar syntax_1 = __webpack_require__(2);\n\texports.Syntax = syntax_1.Syntax;\n\t// Sync with *.json manifests.\n\texports.version = '4.0.1';\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar syntax_1 = __webpack_require__(2);\n\tvar CommentHandler = (function () {\n\t    function CommentHandler() {\n\t        this.attach = false;\n\t        this.comments = [];\n\t        this.stack = [];\n\t        this.leading = [];\n\t        this.trailing = [];\n\t    }\n\t    CommentHandler.prototype.insertInnerComments = function (node, metadata) {\n\t        //  innnerComments for properties empty block\n\t        //  `function a() {/** comments **\\/}`\n\t        if (node.type === syntax_1.Syntax.BlockStatement && node.body.length === 0) {\n\t            var innerComments = [];\n\t            for (var i = this.leading.length - 1; i >= 0; --i) {\n\t                var entry = this.leading[i];\n\t                if (metadata.end.offset >= entry.start) {\n\t                    innerComments.unshift(entry.comment);\n\t                    this.leading.splice(i, 1);\n\t                    this.trailing.splice(i, 1);\n\t                }\n\t            }\n\t            if (innerComments.length) {\n\t                node.innerComments = innerComments;\n\t            }\n\t        }\n\t    };\n\t    CommentHandler.prototype.findTrailingComments = function (metadata) {\n\t        var trailingComments = [];\n\t        if (this.trailing.length > 0) {\n\t            for (var i = this.trailing.length - 1; i >= 0; --i) {\n\t                var entry_1 = this.trailing[i];\n\t                if (entry_1.start >= metadata.end.offset) {\n\t                    trailingComments.unshift(entry_1.comment);\n\t                }\n\t            }\n\t            this.trailing.length = 0;\n\t            return trailingComments;\n\t        }\n\t        var entry = this.stack[this.stack.length - 1];\n\t        if (entry && entry.node.trailingComments) {\n\t            var firstComment = entry.node.trailingComments[0];\n\t            if (firstComment && firstComment.range[0] >= metadata.end.offset) {\n\t                trailingComments = entry.node.trailingComments;\n\t                delete entry.node.trailingComments;\n\t            }\n\t        }\n\t        return trailingComments;\n\t    };\n\t    CommentHandler.prototype.findLeadingComments = function (metadata) {\n\t        var leadingComments = [];\n\t        var target;\n\t        while (this.stack.length > 0) {\n\t            var entry = this.stack[this.stack.length - 1];\n\t            if (entry && entry.start >= metadata.start.offset) {\n\t                target = entry.node;\n\t                this.stack.pop();\n\t            }\n\t            else {\n\t                break;\n\t            }\n\t        }\n\t        if (target) {\n\t            var count = target.leadingComments ? target.leadingComments.length : 0;\n\t            for (var i = count - 1; i >= 0; --i) {\n\t                var comment = target.leadingComments[i];\n\t                if (comment.range[1] <= metadata.start.offset) {\n\t                    leadingComments.unshift(comment);\n\t                    target.leadingComments.splice(i, 1);\n\t                }\n\t            }\n\t            if (target.leadingComments && target.leadingComments.length === 0) {\n\t                delete target.leadingComments;\n\t            }\n\t            return leadingComments;\n\t        }\n\t        for (var i = this.leading.length - 1; i >= 0; --i) {\n\t            var entry = this.leading[i];\n\t            if (entry.start <= metadata.start.offset) {\n\t                leadingComments.unshift(entry.comment);\n\t                this.leading.splice(i, 1);\n\t            }\n\t        }\n\t        return leadingComments;\n\t    };\n\t    CommentHandler.prototype.visitNode = function (node, metadata) {\n\t        if (node.type === syntax_1.Syntax.Program && node.body.length > 0) {\n\t            return;\n\t        }\n\t        this.insertInnerComments(node, metadata);\n\t        var trailingComments = this.findTrailingComments(metadata);\n\t        var leadingComments = this.findLeadingComments(metadata);\n\t        if (leadingComments.length > 0) {\n\t            node.leadingComments = leadingComments;\n\t        }\n\t        if (trailingComments.length > 0) {\n\t            node.trailingComments = trailingComments;\n\t        }\n\t        this.stack.push({\n\t            node: node,\n\t            start: metadata.start.offset\n\t        });\n\t    };\n\t    CommentHandler.prototype.visitComment = function (node, metadata) {\n\t        var type = (node.type[0] === 'L') ? 'Line' : 'Block';\n\t        var comment = {\n\t            type: type,\n\t            value: node.value\n\t        };\n\t        if (node.range) {\n\t            comment.range = node.range;\n\t        }\n\t        if (node.loc) {\n\t            comment.loc = node.loc;\n\t        }\n\t        this.comments.push(comment);\n\t        if (this.attach) {\n\t            var entry = {\n\t                comment: {\n\t                    type: type,\n\t                    value: node.value,\n\t                    range: [metadata.start.offset, metadata.end.offset]\n\t                },\n\t                start: metadata.start.offset\n\t            };\n\t            if (node.loc) {\n\t                entry.comment.loc = node.loc;\n\t            }\n\t            node.type = type;\n\t            this.leading.push(entry);\n\t            this.trailing.push(entry);\n\t        }\n\t    };\n\t    CommentHandler.prototype.visit = function (node, metadata) {\n\t        if (node.type === 'LineComment') {\n\t            this.visitComment(node, metadata);\n\t        }\n\t        else if (node.type === 'BlockComment') {\n\t            this.visitComment(node, metadata);\n\t        }\n\t        else if (this.attach) {\n\t            this.visitNode(node, metadata);\n\t        }\n\t    };\n\t    return CommentHandler;\n\t}());\n\texports.CommentHandler = CommentHandler;\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\texports.Syntax = {\n\t    AssignmentExpression: 'AssignmentExpression',\n\t    AssignmentPattern: 'AssignmentPattern',\n\t    ArrayExpression: 'ArrayExpression',\n\t    ArrayPattern: 'ArrayPattern',\n\t    ArrowFunctionExpression: 'ArrowFunctionExpression',\n\t    AwaitExpression: 'AwaitExpression',\n\t    BlockStatement: 'BlockStatement',\n\t    BinaryExpression: 'BinaryExpression',\n\t    BreakStatement: 'BreakStatement',\n\t    CallExpression: 'CallExpression',\n\t    CatchClause: 'CatchClause',\n\t    ClassBody: 'ClassBody',\n\t    ClassDeclaration: 'ClassDeclaration',\n\t    ClassExpression: 'ClassExpression',\n\t    ConditionalExpression: 'ConditionalExpression',\n\t    ContinueStatement: 'ContinueStatement',\n\t    DoWhileStatement: 'DoWhileStatement',\n\t    DebuggerStatement: 'DebuggerStatement',\n\t    EmptyStatement: 'EmptyStatement',\n\t    ExportAllDeclaration: 'ExportAllDeclaration',\n\t    ExportDefaultDeclaration: 'ExportDefaultDeclaration',\n\t    ExportNamedDeclaration: 'ExportNamedDeclaration',\n\t    ExportSpecifier: 'ExportSpecifier',\n\t    ExpressionStatement: 'ExpressionStatement',\n\t    ForStatement: 'ForStatement',\n\t    ForOfStatement: 'ForOfStatement',\n\t    ForInStatement: 'ForInStatement',\n\t    FunctionDeclaration: 'FunctionDeclaration',\n\t    FunctionExpression: 'FunctionExpression',\n\t    Identifier: 'Identifier',\n\t    IfStatement: 'IfStatement',\n\t    ImportDeclaration: 'ImportDeclaration',\n\t    ImportDefaultSpecifier: 'ImportDefaultSpecifier',\n\t    ImportNamespaceSpecifier: 'ImportNamespaceSpecifier',\n\t    ImportSpecifier: 'ImportSpecifier',\n\t    Literal: 'Literal',\n\t    LabeledStatement: 'LabeledStatement',\n\t    LogicalExpression: 'LogicalExpression',\n\t    MemberExpression: 'MemberExpression',\n\t    MetaProperty: 'MetaProperty',\n\t    MethodDefinition: 'MethodDefinition',\n\t    NewExpression: 'NewExpression',\n\t    ObjectExpression: 'ObjectExpression',\n\t    ObjectPattern: 'ObjectPattern',\n\t    Program: 'Program',\n\t    Property: 'Property',\n\t    RestElement: 'RestElement',\n\t    ReturnStatement: 'ReturnStatement',\n\t    SequenceExpression: 'SequenceExpression',\n\t    SpreadElement: 'SpreadElement',\n\t    Super: 'Super',\n\t    SwitchCase: 'SwitchCase',\n\t    SwitchStatement: 'SwitchStatement',\n\t    TaggedTemplateExpression: 'TaggedTemplateExpression',\n\t    TemplateElement: 'TemplateElement',\n\t    TemplateLiteral: 'TemplateLiteral',\n\t    ThisExpression: 'ThisExpression',\n\t    ThrowStatement: 'ThrowStatement',\n\t    TryStatement: 'TryStatement',\n\t    UnaryExpression: 'UnaryExpression',\n\t    UpdateExpression: 'UpdateExpression',\n\t    VariableDeclaration: 'VariableDeclaration',\n\t    VariableDeclarator: 'VariableDeclarator',\n\t    WhileStatement: 'WhileStatement',\n\t    WithStatement: 'WithStatement',\n\t    YieldExpression: 'YieldExpression'\n\t};\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n/* istanbul ignore next */\n\tvar __extends = (this && this.__extends) || (function () {\n\t    var extendStatics = Object.setPrototypeOf ||\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n\t    return function (d, b) {\n\t        extendStatics(d, b);\n\t        function __() { this.constructor = d; }\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t    };\n\t})();\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar character_1 = __webpack_require__(4);\n\tvar JSXNode = __webpack_require__(5);\n\tvar jsx_syntax_1 = __webpack_require__(6);\n\tvar Node = __webpack_require__(7);\n\tvar parser_1 = __webpack_require__(8);\n\tvar token_1 = __webpack_require__(13);\n\tvar xhtml_entities_1 = __webpack_require__(14);\n\ttoken_1.TokenName[100 /* Identifier */] = 'JSXIdentifier';\n\ttoken_1.TokenName[101 /* Text */] = 'JSXText';\n\t// Fully qualified element name, e.g. <svg:path> returns \"svg:path\"\n\tfunction getQualifiedElementName(elementName) {\n\t    var qualifiedName;\n\t    switch (elementName.type) {\n\t        case jsx_syntax_1.JSXSyntax.JSXIdentifier:\n\t            var id = elementName;\n\t            qualifiedName = id.name;\n\t            break;\n\t        case jsx_syntax_1.JSXSyntax.JSXNamespacedName:\n\t            var ns = elementName;\n\t            qualifiedName = getQualifiedElementName(ns.namespace) + ':' +\n\t                getQualifiedElementName(ns.name);\n\t            break;\n\t        case jsx_syntax_1.JSXSyntax.JSXMemberExpression:\n\t            var expr = elementName;\n\t            qualifiedName = getQualifiedElementName(expr.object) + '.' +\n\t                getQualifiedElementName(expr.property);\n\t            break;\n\t        /* istanbul ignore next */\n\t        default:\n\t            break;\n\t    }\n\t    return qualifiedName;\n\t}\n\tvar JSXParser = (function (_super) {\n\t    __extends(JSXParser, _super);\n\t    function JSXParser(code, options, delegate) {\n\t        return _super.call(this, code, options, delegate) || this;\n\t    }\n\t    JSXParser.prototype.parsePrimaryExpression = function () {\n\t        return this.match('<') ? this.parseJSXRoot() : _super.prototype.parsePrimaryExpression.call(this);\n\t    };\n\t    JSXParser.prototype.startJSX = function () {\n\t        // Unwind the scanner before the lookahead token.\n\t        this.scanner.index = this.startMarker.index;\n\t        this.scanner.lineNumber = this.startMarker.line;\n\t        this.scanner.lineStart = this.startMarker.index - this.startMarker.column;\n\t    };\n\t    JSXParser.prototype.finishJSX = function () {\n\t        // Prime the next lookahead.\n\t        this.nextToken();\n\t    };\n\t    JSXParser.prototype.reenterJSX = function () {\n\t        this.startJSX();\n\t        this.expectJSX('}');\n\t        // Pop the closing '}' added from the lookahead.\n\t        if (this.config.tokens) {\n\t            this.tokens.pop();\n\t        }\n\t    };\n\t    JSXParser.prototype.createJSXNode = function () {\n\t        this.collectComments();\n\t        return {\n\t            index: this.scanner.index,\n\t            line: this.scanner.lineNumber,\n\t            column: this.scanner.index - this.scanner.lineStart\n\t        };\n\t    };\n\t    JSXParser.prototype.createJSXChildNode = function () {\n\t        return {\n\t            index: this.scanner.index,\n\t            line: this.scanner.lineNumber,\n\t            column: this.scanner.index - this.scanner.lineStart\n\t        };\n\t    };\n\t    JSXParser.prototype.scanXHTMLEntity = function (quote) {\n\t        var result = '&';\n\t        var valid = true;\n\t        var terminated = false;\n\t        var numeric = false;\n\t        var hex = false;\n\t        while (!this.scanner.eof() && valid && !terminated) {\n\t            var ch = this.scanner.source[this.scanner.index];\n\t            if (ch === quote) {\n\t                break;\n\t            }\n\t            terminated = (ch === ';');\n\t            result += ch;\n\t            ++this.scanner.index;\n\t            if (!terminated) {\n\t                switch (result.length) {\n\t                    case 2:\n\t                        // e.g. '&#123;'\n\t                        numeric = (ch === '#');\n\t                        break;\n\t                    case 3:\n\t                        if (numeric) {\n\t                            // e.g. '&#x41;'\n\t                            hex = (ch === 'x');\n\t                            valid = hex || character_1.Character.isDecimalDigit(ch.charCodeAt(0));\n\t                            numeric = numeric && !hex;\n\t                        }\n\t                        break;\n\t                    default:\n\t                        valid = valid && !(numeric && !character_1.Character.isDecimalDigit(ch.charCodeAt(0)));\n\t                        valid = valid && !(hex && !character_1.Character.isHexDigit(ch.charCodeAt(0)));\n\t                        break;\n\t                }\n\t            }\n\t        }\n\t        if (valid && terminated && result.length > 2) {\n\t            // e.g. '&#x41;' becomes just '#x41'\n\t            var str = result.substr(1, result.length - 2);\n\t            if (numeric && str.length > 1) {\n\t                result = String.fromCharCode(parseInt(str.substr(1), 10));\n\t            }\n\t            else if (hex && str.length > 2) {\n\t                result = String.fromCharCode(parseInt('0' + str.substr(1), 16));\n\t            }\n\t            else if (!numeric && !hex && xhtml_entities_1.XHTMLEntities[str]) {\n\t                result = xhtml_entities_1.XHTMLEntities[str];\n\t            }\n\t        }\n\t        return result;\n\t    };\n\t    // Scan the next JSX token. This replaces Scanner#lex when in JSX mode.\n\t    JSXParser.prototype.lexJSX = function () {\n\t        var cp = this.scanner.source.charCodeAt(this.scanner.index);\n\t        // < > / : = { }\n\t        if (cp === 60 || cp === 62 || cp === 47 || cp === 58 || cp === 61 || cp === 123 || cp === 125) {\n\t            var value = this.scanner.source[this.scanner.index++];\n\t            return {\n\t                type: 7 /* Punctuator */,\n\t                value: value,\n\t                lineNumber: this.scanner.lineNumber,\n\t                lineStart: this.scanner.lineStart,\n\t                start: this.scanner.index - 1,\n\t                end: this.scanner.index\n\t            };\n\t        }\n\t        // \" '\n\t        if (cp === 34 || cp === 39) {\n\t            var start = this.scanner.index;\n\t            var quote = this.scanner.source[this.scanner.index++];\n\t            var str = '';\n\t            while (!this.scanner.eof()) {\n\t                var ch = this.scanner.source[this.scanner.index++];\n\t                if (ch === quote) {\n\t                    break;\n\t                }\n\t                else if (ch === '&') {\n\t                    str += this.scanXHTMLEntity(quote);\n\t                }\n\t                else {\n\t                    str += ch;\n\t                }\n\t            }\n\t            return {\n\t                type: 8 /* StringLiteral */,\n\t                value: str,\n\t                lineNumber: this.scanner.lineNumber,\n\t                lineStart: this.scanner.lineStart,\n\t                start: start,\n\t                end: this.scanner.index\n\t            };\n\t        }\n\t        // ... or .\n\t        if (cp === 46) {\n\t            var n1 = this.scanner.source.charCodeAt(this.scanner.index + 1);\n\t            var n2 = this.scanner.source.charCodeAt(this.scanner.index + 2);\n\t            var value = (n1 === 46 && n2 === 46) ? '...' : '.';\n\t            var start = this.scanner.index;\n\t            this.scanner.index += value.length;\n\t            return {\n\t                type: 7 /* Punctuator */,\n\t                value: value,\n\t                lineNumber: this.scanner.lineNumber,\n\t                lineStart: this.scanner.lineStart,\n\t                start: start,\n\t                end: this.scanner.index\n\t            };\n\t        }\n\t        // `\n\t        if (cp === 96) {\n\t            // Only placeholder, since it will be rescanned as a real assignment expression.\n\t            return {\n\t                type: 10 /* Template */,\n\t                value: '',\n\t                lineNumber: this.scanner.lineNumber,\n\t                lineStart: this.scanner.lineStart,\n\t                start: this.scanner.index,\n\t                end: this.scanner.index\n\t            };\n\t        }\n\t        // Identifer can not contain backslash (char code 92).\n\t        if (character_1.Character.isIdentifierStart(cp) && (cp !== 92)) {\n\t            var start = this.scanner.index;\n\t            ++this.scanner.index;\n\t            while (!this.scanner.eof()) {\n\t                var ch = this.scanner.source.charCodeAt(this.scanner.index);\n\t                if (character_1.Character.isIdentifierPart(ch) && (ch !== 92)) {\n\t                    ++this.scanner.index;\n\t                }\n\t                else if (ch === 45) {\n\t                    // Hyphen (char code 45) can be part of an identifier.\n\t                    ++this.scanner.index;\n\t                }\n\t                else {\n\t                    break;\n\t                }\n\t            }\n\t            var id = this.scanner.source.slice(start, this.scanner.index);\n\t            return {\n\t                type: 100 /* Identifier */,\n\t                value: id,\n\t                lineNumber: this.scanner.lineNumber,\n\t                lineStart: this.scanner.lineStart,\n\t                start: start,\n\t                end: this.scanner.index\n\t            };\n\t        }\n\t        return this.scanner.lex();\n\t    };\n\t    JSXParser.prototype.nextJSXToken = function () {\n\t        this.collectComments();\n\t        this.startMarker.index = this.scanner.index;\n\t        this.startMarker.line = this.scanner.lineNumber;\n\t        this.startMarker.column = this.scanner.index - this.scanner.lineStart;\n\t        var token = this.lexJSX();\n\t        this.lastMarker.index = this.scanner.index;\n\t        this.lastMarker.line = this.scanner.lineNumber;\n\t        this.lastMarker.column = this.scanner.index - this.scanner.lineStart;\n\t        if (this.config.tokens) {\n\t            this.tokens.push(this.convertToken(token));\n\t        }\n\t        return token;\n\t    };\n\t    JSXParser.prototype.nextJSXText = function () {\n\t        this.startMarker.index = this.scanner.index;\n\t        this.startMarker.line = this.scanner.lineNumber;\n\t        this.startMarker.column = this.scanner.index - this.scanner.lineStart;\n\t        var start = this.scanner.index;\n\t        var text = '';\n\t        while (!this.scanner.eof()) {\n\t            var ch = this.scanner.source[this.scanner.index];\n\t            if (ch === '{' || ch === '<') {\n\t                break;\n\t            }\n\t            ++this.scanner.index;\n\t            text += ch;\n\t            if (character_1.Character.isLineTerminator(ch.charCodeAt(0))) {\n\t                ++this.scanner.lineNumber;\n\t                if (ch === '\\r' && this.scanner.source[this.scanner.index] === '\\n') {\n\t                    ++this.scanner.index;\n\t                }\n\t                this.scanner.lineStart = this.scanner.index;\n\t            }\n\t        }\n\t        this.lastMarker.index = this.scanner.index;\n\t        this.lastMarker.line = this.scanner.lineNumber;\n\t        this.lastMarker.column = this.scanner.index - this.scanner.lineStart;\n\t        var token = {\n\t            type: 101 /* Text */,\n\t            value: text,\n\t            lineNumber: this.scanner.lineNumber,\n\t            lineStart: this.scanner.lineStart,\n\t            start: start,\n\t            end: this.scanner.index\n\t        };\n\t        if ((text.length > 0) && this.config.tokens) {\n\t            this.tokens.push(this.convertToken(token));\n\t        }\n\t        return token;\n\t    };\n\t    JSXParser.prototype.peekJSXToken = function () {\n\t        var state = this.scanner.saveState();\n\t        this.scanner.scanComments();\n\t        var next = this.lexJSX();\n\t        this.scanner.restoreState(state);\n\t        return next;\n\t    };\n\t    // Expect the next JSX token to match the specified punctuator.\n\t    // If not, an exception will be thrown.\n\t    JSXParser.prototype.expectJSX = function (value) {\n\t        var token = this.nextJSXToken();\n\t        if (token.type !== 7 /* Punctuator */ || token.value !== value) {\n\t            this.throwUnexpectedToken(token);\n\t        }\n\t    };\n\t    // Return true if the next JSX token matches the specified punctuator.\n\t    JSXParser.prototype.matchJSX = function (value) {\n\t        var next = this.peekJSXToken();\n\t        return next.type === 7 /* Punctuator */ && next.value === value;\n\t    };\n\t    JSXParser.prototype.parseJSXIdentifier = function () {\n\t        var node = this.createJSXNode();\n\t        var token = this.nextJSXToken();\n\t        if (token.type !== 100 /* Identifier */) {\n\t            this.throwUnexpectedToken(token);\n\t        }\n\t        return this.finalize(node, new JSXNode.JSXIdentifier(token.value));\n\t    };\n\t    JSXParser.prototype.parseJSXElementName = function () {\n\t        var node = this.createJSXNode();\n\t        var elementName = this.parseJSXIdentifier();\n\t        if (this.matchJSX(':')) {\n\t            var namespace = elementName;\n\t            this.expectJSX(':');\n\t            var name_1 = this.parseJSXIdentifier();\n\t            elementName = this.finalize(node, new JSXNode.JSXNamespacedName(namespace, name_1));\n\t        }\n\t        else if (this.matchJSX('.')) {\n\t            while (this.matchJSX('.')) {\n\t                var object = elementName;\n\t                this.expectJSX('.');\n\t                var property = this.parseJSXIdentifier();\n\t                elementName = this.finalize(node, new JSXNode.JSXMemberExpression(object, property));\n\t            }\n\t        }\n\t        return elementName;\n\t    };\n\t    JSXParser.prototype.parseJSXAttributeName = function () {\n\t        var node = this.createJSXNode();\n\t        var attributeName;\n\t        var identifier = this.parseJSXIdentifier();\n\t        if (this.matchJSX(':')) {\n\t            var namespace = identifier;\n\t            this.expectJSX(':');\n\t            var name_2 = this.parseJSXIdentifier();\n\t            attributeName = this.finalize(node, new JSXNode.JSXNamespacedName(namespace, name_2));\n\t        }\n\t        else {\n\t            attributeName = identifier;\n\t        }\n\t        return attributeName;\n\t    };\n\t    JSXParser.prototype.parseJSXStringLiteralAttribute = function () {\n\t        var node = this.createJSXNode();\n\t        var token = this.nextJSXToken();\n\t        if (token.type !== 8 /* StringLiteral */) {\n\t            this.throwUnexpectedToken(token);\n\t        }\n\t        var raw = this.getTokenRaw(token);\n\t        return this.finalize(node, new Node.Literal(token.value, raw));\n\t    };\n\t    JSXParser.prototype.parseJSXExpressionAttribute = function () {\n\t        var node = this.createJSXNode();\n\t        this.expectJSX('{');\n\t        this.finishJSX();\n\t        if (this.match('}')) {\n\t            this.tolerateError('JSX attributes must only be assigned a non-empty expression');\n\t        }\n\t        var expression = this.parseAssignmentExpression();\n\t        this.reenterJSX();\n\t        return this.finalize(node, new JSXNode.JSXExpressionContainer(expression));\n\t    };\n\t    JSXParser.prototype.parseJSXAttributeValue = function () {\n\t        return this.matchJSX('{') ? this.parseJSXExpressionAttribute() :\n\t            this.matchJSX('<') ? this.parseJSXElement() : this.parseJSXStringLiteralAttribute();\n\t    };\n\t    JSXParser.prototype.parseJSXNameValueAttribute = function () {\n\t        var node = this.createJSXNode();\n\t        var name = this.parseJSXAttributeName();\n\t        var value = null;\n\t        if (this.matchJSX('=')) {\n\t            this.expectJSX('=');\n\t            value = this.parseJSXAttributeValue();\n\t        }\n\t        return this.finalize(node, new JSXNode.JSXAttribute(name, value));\n\t    };\n\t    JSXParser.prototype.parseJSXSpreadAttribute = function () {\n\t        var node = this.createJSXNode();\n\t        this.expectJSX('{');\n\t        this.expectJSX('...');\n\t        this.finishJSX();\n\t        var argument = this.parseAssignmentExpression();\n\t        this.reenterJSX();\n\t        return this.finalize(node, new JSXNode.JSXSpreadAttribute(argument));\n\t    };\n\t    JSXParser.prototype.parseJSXAttributes = function () {\n\t        var attributes = [];\n\t        while (!this.matchJSX('/') && !this.matchJSX('>')) {\n\t            var attribute = this.matchJSX('{') ? this.parseJSXSpreadAttribute() :\n\t                this.parseJSXNameValueAttribute();\n\t            attributes.push(attribute);\n\t        }\n\t        return attributes;\n\t    };\n\t    JSXParser.prototype.parseJSXOpeningElement = function () {\n\t        var node = this.createJSXNode();\n\t        this.expectJSX('<');\n\t        var name = this.parseJSXElementName();\n\t        var attributes = this.parseJSXAttributes();\n\t        var selfClosing = this.matchJSX('/');\n\t        if (selfClosing) {\n\t            this.expectJSX('/');\n\t        }\n\t        this.expectJSX('>');\n\t        return this.finalize(node, new JSXNode.JSXOpeningElement(name, selfClosing, attributes));\n\t    };\n\t    JSXParser.prototype.parseJSXBoundaryElement = function () {\n\t        var node = this.createJSXNode();\n\t        this.expectJSX('<');\n\t        if (this.matchJSX('/')) {\n\t            this.expectJSX('/');\n\t            var name_3 = this.parseJSXElementName();\n\t            this.expectJSX('>');\n\t            return this.finalize(node, new JSXNode.JSXClosingElement(name_3));\n\t        }\n\t        var name = this.parseJSXElementName();\n\t        var attributes = this.parseJSXAttributes();\n\t        var selfClosing = this.matchJSX('/');\n\t        if (selfClosing) {\n\t            this.expectJSX('/');\n\t        }\n\t        this.expectJSX('>');\n\t        return this.finalize(node, new JSXNode.JSXOpeningElement(name, selfClosing, attributes));\n\t    };\n\t    JSXParser.prototype.parseJSXEmptyExpression = function () {\n\t        var node = this.createJSXChildNode();\n\t        this.collectComments();\n\t        this.lastMarker.index = this.scanner.index;\n\t        this.lastMarker.line = this.scanner.lineNumber;\n\t        this.lastMarker.column = this.scanner.index - this.scanner.lineStart;\n\t        return this.finalize(node, new JSXNode.JSXEmptyExpression());\n\t    };\n\t    JSXParser.prototype.parseJSXExpressionContainer = function () {\n\t        var node = this.createJSXNode();\n\t        this.expectJSX('{');\n\t        var expression;\n\t        if (this.matchJSX('}')) {\n\t            expression = this.parseJSXEmptyExpression();\n\t            this.expectJSX('}');\n\t        }\n\t        else {\n\t            this.finishJSX();\n\t            expression = this.parseAssignmentExpression();\n\t            this.reenterJSX();\n\t        }\n\t        return this.finalize(node, new JSXNode.JSXExpressionContainer(expression));\n\t    };\n\t    JSXParser.prototype.parseJSXChildren = function () {\n\t        var children = [];\n\t        while (!this.scanner.eof()) {\n\t            var node = this.createJSXChildNode();\n\t            var token = this.nextJSXText();\n\t            if (token.start < token.end) {\n\t                var raw = this.getTokenRaw(token);\n\t                var child = this.finalize(node, new JSXNode.JSXText(token.value, raw));\n\t                children.push(child);\n\t            }\n\t            if (this.scanner.source[this.scanner.index] === '{') {\n\t                var container = this.parseJSXExpressionContainer();\n\t                children.push(container);\n\t            }\n\t            else {\n\t                break;\n\t            }\n\t        }\n\t        return children;\n\t    };\n\t    JSXParser.prototype.parseComplexJSXElement = function (el) {\n\t        var stack = [];\n\t        while (!this.scanner.eof()) {\n\t            el.children = el.children.concat(this.parseJSXChildren());\n\t            var node = this.createJSXChildNode();\n\t            var element = this.parseJSXBoundaryElement();\n\t            if (element.type === jsx_syntax_1.JSXSyntax.JSXOpeningElement) {\n\t                var opening = element;\n\t                if (opening.selfClosing) {\n\t                    var child = this.finalize(node, new JSXNode.JSXElement(opening, [], null));\n\t                    el.children.push(child);\n\t                }\n\t                else {\n\t                    stack.push(el);\n\t                    el = { node: node, opening: opening, closing: null, children: [] };\n\t                }\n\t            }\n\t            if (element.type === jsx_syntax_1.JSXSyntax.JSXClosingElement) {\n\t                el.closing = element;\n\t                var open_1 = getQualifiedElementName(el.opening.name);\n\t                var close_1 = getQualifiedElementName(el.closing.name);\n\t                if (open_1 !== close_1) {\n\t                    this.tolerateError('Expected corresponding JSX closing tag for %0', open_1);\n\t                }\n\t                if (stack.length > 0) {\n\t                    var child = this.finalize(el.node, new JSXNode.JSXElement(el.opening, el.children, el.closing));\n\t                    el = stack[stack.length - 1];\n\t                    el.children.push(child);\n\t                    stack.pop();\n\t                }\n\t                else {\n\t                    break;\n\t                }\n\t            }\n\t        }\n\t        return el;\n\t    };\n\t    JSXParser.prototype.parseJSXElement = function () {\n\t        var node = this.createJSXNode();\n\t        var opening = this.parseJSXOpeningElement();\n\t        var children = [];\n\t        var closing = null;\n\t        if (!opening.selfClosing) {\n\t            var el = this.parseComplexJSXElement({ node: node, opening: opening, closing: closing, children: children });\n\t            children = el.children;\n\t            closing = el.closing;\n\t        }\n\t        return this.finalize(node, new JSXNode.JSXElement(opening, children, closing));\n\t    };\n\t    JSXParser.prototype.parseJSXRoot = function () {\n\t        // Pop the opening '<' added from the lookahead.\n\t        if (this.config.tokens) {\n\t            this.tokens.pop();\n\t        }\n\t        this.startJSX();\n\t        var element = this.parseJSXElement();\n\t        this.finishJSX();\n\t        return element;\n\t    };\n\t    JSXParser.prototype.isStartOfExpression = function () {\n\t        return _super.prototype.isStartOfExpression.call(this) || this.match('<');\n\t    };\n\t    return JSXParser;\n\t}(parser_1.Parser));\n\texports.JSXParser = JSXParser;\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\t// See also tools/generate-unicode-regex.js.\n\tvar Regex = {\n\t    // Unicode v8.0.0 NonAsciiIdentifierStart:\n\t    NonAsciiIdentifierStart: /[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B4\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2118-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309B-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AD\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF30-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDF00-\\uDF19]|\\uD806[\\uDCA0-\\uDCDF\\uDCFF\\uDEC0-\\uDEF8]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50\\uDF93-\\uDF9F]|\\uD82C[\\uDC00\\uDC01]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD83A[\\uDC00-\\uDCC4]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1]|\\uD87E[\\uDC00-\\uDE1D]/,\n\t    // Unicode v8.0.0 NonAsciiIdentifierPart:\n\t    NonAsciiIdentifierPart: /[\\xAA\\xB5\\xB7\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B4\\u08E3-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0AF9\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58-\\u0C5A\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D5F-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1369-\\u1371\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19DA\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2118-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AD\\uA7B0-\\uA7B7\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA8FD\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDDFD\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE0\\uDF00-\\uDF1F\\uDF30-\\uDF4A\\uDF50-\\uDF7A\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE38-\\uDE3A\\uDE3F\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE6\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC00-\\uDC46\\uDC66-\\uDC6F\\uDC7F-\\uDCBA\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD00-\\uDD34\\uDD36-\\uDD3F\\uDD50-\\uDD73\\uDD76\\uDD80-\\uDDC4\\uDDCA-\\uDDCC\\uDDD0-\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE37\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEEA\\uDEF0-\\uDEF9\\uDF00-\\uDF03\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3C-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF50\\uDF57\\uDF5D-\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC80-\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDB5\\uDDB8-\\uDDC0\\uDDD8-\\uDDDD\\uDE00-\\uDE40\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEB7\\uDEC0-\\uDEC9\\uDF00-\\uDF19\\uDF1D-\\uDF2B\\uDF30-\\uDF39]|\\uD806[\\uDCA0-\\uDCE9\\uDCFF\\uDEC0-\\uDEF8]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDED0-\\uDEED\\uDEF0-\\uDEF4\\uDF00-\\uDF36\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50-\\uDF7E\\uDF8F-\\uDF9F]|\\uD82C[\\uDC00\\uDC01]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD83A[\\uDC00-\\uDCC4\\uDCD0-\\uDCD6]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1]|\\uD87E[\\uDC00-\\uDE1D]|\\uDB40[\\uDD00-\\uDDEF]/\n\t};\n\texports.Character = {\n\t    /* tslint:disable:no-bitwise */\n\t    fromCodePoint: function (cp) {\n\t        return (cp < 0x10000) ? String.fromCharCode(cp) :\n\t            String.fromCharCode(0xD800 + ((cp - 0x10000) >> 10)) +\n\t                String.fromCharCode(0xDC00 + ((cp - 0x10000) & 1023));\n\t    },\n\t    // https://tc39.github.io/ecma262/#sec-white-space\n\t    isWhiteSpace: function (cp) {\n\t        return (cp === 0x20) || (cp === 0x09) || (cp === 0x0B) || (cp === 0x0C) || (cp === 0xA0) ||\n\t            (cp >= 0x1680 && [0x1680, 0x2000, 0x2001, 0x2002, 0x2003, 0x2004, 0x2005, 0x2006, 0x2007, 0x2008, 0x2009, 0x200A, 0x202F, 0x205F, 0x3000, 0xFEFF].indexOf(cp) >= 0);\n\t    },\n\t    // https://tc39.github.io/ecma262/#sec-line-terminators\n\t    isLineTerminator: function (cp) {\n\t        return (cp === 0x0A) || (cp === 0x0D) || (cp === 0x2028) || (cp === 0x2029);\n\t    },\n\t    // https://tc39.github.io/ecma262/#sec-names-and-keywords\n\t    isIdentifierStart: function (cp) {\n\t        return (cp === 0x24) || (cp === 0x5F) ||\n\t            (cp >= 0x41 && cp <= 0x5A) ||\n\t            (cp >= 0x61 && cp <= 0x7A) ||\n\t            (cp === 0x5C) ||\n\t            ((cp >= 0x80) && Regex.NonAsciiIdentifierStart.test(exports.Character.fromCodePoint(cp)));\n\t    },\n\t    isIdentifierPart: function (cp) {\n\t        return (cp === 0x24) || (cp === 0x5F) ||\n\t            (cp >= 0x41 && cp <= 0x5A) ||\n\t            (cp >= 0x61 && cp <= 0x7A) ||\n\t            (cp >= 0x30 && cp <= 0x39) ||\n\t            (cp === 0x5C) ||\n\t            ((cp >= 0x80) && Regex.NonAsciiIdentifierPart.test(exports.Character.fromCodePoint(cp)));\n\t    },\n\t    // https://tc39.github.io/ecma262/#sec-literals-numeric-literals\n\t    isDecimalDigit: function (cp) {\n\t        return (cp >= 0x30 && cp <= 0x39); // 0..9\n\t    },\n\t    isHexDigit: function (cp) {\n\t        return (cp >= 0x30 && cp <= 0x39) ||\n\t            (cp >= 0x41 && cp <= 0x46) ||\n\t            (cp >= 0x61 && cp <= 0x66); // a..f\n\t    },\n\t    isOctalDigit: function (cp) {\n\t        return (cp >= 0x30 && cp <= 0x37); // 0..7\n\t    }\n\t};\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar jsx_syntax_1 = __webpack_require__(6);\n\t/* tslint:disable:max-classes-per-file */\n\tvar JSXClosingElement = (function () {\n\t    function JSXClosingElement(name) {\n\t        this.type = jsx_syntax_1.JSXSyntax.JSXClosingElement;\n\t        this.name = name;\n\t    }\n\t    return JSXClosingElement;\n\t}());\n\texports.JSXClosingElement = JSXClosingElement;\n\tvar JSXElement = (function () {\n\t    function JSXElement(openingElement, children, closingElement) {\n\t        this.type = jsx_syntax_1.JSXSyntax.JSXElement;\n\t        this.openingElement = openingElement;\n\t        this.children = children;\n\t        this.closingElement = closingElement;\n\t    }\n\t    return JSXElement;\n\t}());\n\texports.JSXElement = JSXElement;\n\tvar JSXEmptyExpression = (function () {\n\t    function JSXEmptyExpression() {\n\t        this.type = jsx_syntax_1.JSXSyntax.JSXEmptyExpression;\n\t    }\n\t    return JSXEmptyExpression;\n\t}());\n\texports.JSXEmptyExpression = JSXEmptyExpression;\n\tvar JSXExpressionContainer = (function () {\n\t    function JSXExpressionContainer(expression) {\n\t        this.type = jsx_syntax_1.JSXSyntax.JSXExpressionContainer;\n\t        this.expression = expression;\n\t    }\n\t    return JSXExpressionContainer;\n\t}());\n\texports.JSXExpressionContainer = JSXExpressionContainer;\n\tvar JSXIdentifier = (function () {\n\t    function JSXIdentifier(name) {\n\t        this.type = jsx_syntax_1.JSXSyntax.JSXIdentifier;\n\t        this.name = name;\n\t    }\n\t    return JSXIdentifier;\n\t}());\n\texports.JSXIdentifier = JSXIdentifier;\n\tvar JSXMemberExpression = (function () {\n\t    function JSXMemberExpression(object, property) {\n\t        this.type = jsx_syntax_1.JSXSyntax.JSXMemberExpression;\n\t        this.object = object;\n\t        this.property = property;\n\t    }\n\t    return JSXMemberExpression;\n\t}());\n\texports.JSXMemberExpression = JSXMemberExpression;\n\tvar JSXAttribute = (function () {\n\t    function JSXAttribute(name, value) {\n\t        this.type = jsx_syntax_1.JSXSyntax.JSXAttribute;\n\t        this.name = name;\n\t        this.value = value;\n\t    }\n\t    return JSXAttribute;\n\t}());\n\texports.JSXAttribute = JSXAttribute;\n\tvar JSXNamespacedName = (function () {\n\t    function JSXNamespacedName(namespace, name) {\n\t        this.type = jsx_syntax_1.JSXSyntax.JSXNamespacedName;\n\t        this.namespace = namespace;\n\t        this.name = name;\n\t    }\n\t    return JSXNamespacedName;\n\t}());\n\texports.JSXNamespacedName = JSXNamespacedName;\n\tvar JSXOpeningElement = (function () {\n\t    function JSXOpeningElement(name, selfClosing, attributes) {\n\t        this.type = jsx_syntax_1.JSXSyntax.JSXOpeningElement;\n\t        this.name = name;\n\t        this.selfClosing = selfClosing;\n\t        this.attributes = attributes;\n\t    }\n\t    return JSXOpeningElement;\n\t}());\n\texports.JSXOpeningElement = JSXOpeningElement;\n\tvar JSXSpreadAttribute = (function () {\n\t    function JSXSpreadAttribute(argument) {\n\t        this.type = jsx_syntax_1.JSXSyntax.JSXSpreadAttribute;\n\t        this.argument = argument;\n\t    }\n\t    return JSXSpreadAttribute;\n\t}());\n\texports.JSXSpreadAttribute = JSXSpreadAttribute;\n\tvar JSXText = (function () {\n\t    function JSXText(value, raw) {\n\t        this.type = jsx_syntax_1.JSXSyntax.JSXText;\n\t        this.value = value;\n\t        this.raw = raw;\n\t    }\n\t    return JSXText;\n\t}());\n\texports.JSXText = JSXText;\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\texports.JSXSyntax = {\n\t    JSXAttribute: 'JSXAttribute',\n\t    JSXClosingElement: 'JSXClosingElement',\n\t    JSXElement: 'JSXElement',\n\t    JSXEmptyExpression: 'JSXEmptyExpression',\n\t    JSXExpressionContainer: 'JSXExpressionContainer',\n\t    JSXIdentifier: 'JSXIdentifier',\n\t    JSXMemberExpression: 'JSXMemberExpression',\n\t    JSXNamespacedName: 'JSXNamespacedName',\n\t    JSXOpeningElement: 'JSXOpeningElement',\n\t    JSXSpreadAttribute: 'JSXSpreadAttribute',\n\t    JSXText: 'JSXText'\n\t};\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar syntax_1 = __webpack_require__(2);\n\t/* tslint:disable:max-classes-per-file */\n\tvar ArrayExpression = (function () {\n\t    function ArrayExpression(elements) {\n\t        this.type = syntax_1.Syntax.ArrayExpression;\n\t        this.elements = elements;\n\t    }\n\t    return ArrayExpression;\n\t}());\n\texports.ArrayExpression = ArrayExpression;\n\tvar ArrayPattern = (function () {\n\t    function ArrayPattern(elements) {\n\t        this.type = syntax_1.Syntax.ArrayPattern;\n\t        this.elements = elements;\n\t    }\n\t    return ArrayPattern;\n\t}());\n\texports.ArrayPattern = ArrayPattern;\n\tvar ArrowFunctionExpression = (function () {\n\t    function ArrowFunctionExpression(params, body, expression) {\n\t        this.type = syntax_1.Syntax.ArrowFunctionExpression;\n\t        this.id = null;\n\t        this.params = params;\n\t        this.body = body;\n\t        this.generator = false;\n\t        this.expression = expression;\n\t        this.async = false;\n\t    }\n\t    return ArrowFunctionExpression;\n\t}());\n\texports.ArrowFunctionExpression = ArrowFunctionExpression;\n\tvar AssignmentExpression = (function () {\n\t    function AssignmentExpression(operator, left, right) {\n\t        this.type = syntax_1.Syntax.AssignmentExpression;\n\t        this.operator = operator;\n\t        this.left = left;\n\t        this.right = right;\n\t    }\n\t    return AssignmentExpression;\n\t}());\n\texports.AssignmentExpression = AssignmentExpression;\n\tvar AssignmentPattern = (function () {\n\t    function AssignmentPattern(left, right) {\n\t        this.type = syntax_1.Syntax.AssignmentPattern;\n\t        this.left = left;\n\t        this.right = right;\n\t    }\n\t    return AssignmentPattern;\n\t}());\n\texports.AssignmentPattern = AssignmentPattern;\n\tvar AsyncArrowFunctionExpression = (function () {\n\t    function AsyncArrowFunctionExpression(params, body, expression) {\n\t        this.type = syntax_1.Syntax.ArrowFunctionExpression;\n\t        this.id = null;\n\t        this.params = params;\n\t        this.body = body;\n\t        this.generator = false;\n\t        this.expression = expression;\n\t        this.async = true;\n\t    }\n\t    return AsyncArrowFunctionExpression;\n\t}());\n\texports.AsyncArrowFunctionExpression = AsyncArrowFunctionExpression;\n\tvar AsyncFunctionDeclaration = (function () {\n\t    function AsyncFunctionDeclaration(id, params, body) {\n\t        this.type = syntax_1.Syntax.FunctionDeclaration;\n\t        this.id = id;\n\t        this.params = params;\n\t        this.body = body;\n\t        this.generator = false;\n\t        this.expression = false;\n\t        this.async = true;\n\t    }\n\t    return AsyncFunctionDeclaration;\n\t}());\n\texports.AsyncFunctionDeclaration = AsyncFunctionDeclaration;\n\tvar AsyncFunctionExpression = (function () {\n\t    function AsyncFunctionExpression(id, params, body) {\n\t        this.type = syntax_1.Syntax.FunctionExpression;\n\t        this.id = id;\n\t        this.params = params;\n\t        this.body = body;\n\t        this.generator = false;\n\t        this.expression = false;\n\t        this.async = true;\n\t    }\n\t    return AsyncFunctionExpression;\n\t}());\n\texports.AsyncFunctionExpression = AsyncFunctionExpression;\n\tvar AwaitExpression = (function () {\n\t    function AwaitExpression(argument) {\n\t        this.type = syntax_1.Syntax.AwaitExpression;\n\t        this.argument = argument;\n\t    }\n\t    return AwaitExpression;\n\t}());\n\texports.AwaitExpression = AwaitExpression;\n\tvar BinaryExpression = (function () {\n\t    function BinaryExpression(operator, left, right) {\n\t        var logical = (operator === '||' || operator === '&&');\n\t        this.type = logical ? syntax_1.Syntax.LogicalExpression : syntax_1.Syntax.BinaryExpression;\n\t        this.operator = operator;\n\t        this.left = left;\n\t        this.right = right;\n\t    }\n\t    return BinaryExpression;\n\t}());\n\texports.BinaryExpression = BinaryExpression;\n\tvar BlockStatement = (function () {\n\t    function BlockStatement(body) {\n\t        this.type = syntax_1.Syntax.BlockStatement;\n\t        this.body = body;\n\t    }\n\t    return BlockStatement;\n\t}());\n\texports.BlockStatement = BlockStatement;\n\tvar BreakStatement = (function () {\n\t    function BreakStatement(label) {\n\t        this.type = syntax_1.Syntax.BreakStatement;\n\t        this.label = label;\n\t    }\n\t    return BreakStatement;\n\t}());\n\texports.BreakStatement = BreakStatement;\n\tvar CallExpression = (function () {\n\t    function CallExpression(callee, args) {\n\t        this.type = syntax_1.Syntax.CallExpression;\n\t        this.callee = callee;\n\t        this.arguments = args;\n\t    }\n\t    return CallExpression;\n\t}());\n\texports.CallExpression = CallExpression;\n\tvar CatchClause = (function () {\n\t    function CatchClause(param, body) {\n\t        this.type = syntax_1.Syntax.CatchClause;\n\t        this.param = param;\n\t        this.body = body;\n\t    }\n\t    return CatchClause;\n\t}());\n\texports.CatchClause = CatchClause;\n\tvar ClassBody = (function () {\n\t    function ClassBody(body) {\n\t        this.type = syntax_1.Syntax.ClassBody;\n\t        this.body = body;\n\t    }\n\t    return ClassBody;\n\t}());\n\texports.ClassBody = ClassBody;\n\tvar ClassDeclaration = (function () {\n\t    function ClassDeclaration(id, superClass, body) {\n\t        this.type = syntax_1.Syntax.ClassDeclaration;\n\t        this.id = id;\n\t        this.superClass = superClass;\n\t        this.body = body;\n\t    }\n\t    return ClassDeclaration;\n\t}());\n\texports.ClassDeclaration = ClassDeclaration;\n\tvar ClassExpression = (function () {\n\t    function ClassExpression(id, superClass, body) {\n\t        this.type = syntax_1.Syntax.ClassExpression;\n\t        this.id = id;\n\t        this.superClass = superClass;\n\t        this.body = body;\n\t    }\n\t    return ClassExpression;\n\t}());\n\texports.ClassExpression = ClassExpression;\n\tvar ComputedMemberExpression = (function () {\n\t    function ComputedMemberExpression(object, property) {\n\t        this.type = syntax_1.Syntax.MemberExpression;\n\t        this.computed = true;\n\t        this.object = object;\n\t        this.property = property;\n\t    }\n\t    return ComputedMemberExpression;\n\t}());\n\texports.ComputedMemberExpression = ComputedMemberExpression;\n\tvar ConditionalExpression = (function () {\n\t    function ConditionalExpression(test, consequent, alternate) {\n\t        this.type = syntax_1.Syntax.ConditionalExpression;\n\t        this.test = test;\n\t        this.consequent = consequent;\n\t        this.alternate = alternate;\n\t    }\n\t    return ConditionalExpression;\n\t}());\n\texports.ConditionalExpression = ConditionalExpression;\n\tvar ContinueStatement = (function () {\n\t    function ContinueStatement(label) {\n\t        this.type = syntax_1.Syntax.ContinueStatement;\n\t        this.label = label;\n\t    }\n\t    return ContinueStatement;\n\t}());\n\texports.ContinueStatement = ContinueStatement;\n\tvar DebuggerStatement = (function () {\n\t    function DebuggerStatement() {\n\t        this.type = syntax_1.Syntax.DebuggerStatement;\n\t    }\n\t    return DebuggerStatement;\n\t}());\n\texports.DebuggerStatement = DebuggerStatement;\n\tvar Directive = (function () {\n\t    function Directive(expression, directive) {\n\t        this.type = syntax_1.Syntax.ExpressionStatement;\n\t        this.expression = expression;\n\t        this.directive = directive;\n\t    }\n\t    return Directive;\n\t}());\n\texports.Directive = Directive;\n\tvar DoWhileStatement = (function () {\n\t    function DoWhileStatement(body, test) {\n\t        this.type = syntax_1.Syntax.DoWhileStatement;\n\t        this.body = body;\n\t        this.test = test;\n\t    }\n\t    return DoWhileStatement;\n\t}());\n\texports.DoWhileStatement = DoWhileStatement;\n\tvar EmptyStatement = (function () {\n\t    function EmptyStatement() {\n\t        this.type = syntax_1.Syntax.EmptyStatement;\n\t    }\n\t    return EmptyStatement;\n\t}());\n\texports.EmptyStatement = EmptyStatement;\n\tvar ExportAllDeclaration = (function () {\n\t    function ExportAllDeclaration(source) {\n\t        this.type = syntax_1.Syntax.ExportAllDeclaration;\n\t        this.source = source;\n\t    }\n\t    return ExportAllDeclaration;\n\t}());\n\texports.ExportAllDeclaration = ExportAllDeclaration;\n\tvar ExportDefaultDeclaration = (function () {\n\t    function ExportDefaultDeclaration(declaration) {\n\t        this.type = syntax_1.Syntax.ExportDefaultDeclaration;\n\t        this.declaration = declaration;\n\t    }\n\t    return ExportDefaultDeclaration;\n\t}());\n\texports.ExportDefaultDeclaration = ExportDefaultDeclaration;\n\tvar ExportNamedDeclaration = (function () {\n\t    function ExportNamedDeclaration(declaration, specifiers, source) {\n\t        this.type = syntax_1.Syntax.ExportNamedDeclaration;\n\t        this.declaration = declaration;\n\t        this.specifiers = specifiers;\n\t        this.source = source;\n\t    }\n\t    return ExportNamedDeclaration;\n\t}());\n\texports.ExportNamedDeclaration = ExportNamedDeclaration;\n\tvar ExportSpecifier = (function () {\n\t    function ExportSpecifier(local, exported) {\n\t        this.type = syntax_1.Syntax.ExportSpecifier;\n\t        this.exported = exported;\n\t        this.local = local;\n\t    }\n\t    return ExportSpecifier;\n\t}());\n\texports.ExportSpecifier = ExportSpecifier;\n\tvar ExpressionStatement = (function () {\n\t    function ExpressionStatement(expression) {\n\t        this.type = syntax_1.Syntax.ExpressionStatement;\n\t        this.expression = expression;\n\t    }\n\t    return ExpressionStatement;\n\t}());\n\texports.ExpressionStatement = ExpressionStatement;\n\tvar ForInStatement = (function () {\n\t    function ForInStatement(left, right, body) {\n\t        this.type = syntax_1.Syntax.ForInStatement;\n\t        this.left = left;\n\t        this.right = right;\n\t        this.body = body;\n\t        this.each = false;\n\t    }\n\t    return ForInStatement;\n\t}());\n\texports.ForInStatement = ForInStatement;\n\tvar ForOfStatement = (function () {\n\t    function ForOfStatement(left, right, body) {\n\t        this.type = syntax_1.Syntax.ForOfStatement;\n\t        this.left = left;\n\t        this.right = right;\n\t        this.body = body;\n\t    }\n\t    return ForOfStatement;\n\t}());\n\texports.ForOfStatement = ForOfStatement;\n\tvar ForStatement = (function () {\n\t    function ForStatement(init, test, update, body) {\n\t        this.type = syntax_1.Syntax.ForStatement;\n\t        this.init = init;\n\t        this.test = test;\n\t        this.update = update;\n\t        this.body = body;\n\t    }\n\t    return ForStatement;\n\t}());\n\texports.ForStatement = ForStatement;\n\tvar FunctionDeclaration = (function () {\n\t    function FunctionDeclaration(id, params, body, generator) {\n\t        this.type = syntax_1.Syntax.FunctionDeclaration;\n\t        this.id = id;\n\t        this.params = params;\n\t        this.body = body;\n\t        this.generator = generator;\n\t        this.expression = false;\n\t        this.async = false;\n\t    }\n\t    return FunctionDeclaration;\n\t}());\n\texports.FunctionDeclaration = FunctionDeclaration;\n\tvar FunctionExpression = (function () {\n\t    function FunctionExpression(id, params, body, generator) {\n\t        this.type = syntax_1.Syntax.FunctionExpression;\n\t        this.id = id;\n\t        this.params = params;\n\t        this.body = body;\n\t        this.generator = generator;\n\t        this.expression = false;\n\t        this.async = false;\n\t    }\n\t    return FunctionExpression;\n\t}());\n\texports.FunctionExpression = FunctionExpression;\n\tvar Identifier = (function () {\n\t    function Identifier(name) {\n\t        this.type = syntax_1.Syntax.Identifier;\n\t        this.name = name;\n\t    }\n\t    return Identifier;\n\t}());\n\texports.Identifier = Identifier;\n\tvar IfStatement = (function () {\n\t    function IfStatement(test, consequent, alternate) {\n\t        this.type = syntax_1.Syntax.IfStatement;\n\t        this.test = test;\n\t        this.consequent = consequent;\n\t        this.alternate = alternate;\n\t    }\n\t    return IfStatement;\n\t}());\n\texports.IfStatement = IfStatement;\n\tvar ImportDeclaration = (function () {\n\t    function ImportDeclaration(specifiers, source) {\n\t        this.type = syntax_1.Syntax.ImportDeclaration;\n\t        this.specifiers = specifiers;\n\t        this.source = source;\n\t    }\n\t    return ImportDeclaration;\n\t}());\n\texports.ImportDeclaration = ImportDeclaration;\n\tvar ImportDefaultSpecifier = (function () {\n\t    function ImportDefaultSpecifier(local) {\n\t        this.type = syntax_1.Syntax.ImportDefaultSpecifier;\n\t        this.local = local;\n\t    }\n\t    return ImportDefaultSpecifier;\n\t}());\n\texports.ImportDefaultSpecifier = ImportDefaultSpecifier;\n\tvar ImportNamespaceSpecifier = (function () {\n\t    function ImportNamespaceSpecifier(local) {\n\t        this.type = syntax_1.Syntax.ImportNamespaceSpecifier;\n\t        this.local = local;\n\t    }\n\t    return ImportNamespaceSpecifier;\n\t}());\n\texports.ImportNamespaceSpecifier = ImportNamespaceSpecifier;\n\tvar ImportSpecifier = (function () {\n\t    function ImportSpecifier(local, imported) {\n\t        this.type = syntax_1.Syntax.ImportSpecifier;\n\t        this.local = local;\n\t        this.imported = imported;\n\t    }\n\t    return ImportSpecifier;\n\t}());\n\texports.ImportSpecifier = ImportSpecifier;\n\tvar LabeledStatement = (function () {\n\t    function LabeledStatement(label, body) {\n\t        this.type = syntax_1.Syntax.LabeledStatement;\n\t        this.label = label;\n\t        this.body = body;\n\t    }\n\t    return LabeledStatement;\n\t}());\n\texports.LabeledStatement = LabeledStatement;\n\tvar Literal = (function () {\n\t    function Literal(value, raw) {\n\t        this.type = syntax_1.Syntax.Literal;\n\t        this.value = value;\n\t        this.raw = raw;\n\t    }\n\t    return Literal;\n\t}());\n\texports.Literal = Literal;\n\tvar MetaProperty = (function () {\n\t    function MetaProperty(meta, property) {\n\t        this.type = syntax_1.Syntax.MetaProperty;\n\t        this.meta = meta;\n\t        this.property = property;\n\t    }\n\t    return MetaProperty;\n\t}());\n\texports.MetaProperty = MetaProperty;\n\tvar MethodDefinition = (function () {\n\t    function MethodDefinition(key, computed, value, kind, isStatic) {\n\t        this.type = syntax_1.Syntax.MethodDefinition;\n\t        this.key = key;\n\t        this.computed = computed;\n\t        this.value = value;\n\t        this.kind = kind;\n\t        this.static = isStatic;\n\t    }\n\t    return MethodDefinition;\n\t}());\n\texports.MethodDefinition = MethodDefinition;\n\tvar Module = (function () {\n\t    function Module(body) {\n\t        this.type = syntax_1.Syntax.Program;\n\t        this.body = body;\n\t        this.sourceType = 'module';\n\t    }\n\t    return Module;\n\t}());\n\texports.Module = Module;\n\tvar NewExpression = (function () {\n\t    function NewExpression(callee, args) {\n\t        this.type = syntax_1.Syntax.NewExpression;\n\t        this.callee = callee;\n\t        this.arguments = args;\n\t    }\n\t    return NewExpression;\n\t}());\n\texports.NewExpression = NewExpression;\n\tvar ObjectExpression = (function () {\n\t    function ObjectExpression(properties) {\n\t        this.type = syntax_1.Syntax.ObjectExpression;\n\t        this.properties = properties;\n\t    }\n\t    return ObjectExpression;\n\t}());\n\texports.ObjectExpression = ObjectExpression;\n\tvar ObjectPattern = (function () {\n\t    function ObjectPattern(properties) {\n\t        this.type = syntax_1.Syntax.ObjectPattern;\n\t        this.properties = properties;\n\t    }\n\t    return ObjectPattern;\n\t}());\n\texports.ObjectPattern = ObjectPattern;\n\tvar Property = (function () {\n\t    function Property(kind, key, computed, value, method, shorthand) {\n\t        this.type = syntax_1.Syntax.Property;\n\t        this.key = key;\n\t        this.computed = computed;\n\t        this.value = value;\n\t        this.kind = kind;\n\t        this.method = method;\n\t        this.shorthand = shorthand;\n\t    }\n\t    return Property;\n\t}());\n\texports.Property = Property;\n\tvar RegexLiteral = (function () {\n\t    function RegexLiteral(value, raw, pattern, flags) {\n\t        this.type = syntax_1.Syntax.Literal;\n\t        this.value = value;\n\t        this.raw = raw;\n\t        this.regex = { pattern: pattern, flags: flags };\n\t    }\n\t    return RegexLiteral;\n\t}());\n\texports.RegexLiteral = RegexLiteral;\n\tvar RestElement = (function () {\n\t    function RestElement(argument) {\n\t        this.type = syntax_1.Syntax.RestElement;\n\t        this.argument = argument;\n\t    }\n\t    return RestElement;\n\t}());\n\texports.RestElement = RestElement;\n\tvar ReturnStatement = (function () {\n\t    function ReturnStatement(argument) {\n\t        this.type = syntax_1.Syntax.ReturnStatement;\n\t        this.argument = argument;\n\t    }\n\t    return ReturnStatement;\n\t}());\n\texports.ReturnStatement = ReturnStatement;\n\tvar Script = (function () {\n\t    function Script(body) {\n\t        this.type = syntax_1.Syntax.Program;\n\t        this.body = body;\n\t        this.sourceType = 'script';\n\t    }\n\t    return Script;\n\t}());\n\texports.Script = Script;\n\tvar SequenceExpression = (function () {\n\t    function SequenceExpression(expressions) {\n\t        this.type = syntax_1.Syntax.SequenceExpression;\n\t        this.expressions = expressions;\n\t    }\n\t    return SequenceExpression;\n\t}());\n\texports.SequenceExpression = SequenceExpression;\n\tvar SpreadElement = (function () {\n\t    function SpreadElement(argument) {\n\t        this.type = syntax_1.Syntax.SpreadElement;\n\t        this.argument = argument;\n\t    }\n\t    return SpreadElement;\n\t}());\n\texports.SpreadElement = SpreadElement;\n\tvar StaticMemberExpression = (function () {\n\t    function StaticMemberExpression(object, property) {\n\t        this.type = syntax_1.Syntax.MemberExpression;\n\t        this.computed = false;\n\t        this.object = object;\n\t        this.property = property;\n\t    }\n\t    return StaticMemberExpression;\n\t}());\n\texports.StaticMemberExpression = StaticMemberExpression;\n\tvar Super = (function () {\n\t    function Super() {\n\t        this.type = syntax_1.Syntax.Super;\n\t    }\n\t    return Super;\n\t}());\n\texports.Super = Super;\n\tvar SwitchCase = (function () {\n\t    function SwitchCase(test, consequent) {\n\t        this.type = syntax_1.Syntax.SwitchCase;\n\t        this.test = test;\n\t        this.consequent = consequent;\n\t    }\n\t    return SwitchCase;\n\t}());\n\texports.SwitchCase = SwitchCase;\n\tvar SwitchStatement = (function () {\n\t    function SwitchStatement(discriminant, cases) {\n\t        this.type = syntax_1.Syntax.SwitchStatement;\n\t        this.discriminant = discriminant;\n\t        this.cases = cases;\n\t    }\n\t    return SwitchStatement;\n\t}());\n\texports.SwitchStatement = SwitchStatement;\n\tvar TaggedTemplateExpression = (function () {\n\t    function TaggedTemplateExpression(tag, quasi) {\n\t        this.type = syntax_1.Syntax.TaggedTemplateExpression;\n\t        this.tag = tag;\n\t        this.quasi = quasi;\n\t    }\n\t    return TaggedTemplateExpression;\n\t}());\n\texports.TaggedTemplateExpression = TaggedTemplateExpression;\n\tvar TemplateElement = (function () {\n\t    function TemplateElement(value, tail) {\n\t        this.type = syntax_1.Syntax.TemplateElement;\n\t        this.value = value;\n\t        this.tail = tail;\n\t    }\n\t    return TemplateElement;\n\t}());\n\texports.TemplateElement = TemplateElement;\n\tvar TemplateLiteral = (function () {\n\t    function TemplateLiteral(quasis, expressions) {\n\t        this.type = syntax_1.Syntax.TemplateLiteral;\n\t        this.quasis = quasis;\n\t        this.expressions = expressions;\n\t    }\n\t    return TemplateLiteral;\n\t}());\n\texports.TemplateLiteral = TemplateLiteral;\n\tvar ThisExpression = (function () {\n\t    function ThisExpression() {\n\t        this.type = syntax_1.Syntax.ThisExpression;\n\t    }\n\t    return ThisExpression;\n\t}());\n\texports.ThisExpression = ThisExpression;\n\tvar ThrowStatement = (function () {\n\t    function ThrowStatement(argument) {\n\t        this.type = syntax_1.Syntax.ThrowStatement;\n\t        this.argument = argument;\n\t    }\n\t    return ThrowStatement;\n\t}());\n\texports.ThrowStatement = ThrowStatement;\n\tvar TryStatement = (function () {\n\t    function TryStatement(block, handler, finalizer) {\n\t        this.type = syntax_1.Syntax.TryStatement;\n\t        this.block = block;\n\t        this.handler = handler;\n\t        this.finalizer = finalizer;\n\t    }\n\t    return TryStatement;\n\t}());\n\texports.TryStatement = TryStatement;\n\tvar UnaryExpression = (function () {\n\t    function UnaryExpression(operator, argument) {\n\t        this.type = syntax_1.Syntax.UnaryExpression;\n\t        this.operator = operator;\n\t        this.argument = argument;\n\t        this.prefix = true;\n\t    }\n\t    return UnaryExpression;\n\t}());\n\texports.UnaryExpression = UnaryExpression;\n\tvar UpdateExpression = (function () {\n\t    function UpdateExpression(operator, argument, prefix) {\n\t        this.type = syntax_1.Syntax.UpdateExpression;\n\t        this.operator = operator;\n\t        this.argument = argument;\n\t        this.prefix = prefix;\n\t    }\n\t    return UpdateExpression;\n\t}());\n\texports.UpdateExpression = UpdateExpression;\n\tvar VariableDeclaration = (function () {\n\t    function VariableDeclaration(declarations, kind) {\n\t        this.type = syntax_1.Syntax.VariableDeclaration;\n\t        this.declarations = declarations;\n\t        this.kind = kind;\n\t    }\n\t    return VariableDeclaration;\n\t}());\n\texports.VariableDeclaration = VariableDeclaration;\n\tvar VariableDeclarator = (function () {\n\t    function VariableDeclarator(id, init) {\n\t        this.type = syntax_1.Syntax.VariableDeclarator;\n\t        this.id = id;\n\t        this.init = init;\n\t    }\n\t    return VariableDeclarator;\n\t}());\n\texports.VariableDeclarator = VariableDeclarator;\n\tvar WhileStatement = (function () {\n\t    function WhileStatement(test, body) {\n\t        this.type = syntax_1.Syntax.WhileStatement;\n\t        this.test = test;\n\t        this.body = body;\n\t    }\n\t    return WhileStatement;\n\t}());\n\texports.WhileStatement = WhileStatement;\n\tvar WithStatement = (function () {\n\t    function WithStatement(object, body) {\n\t        this.type = syntax_1.Syntax.WithStatement;\n\t        this.object = object;\n\t        this.body = body;\n\t    }\n\t    return WithStatement;\n\t}());\n\texports.WithStatement = WithStatement;\n\tvar YieldExpression = (function () {\n\t    function YieldExpression(argument, delegate) {\n\t        this.type = syntax_1.Syntax.YieldExpression;\n\t        this.argument = argument;\n\t        this.delegate = delegate;\n\t    }\n\t    return YieldExpression;\n\t}());\n\texports.YieldExpression = YieldExpression;\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar assert_1 = __webpack_require__(9);\n\tvar error_handler_1 = __webpack_require__(10);\n\tvar messages_1 = __webpack_require__(11);\n\tvar Node = __webpack_require__(7);\n\tvar scanner_1 = __webpack_require__(12);\n\tvar syntax_1 = __webpack_require__(2);\n\tvar token_1 = __webpack_require__(13);\n\tvar ArrowParameterPlaceHolder = 'ArrowParameterPlaceHolder';\n\tvar Parser = (function () {\n\t    function Parser(code, options, delegate) {\n\t        if (options === void 0) { options = {}; }\n\t        this.config = {\n\t            range: (typeof options.range === 'boolean') && options.range,\n\t            loc: (typeof options.loc === 'boolean') && options.loc,\n\t            source: null,\n\t            tokens: (typeof options.tokens === 'boolean') && options.tokens,\n\t            comment: (typeof options.comment === 'boolean') && options.comment,\n\t            tolerant: (typeof options.tolerant === 'boolean') && options.tolerant\n\t        };\n\t        if (this.config.loc && options.source && options.source !== null) {\n\t            this.config.source = String(options.source);\n\t        }\n\t        this.delegate = delegate;\n\t        this.errorHandler = new error_handler_1.ErrorHandler();\n\t        this.errorHandler.tolerant = this.config.tolerant;\n\t        this.scanner = new scanner_1.Scanner(code, this.errorHandler);\n\t        this.scanner.trackComment = this.config.comment;\n\t        this.operatorPrecedence = {\n\t            ')': 0,\n\t            ';': 0,\n\t            ',': 0,\n\t            '=': 0,\n\t            ']': 0,\n\t            '||': 1,\n\t            '&&': 2,\n\t            '|': 3,\n\t            '^': 4,\n\t            '&': 5,\n\t            '==': 6,\n\t            '!=': 6,\n\t            '===': 6,\n\t            '!==': 6,\n\t            '<': 7,\n\t            '>': 7,\n\t            '<=': 7,\n\t            '>=': 7,\n\t            '<<': 8,\n\t            '>>': 8,\n\t            '>>>': 8,\n\t            '+': 9,\n\t            '-': 9,\n\t            '*': 11,\n\t            '/': 11,\n\t            '%': 11\n\t        };\n\t        this.lookahead = {\n\t            type: 2 /* EOF */,\n\t            value: '',\n\t            lineNumber: this.scanner.lineNumber,\n\t            lineStart: 0,\n\t            start: 0,\n\t            end: 0\n\t        };\n\t        this.hasLineTerminator = false;\n\t        this.context = {\n\t            isModule: false,\n\t            await: false,\n\t            allowIn: true,\n\t            allowStrictDirective: true,\n\t            allowYield: true,\n\t            firstCoverInitializedNameError: null,\n\t            isAssignmentTarget: false,\n\t            isBindingElement: false,\n\t            inFunctionBody: false,\n\t            inIteration: false,\n\t            inSwitch: false,\n\t            labelSet: {},\n\t            strict: false\n\t        };\n\t        this.tokens = [];\n\t        this.startMarker = {\n\t            index: 0,\n\t            line: this.scanner.lineNumber,\n\t            column: 0\n\t        };\n\t        this.lastMarker = {\n\t            index: 0,\n\t            line: this.scanner.lineNumber,\n\t            column: 0\n\t        };\n\t        this.nextToken();\n\t        this.lastMarker = {\n\t            index: this.scanner.index,\n\t            line: this.scanner.lineNumber,\n\t            column: this.scanner.index - this.scanner.lineStart\n\t        };\n\t    }\n\t    Parser.prototype.throwError = function (messageFormat) {\n\t        var values = [];\n\t        for (var _i = 1; _i < arguments.length; _i++) {\n\t            values[_i - 1] = arguments[_i];\n\t        }\n\t        var args = Array.prototype.slice.call(arguments, 1);\n\t        var msg = messageFormat.replace(/%(\\d)/g, function (whole, idx) {\n\t            assert_1.assert(idx < args.length, 'Message reference must be in range');\n\t            return args[idx];\n\t        });\n\t        var index = this.lastMarker.index;\n\t        var line = this.lastMarker.line;\n\t        var column = this.lastMarker.column + 1;\n\t        throw this.errorHandler.createError(index, line, column, msg);\n\t    };\n\t    Parser.prototype.tolerateError = function (messageFormat) {\n\t        var values = [];\n\t        for (var _i = 1; _i < arguments.length; _i++) {\n\t            values[_i - 1] = arguments[_i];\n\t        }\n\t        var args = Array.prototype.slice.call(arguments, 1);\n\t        var msg = messageFormat.replace(/%(\\d)/g, function (whole, idx) {\n\t            assert_1.assert(idx < args.length, 'Message reference must be in range');\n\t            return args[idx];\n\t        });\n\t        var index = this.lastMarker.index;\n\t        var line = this.scanner.lineNumber;\n\t        var column = this.lastMarker.column + 1;\n\t        this.errorHandler.tolerateError(index, line, column, msg);\n\t    };\n\t    // Throw an exception because of the token.\n\t    Parser.prototype.unexpectedTokenError = function (token, message) {\n\t        var msg = message || messages_1.Messages.UnexpectedToken;\n\t        var value;\n\t        if (token) {\n\t            if (!message) {\n\t                msg = (token.type === 2 /* EOF */) ? messages_1.Messages.UnexpectedEOS :\n\t                    (token.type === 3 /* Identifier */) ? messages_1.Messages.UnexpectedIdentifier :\n\t                        (token.type === 6 /* NumericLiteral */) ? messages_1.Messages.UnexpectedNumber :\n\t                            (token.type === 8 /* StringLiteral */) ? messages_1.Messages.UnexpectedString :\n\t                                (token.type === 10 /* Template */) ? messages_1.Messages.UnexpectedTemplate :\n\t                                    messages_1.Messages.UnexpectedToken;\n\t                if (token.type === 4 /* Keyword */) {\n\t                    if (this.scanner.isFutureReservedWord(token.value)) {\n\t                        msg = messages_1.Messages.UnexpectedReserved;\n\t                    }\n\t                    else if (this.context.strict && this.scanner.isStrictModeReservedWord(token.value)) {\n\t                        msg = messages_1.Messages.StrictReservedWord;\n\t                    }\n\t                }\n\t            }\n\t            value = token.value;\n\t        }\n\t        else {\n\t            value = 'ILLEGAL';\n\t        }\n\t        msg = msg.replace('%0', value);\n\t        if (token && typeof token.lineNumber === 'number') {\n\t            var index = token.start;\n\t            var line = token.lineNumber;\n\t            var lastMarkerLineStart = this.lastMarker.index - this.lastMarker.column;\n\t            var column = token.start - lastMarkerLineStart + 1;\n\t            return this.errorHandler.createError(index, line, column, msg);\n\t        }\n\t        else {\n\t            var index = this.lastMarker.index;\n\t            var line = this.lastMarker.line;\n\t            var column = this.lastMarker.column + 1;\n\t            return this.errorHandler.createError(index, line, column, msg);\n\t        }\n\t    };\n\t    Parser.prototype.throwUnexpectedToken = function (token, message) {\n\t        throw this.unexpectedTokenError(token, message);\n\t    };\n\t    Parser.prototype.tolerateUnexpectedToken = function (token, message) {\n\t        this.errorHandler.tolerate(this.unexpectedTokenError(token, message));\n\t    };\n\t    Parser.prototype.collectComments = function () {\n\t        if (!this.config.comment) {\n\t            this.scanner.scanComments();\n\t        }\n\t        else {\n\t            var comments = this.scanner.scanComments();\n\t            if (comments.length > 0 && this.delegate) {\n\t                for (var i = 0; i < comments.length; ++i) {\n\t                    var e = comments[i];\n\t                    var node = void 0;\n\t                    node = {\n\t                        type: e.multiLine ? 'BlockComment' : 'LineComment',\n\t                        value: this.scanner.source.slice(e.slice[0], e.slice[1])\n\t                    };\n\t                    if (this.config.range) {\n\t                        node.range = e.range;\n\t                    }\n\t                    if (this.config.loc) {\n\t                        node.loc = e.loc;\n\t                    }\n\t                    var metadata = {\n\t                        start: {\n\t                            line: e.loc.start.line,\n\t                            column: e.loc.start.column,\n\t                            offset: e.range[0]\n\t                        },\n\t                        end: {\n\t                            line: e.loc.end.line,\n\t                            column: e.loc.end.column,\n\t                            offset: e.range[1]\n\t                        }\n\t                    };\n\t                    this.delegate(node, metadata);\n\t                }\n\t            }\n\t        }\n\t    };\n\t    // From internal representation to an external structure\n\t    Parser.prototype.getTokenRaw = function (token) {\n\t        return this.scanner.source.slice(token.start, token.end);\n\t    };\n\t    Parser.prototype.convertToken = function (token) {\n\t        var t = {\n\t            type: token_1.TokenName[token.type],\n\t            value: this.getTokenRaw(token)\n\t        };\n\t        if (this.config.range) {\n\t            t.range = [token.start, token.end];\n\t        }\n\t        if (this.config.loc) {\n\t            t.loc = {\n\t                start: {\n\t                    line: this.startMarker.line,\n\t                    column: this.startMarker.column\n\t                },\n\t                end: {\n\t                    line: this.scanner.lineNumber,\n\t                    column: this.scanner.index - this.scanner.lineStart\n\t                }\n\t            };\n\t        }\n\t        if (token.type === 9 /* RegularExpression */) {\n\t            var pattern = token.pattern;\n\t            var flags = token.flags;\n\t            t.regex = { pattern: pattern, flags: flags };\n\t        }\n\t        return t;\n\t    };\n\t    Parser.prototype.nextToken = function () {\n\t        var token = this.lookahead;\n\t        this.lastMarker.index = this.scanner.index;\n\t        this.lastMarker.line = this.scanner.lineNumber;\n\t        this.lastMarker.column = this.scanner.index - this.scanner.lineStart;\n\t        this.collectComments();\n\t        if (this.scanner.index !== this.startMarker.index) {\n\t            this.startMarker.index = this.scanner.index;\n\t            this.startMarker.line = this.scanner.lineNumber;\n\t            this.startMarker.column = this.scanner.index - this.scanner.lineStart;\n\t        }\n\t        var next = this.scanner.lex();\n\t        this.hasLineTerminator = (token.lineNumber !== next.lineNumber);\n\t        if (next && this.context.strict && next.type === 3 /* Identifier */) {\n\t            if (this.scanner.isStrictModeReservedWord(next.value)) {\n\t                next.type = 4 /* Keyword */;\n\t            }\n\t        }\n\t        this.lookahead = next;\n\t        if (this.config.tokens && next.type !== 2 /* EOF */) {\n\t            this.tokens.push(this.convertToken(next));\n\t        }\n\t        return token;\n\t    };\n\t    Parser.prototype.nextRegexToken = function () {\n\t        this.collectComments();\n\t        var token = this.scanner.scanRegExp();\n\t        if (this.config.tokens) {\n\t            // Pop the previous token, '/' or '/='\n\t            // This is added from the lookahead token.\n\t            this.tokens.pop();\n\t            this.tokens.push(this.convertToken(token));\n\t        }\n\t        // Prime the next lookahead.\n\t        this.lookahead = token;\n\t        this.nextToken();\n\t        return token;\n\t    };\n\t    Parser.prototype.createNode = function () {\n\t        return {\n\t            index: this.startMarker.index,\n\t            line: this.startMarker.line,\n\t            column: this.startMarker.column\n\t        };\n\t    };\n\t    Parser.prototype.startNode = function (token, lastLineStart) {\n\t        if (lastLineStart === void 0) { lastLineStart = 0; }\n\t        var column = token.start - token.lineStart;\n\t        var line = token.lineNumber;\n\t        if (column < 0) {\n\t            column += lastLineStart;\n\t            line--;\n\t        }\n\t        return {\n\t            index: token.start,\n\t            line: line,\n\t            column: column\n\t        };\n\t    };\n\t    Parser.prototype.finalize = function (marker, node) {\n\t        if (this.config.range) {\n\t            node.range = [marker.index, this.lastMarker.index];\n\t        }\n\t        if (this.config.loc) {\n\t            node.loc = {\n\t                start: {\n\t                    line: marker.line,\n\t                    column: marker.column,\n\t                },\n\t                end: {\n\t                    line: this.lastMarker.line,\n\t                    column: this.lastMarker.column\n\t                }\n\t            };\n\t            if (this.config.source) {\n\t                node.loc.source = this.config.source;\n\t            }\n\t        }\n\t        if (this.delegate) {\n\t            var metadata = {\n\t                start: {\n\t                    line: marker.line,\n\t                    column: marker.column,\n\t                    offset: marker.index\n\t                },\n\t                end: {\n\t                    line: this.lastMarker.line,\n\t                    column: this.lastMarker.column,\n\t                    offset: this.lastMarker.index\n\t                }\n\t            };\n\t            this.delegate(node, metadata);\n\t        }\n\t        return node;\n\t    };\n\t    // Expect the next token to match the specified punctuator.\n\t    // If not, an exception will be thrown.\n\t    Parser.prototype.expect = function (value) {\n\t        var token = this.nextToken();\n\t        if (token.type !== 7 /* Punctuator */ || token.value !== value) {\n\t            this.throwUnexpectedToken(token);\n\t        }\n\t    };\n\t    // Quietly expect a comma when in tolerant mode, otherwise delegates to expect().\n\t    Parser.prototype.expectCommaSeparator = function () {\n\t        if (this.config.tolerant) {\n\t            var token = this.lookahead;\n\t            if (token.type === 7 /* Punctuator */ && token.value === ',') {\n\t                this.nextToken();\n\t            }\n\t            else if (token.type === 7 /* Punctuator */ && token.value === ';') {\n\t                this.nextToken();\n\t                this.tolerateUnexpectedToken(token);\n\t            }\n\t            else {\n\t                this.tolerateUnexpectedToken(token, messages_1.Messages.UnexpectedToken);\n\t            }\n\t        }\n\t        else {\n\t            this.expect(',');\n\t        }\n\t    };\n\t    // Expect the next token to match the specified keyword.\n\t    // If not, an exception will be thrown.\n\t    Parser.prototype.expectKeyword = function (keyword) {\n\t        var token = this.nextToken();\n\t        if (token.type !== 4 /* Keyword */ || token.value !== keyword) {\n\t            this.throwUnexpectedToken(token);\n\t        }\n\t    };\n\t    // Return true if the next token matches the specified punctuator.\n\t    Parser.prototype.match = function (value) {\n\t        return this.lookahead.type === 7 /* Punctuator */ && this.lookahead.value === value;\n\t    };\n\t    // Return true if the next token matches the specified keyword\n\t    Parser.prototype.matchKeyword = function (keyword) {\n\t        return this.lookahead.type === 4 /* Keyword */ && this.lookahead.value === keyword;\n\t    };\n\t    // Return true if the next token matches the specified contextual keyword\n\t    // (where an identifier is sometimes a keyword depending on the context)\n\t    Parser.prototype.matchContextualKeyword = function (keyword) {\n\t        return this.lookahead.type === 3 /* Identifier */ && this.lookahead.value === keyword;\n\t    };\n\t    // Return true if the next token is an assignment operator\n\t    Parser.prototype.matchAssign = function () {\n\t        if (this.lookahead.type !== 7 /* Punctuator */) {\n\t            return false;\n\t        }\n\t        var op = this.lookahead.value;\n\t        return op === '=' ||\n\t            op === '*=' ||\n\t            op === '**=' ||\n\t            op === '/=' ||\n\t            op === '%=' ||\n\t            op === '+=' ||\n\t            op === '-=' ||\n\t            op === '<<=' ||\n\t            op === '>>=' ||\n\t            op === '>>>=' ||\n\t            op === '&=' ||\n\t            op === '^=' ||\n\t            op === '|=';\n\t    };\n\t    // Cover grammar support.\n\t    //\n\t    // When an assignment expression position starts with an left parenthesis, the determination of the type\n\t    // of the syntax is to be deferred arbitrarily long until the end of the parentheses pair (plus a lookahead)\n\t    // or the first comma. This situation also defers the determination of all the expressions nested in the pair.\n\t    //\n\t    // There are three productions that can be parsed in a parentheses pair that needs to be determined\n\t    // after the outermost pair is closed. They are:\n\t    //\n\t    //   1. AssignmentExpression\n\t    //   2. BindingElements\n\t    //   3. AssignmentTargets\n\t    //\n\t    // In order to avoid exponential backtracking, we use two flags to denote if the production can be\n\t    // binding element or assignment target.\n\t    //\n\t    // The three productions have the relationship:\n\t    //\n\t    //   BindingElements  AssignmentTargets  AssignmentExpression\n\t    //\n\t    // with a single exception that CoverInitializedName when used directly in an Expression, generates\n\t    // an early error. Therefore, we need the third state, firstCoverInitializedNameError, to track the\n\t    // first usage of CoverInitializedName and report it when we reached the end of the parentheses pair.\n\t    //\n\t    // isolateCoverGrammar function runs the given parser function with a new cover grammar context, and it does not\n\t    // effect the current flags. This means the production the parser parses is only used as an expression. Therefore\n\t    // the CoverInitializedName check is conducted.\n\t    //\n\t    // inheritCoverGrammar function runs the given parse function with a new cover grammar context, and it propagates\n\t    // the flags outside of the parser. This means the production the parser parses is used as a part of a potential\n\t    // pattern. The CoverInitializedName check is deferred.\n\t    Parser.prototype.isolateCoverGrammar = function (parseFunction) {\n\t        var previousIsBindingElement = this.context.isBindingElement;\n\t        var previousIsAssignmentTarget = this.context.isAssignmentTarget;\n\t        var previousFirstCoverInitializedNameError = this.context.firstCoverInitializedNameError;\n\t        this.context.isBindingElement = true;\n\t        this.context.isAssignmentTarget = true;\n\t        this.context.firstCoverInitializedNameError = null;\n\t        var result = parseFunction.call(this);\n\t        if (this.context.firstCoverInitializedNameError !== null) {\n\t            this.throwUnexpectedToken(this.context.firstCoverInitializedNameError);\n\t        }\n\t        this.context.isBindingElement = previousIsBindingElement;\n\t        this.context.isAssignmentTarget = previousIsAssignmentTarget;\n\t        this.context.firstCoverInitializedNameError = previousFirstCoverInitializedNameError;\n\t        return result;\n\t    };\n\t    Parser.prototype.inheritCoverGrammar = function (parseFunction) {\n\t        var previousIsBindingElement = this.context.isBindingElement;\n\t        var previousIsAssignmentTarget = this.context.isAssignmentTarget;\n\t        var previousFirstCoverInitializedNameError = this.context.firstCoverInitializedNameError;\n\t        this.context.isBindingElement = true;\n\t        this.context.isAssignmentTarget = true;\n\t        this.context.firstCoverInitializedNameError = null;\n\t        var result = parseFunction.call(this);\n\t        this.context.isBindingElement = this.context.isBindingElement && previousIsBindingElement;\n\t        this.context.isAssignmentTarget = this.context.isAssignmentTarget && previousIsAssignmentTarget;\n\t        this.context.firstCoverInitializedNameError = previousFirstCoverInitializedNameError || this.context.firstCoverInitializedNameError;\n\t        return result;\n\t    };\n\t    Parser.prototype.consumeSemicolon = function () {\n\t        if (this.match(';')) {\n\t            this.nextToken();\n\t        }\n\t        else if (!this.hasLineTerminator) {\n\t            if (this.lookahead.type !== 2 /* EOF */ && !this.match('}')) {\n\t                this.throwUnexpectedToken(this.lookahead);\n\t            }\n\t            this.lastMarker.index = this.startMarker.index;\n\t            this.lastMarker.line = this.startMarker.line;\n\t            this.lastMarker.column = this.startMarker.column;\n\t        }\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-primary-expression\n\t    Parser.prototype.parsePrimaryExpression = function () {\n\t        var node = this.createNode();\n\t        var expr;\n\t        var token, raw;\n\t        switch (this.lookahead.type) {\n\t            case 3 /* Identifier */:\n\t                if ((this.context.isModule || this.context.await) && this.lookahead.value === 'await') {\n\t                    this.tolerateUnexpectedToken(this.lookahead);\n\t                }\n\t                expr = this.matchAsyncFunction() ? this.parseFunctionExpression() : this.finalize(node, new Node.Identifier(this.nextToken().value));\n\t                break;\n\t            case 6 /* NumericLiteral */:\n\t            case 8 /* StringLiteral */:\n\t                if (this.context.strict && this.lookahead.octal) {\n\t                    this.tolerateUnexpectedToken(this.lookahead, messages_1.Messages.StrictOctalLiteral);\n\t                }\n\t                this.context.isAssignmentTarget = false;\n\t                this.context.isBindingElement = false;\n\t                token = this.nextToken();\n\t                raw = this.getTokenRaw(token);\n\t                expr = this.finalize(node, new Node.Literal(token.value, raw));\n\t                break;\n\t            case 1 /* BooleanLiteral */:\n\t                this.context.isAssignmentTarget = false;\n\t                this.context.isBindingElement = false;\n\t                token = this.nextToken();\n\t                raw = this.getTokenRaw(token);\n\t                expr = this.finalize(node, new Node.Literal(token.value === 'true', raw));\n\t                break;\n\t            case 5 /* NullLiteral */:\n\t                this.context.isAssignmentTarget = false;\n\t                this.context.isBindingElement = false;\n\t                token = this.nextToken();\n\t                raw = this.getTokenRaw(token);\n\t                expr = this.finalize(node, new Node.Literal(null, raw));\n\t                break;\n\t            case 10 /* Template */:\n\t                expr = this.parseTemplateLiteral();\n\t                break;\n\t            case 7 /* Punctuator */:\n\t                switch (this.lookahead.value) {\n\t                    case '(':\n\t                        this.context.isBindingElement = false;\n\t                        expr = this.inheritCoverGrammar(this.parseGroupExpression);\n\t                        break;\n\t                    case '[':\n\t                        expr = this.inheritCoverGrammar(this.parseArrayInitializer);\n\t                        break;\n\t                    case '{':\n\t                        expr = this.inheritCoverGrammar(this.parseObjectInitializer);\n\t                        break;\n\t                    case '/':\n\t                    case '/=':\n\t                        this.context.isAssignmentTarget = false;\n\t                        this.context.isBindingElement = false;\n\t                        this.scanner.index = this.startMarker.index;\n\t                        token = this.nextRegexToken();\n\t                        raw = this.getTokenRaw(token);\n\t                        expr = this.finalize(node, new Node.RegexLiteral(token.regex, raw, token.pattern, token.flags));\n\t                        break;\n\t                    default:\n\t                        expr = this.throwUnexpectedToken(this.nextToken());\n\t                }\n\t                break;\n\t            case 4 /* Keyword */:\n\t                if (!this.context.strict && this.context.allowYield && this.matchKeyword('yield')) {\n\t                    expr = this.parseIdentifierName();\n\t                }\n\t                else if (!this.context.strict && this.matchKeyword('let')) {\n\t                    expr = this.finalize(node, new Node.Identifier(this.nextToken().value));\n\t                }\n\t                else {\n\t                    this.context.isAssignmentTarget = false;\n\t                    this.context.isBindingElement = false;\n\t                    if (this.matchKeyword('function')) {\n\t                        expr = this.parseFunctionExpression();\n\t                    }\n\t                    else if (this.matchKeyword('this')) {\n\t                        this.nextToken();\n\t                        expr = this.finalize(node, new Node.ThisExpression());\n\t                    }\n\t                    else if (this.matchKeyword('class')) {\n\t                        expr = this.parseClassExpression();\n\t                    }\n\t                    else {\n\t                        expr = this.throwUnexpectedToken(this.nextToken());\n\t                    }\n\t                }\n\t                break;\n\t            default:\n\t                expr = this.throwUnexpectedToken(this.nextToken());\n\t        }\n\t        return expr;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-array-initializer\n\t    Parser.prototype.parseSpreadElement = function () {\n\t        var node = this.createNode();\n\t        this.expect('...');\n\t        var arg = this.inheritCoverGrammar(this.parseAssignmentExpression);\n\t        return this.finalize(node, new Node.SpreadElement(arg));\n\t    };\n\t    Parser.prototype.parseArrayInitializer = function () {\n\t        var node = this.createNode();\n\t        var elements = [];\n\t        this.expect('[');\n\t        while (!this.match(']')) {\n\t            if (this.match(',')) {\n\t                this.nextToken();\n\t                elements.push(null);\n\t            }\n\t            else if (this.match('...')) {\n\t                var element = this.parseSpreadElement();\n\t                if (!this.match(']')) {\n\t                    this.context.isAssignmentTarget = false;\n\t                    this.context.isBindingElement = false;\n\t                    this.expect(',');\n\t                }\n\t                elements.push(element);\n\t            }\n\t            else {\n\t                elements.push(this.inheritCoverGrammar(this.parseAssignmentExpression));\n\t                if (!this.match(']')) {\n\t                    this.expect(',');\n\t                }\n\t            }\n\t        }\n\t        this.expect(']');\n\t        return this.finalize(node, new Node.ArrayExpression(elements));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-object-initializer\n\t    Parser.prototype.parsePropertyMethod = function (params) {\n\t        this.context.isAssignmentTarget = false;\n\t        this.context.isBindingElement = false;\n\t        var previousStrict = this.context.strict;\n\t        var previousAllowStrictDirective = this.context.allowStrictDirective;\n\t        this.context.allowStrictDirective = params.simple;\n\t        var body = this.isolateCoverGrammar(this.parseFunctionSourceElements);\n\t        if (this.context.strict && params.firstRestricted) {\n\t            this.tolerateUnexpectedToken(params.firstRestricted, params.message);\n\t        }\n\t        if (this.context.strict && params.stricted) {\n\t            this.tolerateUnexpectedToken(params.stricted, params.message);\n\t        }\n\t        this.context.strict = previousStrict;\n\t        this.context.allowStrictDirective = previousAllowStrictDirective;\n\t        return body;\n\t    };\n\t    Parser.prototype.parsePropertyMethodFunction = function () {\n\t        var isGenerator = false;\n\t        var node = this.createNode();\n\t        var previousAllowYield = this.context.allowYield;\n\t        this.context.allowYield = true;\n\t        var params = this.parseFormalParameters();\n\t        var method = this.parsePropertyMethod(params);\n\t        this.context.allowYield = previousAllowYield;\n\t        return this.finalize(node, new Node.FunctionExpression(null, params.params, method, isGenerator));\n\t    };\n\t    Parser.prototype.parsePropertyMethodAsyncFunction = function () {\n\t        var node = this.createNode();\n\t        var previousAllowYield = this.context.allowYield;\n\t        var previousAwait = this.context.await;\n\t        this.context.allowYield = false;\n\t        this.context.await = true;\n\t        var params = this.parseFormalParameters();\n\t        var method = this.parsePropertyMethod(params);\n\t        this.context.allowYield = previousAllowYield;\n\t        this.context.await = previousAwait;\n\t        return this.finalize(node, new Node.AsyncFunctionExpression(null, params.params, method));\n\t    };\n\t    Parser.prototype.parseObjectPropertyKey = function () {\n\t        var node = this.createNode();\n\t        var token = this.nextToken();\n\t        var key;\n\t        switch (token.type) {\n\t            case 8 /* StringLiteral */:\n\t            case 6 /* NumericLiteral */:\n\t                if (this.context.strict && token.octal) {\n\t                    this.tolerateUnexpectedToken(token, messages_1.Messages.StrictOctalLiteral);\n\t                }\n\t                var raw = this.getTokenRaw(token);\n\t                key = this.finalize(node, new Node.Literal(token.value, raw));\n\t                break;\n\t            case 3 /* Identifier */:\n\t            case 1 /* BooleanLiteral */:\n\t            case 5 /* NullLiteral */:\n\t            case 4 /* Keyword */:\n\t                key = this.finalize(node, new Node.Identifier(token.value));\n\t                break;\n\t            case 7 /* Punctuator */:\n\t                if (token.value === '[') {\n\t                    key = this.isolateCoverGrammar(this.parseAssignmentExpression);\n\t                    this.expect(']');\n\t                }\n\t                else {\n\t                    key = this.throwUnexpectedToken(token);\n\t                }\n\t                break;\n\t            default:\n\t                key = this.throwUnexpectedToken(token);\n\t        }\n\t        return key;\n\t    };\n\t    Parser.prototype.isPropertyKey = function (key, value) {\n\t        return (key.type === syntax_1.Syntax.Identifier && key.name === value) ||\n\t            (key.type === syntax_1.Syntax.Literal && key.value === value);\n\t    };\n\t    Parser.prototype.parseObjectProperty = function (hasProto) {\n\t        var node = this.createNode();\n\t        var token = this.lookahead;\n\t        var kind;\n\t        var key = null;\n\t        var value = null;\n\t        var computed = false;\n\t        var method = false;\n\t        var shorthand = false;\n\t        var isAsync = false;\n\t        if (token.type === 3 /* Identifier */) {\n\t            var id = token.value;\n\t            this.nextToken();\n\t            computed = this.match('[');\n\t            isAsync = !this.hasLineTerminator && (id === 'async') &&\n\t                !this.match(':') && !this.match('(') && !this.match('*') && !this.match(',');\n\t            key = isAsync ? this.parseObjectPropertyKey() : this.finalize(node, new Node.Identifier(id));\n\t        }\n\t        else if (this.match('*')) {\n\t            this.nextToken();\n\t        }\n\t        else {\n\t            computed = this.match('[');\n\t            key = this.parseObjectPropertyKey();\n\t        }\n\t        var lookaheadPropertyKey = this.qualifiedPropertyName(this.lookahead);\n\t        if (token.type === 3 /* Identifier */ && !isAsync && token.value === 'get' && lookaheadPropertyKey) {\n\t            kind = 'get';\n\t            computed = this.match('[');\n\t            key = this.parseObjectPropertyKey();\n\t            this.context.allowYield = false;\n\t            value = this.parseGetterMethod();\n\t        }\n\t        else if (token.type === 3 /* Identifier */ && !isAsync && token.value === 'set' && lookaheadPropertyKey) {\n\t            kind = 'set';\n\t            computed = this.match('[');\n\t            key = this.parseObjectPropertyKey();\n\t            value = this.parseSetterMethod();\n\t        }\n\t        else if (token.type === 7 /* Punctuator */ && token.value === '*' && lookaheadPropertyKey) {\n\t            kind = 'init';\n\t            computed = this.match('[');\n\t            key = this.parseObjectPropertyKey();\n\t            value = this.parseGeneratorMethod();\n\t            method = true;\n\t        }\n\t        else {\n\t            if (!key) {\n\t                this.throwUnexpectedToken(this.lookahead);\n\t            }\n\t            kind = 'init';\n\t            if (this.match(':') && !isAsync) {\n\t                if (!computed && this.isPropertyKey(key, '__proto__')) {\n\t                    if (hasProto.value) {\n\t                        this.tolerateError(messages_1.Messages.DuplicateProtoProperty);\n\t                    }\n\t                    hasProto.value = true;\n\t                }\n\t                this.nextToken();\n\t                value = this.inheritCoverGrammar(this.parseAssignmentExpression);\n\t            }\n\t            else if (this.match('(')) {\n\t                value = isAsync ? this.parsePropertyMethodAsyncFunction() : this.parsePropertyMethodFunction();\n\t                method = true;\n\t            }\n\t            else if (token.type === 3 /* Identifier */) {\n\t                var id = this.finalize(node, new Node.Identifier(token.value));\n\t                if (this.match('=')) {\n\t                    this.context.firstCoverInitializedNameError = this.lookahead;\n\t                    this.nextToken();\n\t                    shorthand = true;\n\t                    var init = this.isolateCoverGrammar(this.parseAssignmentExpression);\n\t                    value = this.finalize(node, new Node.AssignmentPattern(id, init));\n\t                }\n\t                else {\n\t                    shorthand = true;\n\t                    value = id;\n\t                }\n\t            }\n\t            else {\n\t                this.throwUnexpectedToken(this.nextToken());\n\t            }\n\t        }\n\t        return this.finalize(node, new Node.Property(kind, key, computed, value, method, shorthand));\n\t    };\n\t    Parser.prototype.parseObjectInitializer = function () {\n\t        var node = this.createNode();\n\t        this.expect('{');\n\t        var properties = [];\n\t        var hasProto = { value: false };\n\t        while (!this.match('}')) {\n\t            properties.push(this.parseObjectProperty(hasProto));\n\t            if (!this.match('}')) {\n\t                this.expectCommaSeparator();\n\t            }\n\t        }\n\t        this.expect('}');\n\t        return this.finalize(node, new Node.ObjectExpression(properties));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-template-literals\n\t    Parser.prototype.parseTemplateHead = function () {\n\t        assert_1.assert(this.lookahead.head, 'Template literal must start with a template head');\n\t        var node = this.createNode();\n\t        var token = this.nextToken();\n\t        var raw = token.value;\n\t        var cooked = token.cooked;\n\t        return this.finalize(node, new Node.TemplateElement({ raw: raw, cooked: cooked }, token.tail));\n\t    };\n\t    Parser.prototype.parseTemplateElement = function () {\n\t        if (this.lookahead.type !== 10 /* Template */) {\n\t            this.throwUnexpectedToken();\n\t        }\n\t        var node = this.createNode();\n\t        var token = this.nextToken();\n\t        var raw = token.value;\n\t        var cooked = token.cooked;\n\t        return this.finalize(node, new Node.TemplateElement({ raw: raw, cooked: cooked }, token.tail));\n\t    };\n\t    Parser.prototype.parseTemplateLiteral = function () {\n\t        var node = this.createNode();\n\t        var expressions = [];\n\t        var quasis = [];\n\t        var quasi = this.parseTemplateHead();\n\t        quasis.push(quasi);\n\t        while (!quasi.tail) {\n\t            expressions.push(this.parseExpression());\n\t            quasi = this.parseTemplateElement();\n\t            quasis.push(quasi);\n\t        }\n\t        return this.finalize(node, new Node.TemplateLiteral(quasis, expressions));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-grouping-operator\n\t    Parser.prototype.reinterpretExpressionAsPattern = function (expr) {\n\t        switch (expr.type) {\n\t            case syntax_1.Syntax.Identifier:\n\t            case syntax_1.Syntax.MemberExpression:\n\t            case syntax_1.Syntax.RestElement:\n\t            case syntax_1.Syntax.AssignmentPattern:\n\t                break;\n\t            case syntax_1.Syntax.SpreadElement:\n\t                expr.type = syntax_1.Syntax.RestElement;\n\t                this.reinterpretExpressionAsPattern(expr.argument);\n\t                break;\n\t            case syntax_1.Syntax.ArrayExpression:\n\t                expr.type = syntax_1.Syntax.ArrayPattern;\n\t                for (var i = 0; i < expr.elements.length; i++) {\n\t                    if (expr.elements[i] !== null) {\n\t                        this.reinterpretExpressionAsPattern(expr.elements[i]);\n\t                    }\n\t                }\n\t                break;\n\t            case syntax_1.Syntax.ObjectExpression:\n\t                expr.type = syntax_1.Syntax.ObjectPattern;\n\t                for (var i = 0; i < expr.properties.length; i++) {\n\t                    this.reinterpretExpressionAsPattern(expr.properties[i].value);\n\t                }\n\t                break;\n\t            case syntax_1.Syntax.AssignmentExpression:\n\t                expr.type = syntax_1.Syntax.AssignmentPattern;\n\t                delete expr.operator;\n\t                this.reinterpretExpressionAsPattern(expr.left);\n\t                break;\n\t            default:\n\t                // Allow other node type for tolerant parsing.\n\t                break;\n\t        }\n\t    };\n\t    Parser.prototype.parseGroupExpression = function () {\n\t        var expr;\n\t        this.expect('(');\n\t        if (this.match(')')) {\n\t            this.nextToken();\n\t            if (!this.match('=>')) {\n\t                this.expect('=>');\n\t            }\n\t            expr = {\n\t                type: ArrowParameterPlaceHolder,\n\t                params: [],\n\t                async: false\n\t            };\n\t        }\n\t        else {\n\t            var startToken = this.lookahead;\n\t            var params = [];\n\t            if (this.match('...')) {\n\t                expr = this.parseRestElement(params);\n\t                this.expect(')');\n\t                if (!this.match('=>')) {\n\t                    this.expect('=>');\n\t                }\n\t                expr = {\n\t                    type: ArrowParameterPlaceHolder,\n\t                    params: [expr],\n\t                    async: false\n\t                };\n\t            }\n\t            else {\n\t                var arrow = false;\n\t                this.context.isBindingElement = true;\n\t                expr = this.inheritCoverGrammar(this.parseAssignmentExpression);\n\t                if (this.match(',')) {\n\t                    var expressions = [];\n\t                    this.context.isAssignmentTarget = false;\n\t                    expressions.push(expr);\n\t                    while (this.lookahead.type !== 2 /* EOF */) {\n\t                        if (!this.match(',')) {\n\t                            break;\n\t                        }\n\t                        this.nextToken();\n\t                        if (this.match(')')) {\n\t                            this.nextToken();\n\t                            for (var i = 0; i < expressions.length; i++) {\n\t                                this.reinterpretExpressionAsPattern(expressions[i]);\n\t                            }\n\t                            arrow = true;\n\t                            expr = {\n\t                                type: ArrowParameterPlaceHolder,\n\t                                params: expressions,\n\t                                async: false\n\t                            };\n\t                        }\n\t                        else if (this.match('...')) {\n\t                            if (!this.context.isBindingElement) {\n\t                                this.throwUnexpectedToken(this.lookahead);\n\t                            }\n\t                            expressions.push(this.parseRestElement(params));\n\t                            this.expect(')');\n\t                            if (!this.match('=>')) {\n\t                                this.expect('=>');\n\t                            }\n\t                            this.context.isBindingElement = false;\n\t                            for (var i = 0; i < expressions.length; i++) {\n\t                                this.reinterpretExpressionAsPattern(expressions[i]);\n\t                            }\n\t                            arrow = true;\n\t                            expr = {\n\t                                type: ArrowParameterPlaceHolder,\n\t                                params: expressions,\n\t                                async: false\n\t                            };\n\t                        }\n\t                        else {\n\t                            expressions.push(this.inheritCoverGrammar(this.parseAssignmentExpression));\n\t                        }\n\t                        if (arrow) {\n\t                            break;\n\t                        }\n\t                    }\n\t                    if (!arrow) {\n\t                        expr = this.finalize(this.startNode(startToken), new Node.SequenceExpression(expressions));\n\t                    }\n\t                }\n\t                if (!arrow) {\n\t                    this.expect(')');\n\t                    if (this.match('=>')) {\n\t                        if (expr.type === syntax_1.Syntax.Identifier && expr.name === 'yield') {\n\t                            arrow = true;\n\t                            expr = {\n\t                                type: ArrowParameterPlaceHolder,\n\t                                params: [expr],\n\t                                async: false\n\t                            };\n\t                        }\n\t                        if (!arrow) {\n\t                            if (!this.context.isBindingElement) {\n\t                                this.throwUnexpectedToken(this.lookahead);\n\t                            }\n\t                            if (expr.type === syntax_1.Syntax.SequenceExpression) {\n\t                                for (var i = 0; i < expr.expressions.length; i++) {\n\t                                    this.reinterpretExpressionAsPattern(expr.expressions[i]);\n\t                                }\n\t                            }\n\t                            else {\n\t                                this.reinterpretExpressionAsPattern(expr);\n\t                            }\n\t                            var parameters = (expr.type === syntax_1.Syntax.SequenceExpression ? expr.expressions : [expr]);\n\t                            expr = {\n\t                                type: ArrowParameterPlaceHolder,\n\t                                params: parameters,\n\t                                async: false\n\t                            };\n\t                        }\n\t                    }\n\t                    this.context.isBindingElement = false;\n\t                }\n\t            }\n\t        }\n\t        return expr;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-left-hand-side-expressions\n\t    Parser.prototype.parseArguments = function () {\n\t        this.expect('(');\n\t        var args = [];\n\t        if (!this.match(')')) {\n\t            while (true) {\n\t                var expr = this.match('...') ? this.parseSpreadElement() :\n\t                    this.isolateCoverGrammar(this.parseAssignmentExpression);\n\t                args.push(expr);\n\t                if (this.match(')')) {\n\t                    break;\n\t                }\n\t                this.expectCommaSeparator();\n\t                if (this.match(')')) {\n\t                    break;\n\t                }\n\t            }\n\t        }\n\t        this.expect(')');\n\t        return args;\n\t    };\n\t    Parser.prototype.isIdentifierName = function (token) {\n\t        return token.type === 3 /* Identifier */ ||\n\t            token.type === 4 /* Keyword */ ||\n\t            token.type === 1 /* BooleanLiteral */ ||\n\t            token.type === 5 /* NullLiteral */;\n\t    };\n\t    Parser.prototype.parseIdentifierName = function () {\n\t        var node = this.createNode();\n\t        var token = this.nextToken();\n\t        if (!this.isIdentifierName(token)) {\n\t            this.throwUnexpectedToken(token);\n\t        }\n\t        return this.finalize(node, new Node.Identifier(token.value));\n\t    };\n\t    Parser.prototype.parseNewExpression = function () {\n\t        var node = this.createNode();\n\t        var id = this.parseIdentifierName();\n\t        assert_1.assert(id.name === 'new', 'New expression must start with `new`');\n\t        var expr;\n\t        if (this.match('.')) {\n\t            this.nextToken();\n\t            if (this.lookahead.type === 3 /* Identifier */ && this.context.inFunctionBody && this.lookahead.value === 'target') {\n\t                var property = this.parseIdentifierName();\n\t                expr = new Node.MetaProperty(id, property);\n\t            }\n\t            else {\n\t                this.throwUnexpectedToken(this.lookahead);\n\t            }\n\t        }\n\t        else {\n\t            var callee = this.isolateCoverGrammar(this.parseLeftHandSideExpression);\n\t            var args = this.match('(') ? this.parseArguments() : [];\n\t            expr = new Node.NewExpression(callee, args);\n\t            this.context.isAssignmentTarget = false;\n\t            this.context.isBindingElement = false;\n\t        }\n\t        return this.finalize(node, expr);\n\t    };\n\t    Parser.prototype.parseAsyncArgument = function () {\n\t        var arg = this.parseAssignmentExpression();\n\t        this.context.firstCoverInitializedNameError = null;\n\t        return arg;\n\t    };\n\t    Parser.prototype.parseAsyncArguments = function () {\n\t        this.expect('(');\n\t        var args = [];\n\t        if (!this.match(')')) {\n\t            while (true) {\n\t                var expr = this.match('...') ? this.parseSpreadElement() :\n\t                    this.isolateCoverGrammar(this.parseAsyncArgument);\n\t                args.push(expr);\n\t                if (this.match(')')) {\n\t                    break;\n\t                }\n\t                this.expectCommaSeparator();\n\t                if (this.match(')')) {\n\t                    break;\n\t                }\n\t            }\n\t        }\n\t        this.expect(')');\n\t        return args;\n\t    };\n\t    Parser.prototype.parseLeftHandSideExpressionAllowCall = function () {\n\t        var startToken = this.lookahead;\n\t        var maybeAsync = this.matchContextualKeyword('async');\n\t        var previousAllowIn = this.context.allowIn;\n\t        this.context.allowIn = true;\n\t        var expr;\n\t        if (this.matchKeyword('super') && this.context.inFunctionBody) {\n\t            expr = this.createNode();\n\t            this.nextToken();\n\t            expr = this.finalize(expr, new Node.Super());\n\t            if (!this.match('(') && !this.match('.') && !this.match('[')) {\n\t                this.throwUnexpectedToken(this.lookahead);\n\t            }\n\t        }\n\t        else {\n\t            expr = this.inheritCoverGrammar(this.matchKeyword('new') ? this.parseNewExpression : this.parsePrimaryExpression);\n\t        }\n\t        while (true) {\n\t            if (this.match('.')) {\n\t                this.context.isBindingElement = false;\n\t                this.context.isAssignmentTarget = true;\n\t                this.expect('.');\n\t                var property = this.parseIdentifierName();\n\t                expr = this.finalize(this.startNode(startToken), new Node.StaticMemberExpression(expr, property));\n\t            }\n\t            else if (this.match('(')) {\n\t                var asyncArrow = maybeAsync && (startToken.lineNumber === this.lookahead.lineNumber);\n\t                this.context.isBindingElement = false;\n\t                this.context.isAssignmentTarget = false;\n\t                var args = asyncArrow ? this.parseAsyncArguments() : this.parseArguments();\n\t                expr = this.finalize(this.startNode(startToken), new Node.CallExpression(expr, args));\n\t                if (asyncArrow && this.match('=>')) {\n\t                    for (var i = 0; i < args.length; ++i) {\n\t                        this.reinterpretExpressionAsPattern(args[i]);\n\t                    }\n\t                    expr = {\n\t                        type: ArrowParameterPlaceHolder,\n\t                        params: args,\n\t                        async: true\n\t                    };\n\t                }\n\t            }\n\t            else if (this.match('[')) {\n\t                this.context.isBindingElement = false;\n\t                this.context.isAssignmentTarget = true;\n\t                this.expect('[');\n\t                var property = this.isolateCoverGrammar(this.parseExpression);\n\t                this.expect(']');\n\t                expr = this.finalize(this.startNode(startToken), new Node.ComputedMemberExpression(expr, property));\n\t            }\n\t            else if (this.lookahead.type === 10 /* Template */ && this.lookahead.head) {\n\t                var quasi = this.parseTemplateLiteral();\n\t                expr = this.finalize(this.startNode(startToken), new Node.TaggedTemplateExpression(expr, quasi));\n\t            }\n\t            else {\n\t                break;\n\t            }\n\t        }\n\t        this.context.allowIn = previousAllowIn;\n\t        return expr;\n\t    };\n\t    Parser.prototype.parseSuper = function () {\n\t        var node = this.createNode();\n\t        this.expectKeyword('super');\n\t        if (!this.match('[') && !this.match('.')) {\n\t            this.throwUnexpectedToken(this.lookahead);\n\t        }\n\t        return this.finalize(node, new Node.Super());\n\t    };\n\t    Parser.prototype.parseLeftHandSideExpression = function () {\n\t        assert_1.assert(this.context.allowIn, 'callee of new expression always allow in keyword.');\n\t        var node = this.startNode(this.lookahead);\n\t        var expr = (this.matchKeyword('super') && this.context.inFunctionBody) ? this.parseSuper() :\n\t            this.inheritCoverGrammar(this.matchKeyword('new') ? this.parseNewExpression : this.parsePrimaryExpression);\n\t        while (true) {\n\t            if (this.match('[')) {\n\t                this.context.isBindingElement = false;\n\t                this.context.isAssignmentTarget = true;\n\t                this.expect('[');\n\t                var property = this.isolateCoverGrammar(this.parseExpression);\n\t                this.expect(']');\n\t                expr = this.finalize(node, new Node.ComputedMemberExpression(expr, property));\n\t            }\n\t            else if (this.match('.')) {\n\t                this.context.isBindingElement = false;\n\t                this.context.isAssignmentTarget = true;\n\t                this.expect('.');\n\t                var property = this.parseIdentifierName();\n\t                expr = this.finalize(node, new Node.StaticMemberExpression(expr, property));\n\t            }\n\t            else if (this.lookahead.type === 10 /* Template */ && this.lookahead.head) {\n\t                var quasi = this.parseTemplateLiteral();\n\t                expr = this.finalize(node, new Node.TaggedTemplateExpression(expr, quasi));\n\t            }\n\t            else {\n\t                break;\n\t            }\n\t        }\n\t        return expr;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-update-expressions\n\t    Parser.prototype.parseUpdateExpression = function () {\n\t        var expr;\n\t        var startToken = this.lookahead;\n\t        if (this.match('++') || this.match('--')) {\n\t            var node = this.startNode(startToken);\n\t            var token = this.nextToken();\n\t            expr = this.inheritCoverGrammar(this.parseUnaryExpression);\n\t            if (this.context.strict && expr.type === syntax_1.Syntax.Identifier && this.scanner.isRestrictedWord(expr.name)) {\n\t                this.tolerateError(messages_1.Messages.StrictLHSPrefix);\n\t            }\n\t            if (!this.context.isAssignmentTarget) {\n\t                this.tolerateError(messages_1.Messages.InvalidLHSInAssignment);\n\t            }\n\t            var prefix = true;\n\t            expr = this.finalize(node, new Node.UpdateExpression(token.value, expr, prefix));\n\t            this.context.isAssignmentTarget = false;\n\t            this.context.isBindingElement = false;\n\t        }\n\t        else {\n\t            expr = this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall);\n\t            if (!this.hasLineTerminator && this.lookahead.type === 7 /* Punctuator */) {\n\t                if (this.match('++') || this.match('--')) {\n\t                    if (this.context.strict && expr.type === syntax_1.Syntax.Identifier && this.scanner.isRestrictedWord(expr.name)) {\n\t                        this.tolerateError(messages_1.Messages.StrictLHSPostfix);\n\t                    }\n\t                    if (!this.context.isAssignmentTarget) {\n\t                        this.tolerateError(messages_1.Messages.InvalidLHSInAssignment);\n\t                    }\n\t                    this.context.isAssignmentTarget = false;\n\t                    this.context.isBindingElement = false;\n\t                    var operator = this.nextToken().value;\n\t                    var prefix = false;\n\t                    expr = this.finalize(this.startNode(startToken), new Node.UpdateExpression(operator, expr, prefix));\n\t                }\n\t            }\n\t        }\n\t        return expr;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-unary-operators\n\t    Parser.prototype.parseAwaitExpression = function () {\n\t        var node = this.createNode();\n\t        this.nextToken();\n\t        var argument = this.parseUnaryExpression();\n\t        return this.finalize(node, new Node.AwaitExpression(argument));\n\t    };\n\t    Parser.prototype.parseUnaryExpression = function () {\n\t        var expr;\n\t        if (this.match('+') || this.match('-') || this.match('~') || this.match('!') ||\n\t            this.matchKeyword('delete') || this.matchKeyword('void') || this.matchKeyword('typeof')) {\n\t            var node = this.startNode(this.lookahead);\n\t            var token = this.nextToken();\n\t            expr = this.inheritCoverGrammar(this.parseUnaryExpression);\n\t            expr = this.finalize(node, new Node.UnaryExpression(token.value, expr));\n\t            if (this.context.strict && expr.operator === 'delete' && expr.argument.type === syntax_1.Syntax.Identifier) {\n\t                this.tolerateError(messages_1.Messages.StrictDelete);\n\t            }\n\t            this.context.isAssignmentTarget = false;\n\t            this.context.isBindingElement = false;\n\t        }\n\t        else if (this.context.await && this.matchContextualKeyword('await')) {\n\t            expr = this.parseAwaitExpression();\n\t        }\n\t        else {\n\t            expr = this.parseUpdateExpression();\n\t        }\n\t        return expr;\n\t    };\n\t    Parser.prototype.parseExponentiationExpression = function () {\n\t        var startToken = this.lookahead;\n\t        var expr = this.inheritCoverGrammar(this.parseUnaryExpression);\n\t        if (expr.type !== syntax_1.Syntax.UnaryExpression && this.match('**')) {\n\t            this.nextToken();\n\t            this.context.isAssignmentTarget = false;\n\t            this.context.isBindingElement = false;\n\t            var left = expr;\n\t            var right = this.isolateCoverGrammar(this.parseExponentiationExpression);\n\t            expr = this.finalize(this.startNode(startToken), new Node.BinaryExpression('**', left, right));\n\t        }\n\t        return expr;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-exp-operator\n\t    // https://tc39.github.io/ecma262/#sec-multiplicative-operators\n\t    // https://tc39.github.io/ecma262/#sec-additive-operators\n\t    // https://tc39.github.io/ecma262/#sec-bitwise-shift-operators\n\t    // https://tc39.github.io/ecma262/#sec-relational-operators\n\t    // https://tc39.github.io/ecma262/#sec-equality-operators\n\t    // https://tc39.github.io/ecma262/#sec-binary-bitwise-operators\n\t    // https://tc39.github.io/ecma262/#sec-binary-logical-operators\n\t    Parser.prototype.binaryPrecedence = function (token) {\n\t        var op = token.value;\n\t        var precedence;\n\t        if (token.type === 7 /* Punctuator */) {\n\t            precedence = this.operatorPrecedence[op] || 0;\n\t        }\n\t        else if (token.type === 4 /* Keyword */) {\n\t            precedence = (op === 'instanceof' || (this.context.allowIn && op === 'in')) ? 7 : 0;\n\t        }\n\t        else {\n\t            precedence = 0;\n\t        }\n\t        return precedence;\n\t    };\n\t    Parser.prototype.parseBinaryExpression = function () {\n\t        var startToken = this.lookahead;\n\t        var expr = this.inheritCoverGrammar(this.parseExponentiationExpression);\n\t        var token = this.lookahead;\n\t        var prec = this.binaryPrecedence(token);\n\t        if (prec > 0) {\n\t            this.nextToken();\n\t            this.context.isAssignmentTarget = false;\n\t            this.context.isBindingElement = false;\n\t            var markers = [startToken, this.lookahead];\n\t            var left = expr;\n\t            var right = this.isolateCoverGrammar(this.parseExponentiationExpression);\n\t            var stack = [left, token.value, right];\n\t            var precedences = [prec];\n\t            while (true) {\n\t                prec = this.binaryPrecedence(this.lookahead);\n\t                if (prec <= 0) {\n\t                    break;\n\t                }\n\t                // Reduce: make a binary expression from the three topmost entries.\n\t                while ((stack.length > 2) && (prec <= precedences[precedences.length - 1])) {\n\t                    right = stack.pop();\n\t                    var operator = stack.pop();\n\t                    precedences.pop();\n\t                    left = stack.pop();\n\t                    markers.pop();\n\t                    var node = this.startNode(markers[markers.length - 1]);\n\t                    stack.push(this.finalize(node, new Node.BinaryExpression(operator, left, right)));\n\t                }\n\t                // Shift.\n\t                stack.push(this.nextToken().value);\n\t                precedences.push(prec);\n\t                markers.push(this.lookahead);\n\t                stack.push(this.isolateCoverGrammar(this.parseExponentiationExpression));\n\t            }\n\t            // Final reduce to clean-up the stack.\n\t            var i = stack.length - 1;\n\t            expr = stack[i];\n\t            var lastMarker = markers.pop();\n\t            while (i > 1) {\n\t                var marker = markers.pop();\n\t                var lastLineStart = lastMarker && lastMarker.lineStart;\n\t                var node = this.startNode(marker, lastLineStart);\n\t                var operator = stack[i - 1];\n\t                expr = this.finalize(node, new Node.BinaryExpression(operator, stack[i - 2], expr));\n\t                i -= 2;\n\t                lastMarker = marker;\n\t            }\n\t        }\n\t        return expr;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-conditional-operator\n\t    Parser.prototype.parseConditionalExpression = function () {\n\t        var startToken = this.lookahead;\n\t        var expr = this.inheritCoverGrammar(this.parseBinaryExpression);\n\t        if (this.match('?')) {\n\t            this.nextToken();\n\t            var previousAllowIn = this.context.allowIn;\n\t            this.context.allowIn = true;\n\t            var consequent = this.isolateCoverGrammar(this.parseAssignmentExpression);\n\t            this.context.allowIn = previousAllowIn;\n\t            this.expect(':');\n\t            var alternate = this.isolateCoverGrammar(this.parseAssignmentExpression);\n\t            expr = this.finalize(this.startNode(startToken), new Node.ConditionalExpression(expr, consequent, alternate));\n\t            this.context.isAssignmentTarget = false;\n\t            this.context.isBindingElement = false;\n\t        }\n\t        return expr;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-assignment-operators\n\t    Parser.prototype.checkPatternParam = function (options, param) {\n\t        switch (param.type) {\n\t            case syntax_1.Syntax.Identifier:\n\t                this.validateParam(options, param, param.name);\n\t                break;\n\t            case syntax_1.Syntax.RestElement:\n\t                this.checkPatternParam(options, param.argument);\n\t                break;\n\t            case syntax_1.Syntax.AssignmentPattern:\n\t                this.checkPatternParam(options, param.left);\n\t                break;\n\t            case syntax_1.Syntax.ArrayPattern:\n\t                for (var i = 0; i < param.elements.length; i++) {\n\t                    if (param.elements[i] !== null) {\n\t                        this.checkPatternParam(options, param.elements[i]);\n\t                    }\n\t                }\n\t                break;\n\t            case syntax_1.Syntax.ObjectPattern:\n\t                for (var i = 0; i < param.properties.length; i++) {\n\t                    this.checkPatternParam(options, param.properties[i].value);\n\t                }\n\t                break;\n\t            default:\n\t                break;\n\t        }\n\t        options.simple = options.simple && (param instanceof Node.Identifier);\n\t    };\n\t    Parser.prototype.reinterpretAsCoverFormalsList = function (expr) {\n\t        var params = [expr];\n\t        var options;\n\t        var asyncArrow = false;\n\t        switch (expr.type) {\n\t            case syntax_1.Syntax.Identifier:\n\t                break;\n\t            case ArrowParameterPlaceHolder:\n\t                params = expr.params;\n\t                asyncArrow = expr.async;\n\t                break;\n\t            default:\n\t                return null;\n\t        }\n\t        options = {\n\t            simple: true,\n\t            paramSet: {}\n\t        };\n\t        for (var i = 0; i < params.length; ++i) {\n\t            var param = params[i];\n\t            if (param.type === syntax_1.Syntax.AssignmentPattern) {\n\t                if (param.right.type === syntax_1.Syntax.YieldExpression) {\n\t                    if (param.right.argument) {\n\t                        this.throwUnexpectedToken(this.lookahead);\n\t                    }\n\t                    param.right.type = syntax_1.Syntax.Identifier;\n\t                    param.right.name = 'yield';\n\t                    delete param.right.argument;\n\t                    delete param.right.delegate;\n\t                }\n\t            }\n\t            else if (asyncArrow && param.type === syntax_1.Syntax.Identifier && param.name === 'await') {\n\t                this.throwUnexpectedToken(this.lookahead);\n\t            }\n\t            this.checkPatternParam(options, param);\n\t            params[i] = param;\n\t        }\n\t        if (this.context.strict || !this.context.allowYield) {\n\t            for (var i = 0; i < params.length; ++i) {\n\t                var param = params[i];\n\t                if (param.type === syntax_1.Syntax.YieldExpression) {\n\t                    this.throwUnexpectedToken(this.lookahead);\n\t                }\n\t            }\n\t        }\n\t        if (options.message === messages_1.Messages.StrictParamDupe) {\n\t            var token = this.context.strict ? options.stricted : options.firstRestricted;\n\t            this.throwUnexpectedToken(token, options.message);\n\t        }\n\t        return {\n\t            simple: options.simple,\n\t            params: params,\n\t            stricted: options.stricted,\n\t            firstRestricted: options.firstRestricted,\n\t            message: options.message\n\t        };\n\t    };\n\t    Parser.prototype.parseAssignmentExpression = function () {\n\t        var expr;\n\t        if (!this.context.allowYield && this.matchKeyword('yield')) {\n\t            expr = this.parseYieldExpression();\n\t        }\n\t        else {\n\t            var startToken = this.lookahead;\n\t            var token = startToken;\n\t            expr = this.parseConditionalExpression();\n\t            if (token.type === 3 /* Identifier */ && (token.lineNumber === this.lookahead.lineNumber) && token.value === 'async') {\n\t                if (this.lookahead.type === 3 /* Identifier */ || this.matchKeyword('yield')) {\n\t                    var arg = this.parsePrimaryExpression();\n\t                    this.reinterpretExpressionAsPattern(arg);\n\t                    expr = {\n\t                        type: ArrowParameterPlaceHolder,\n\t                        params: [arg],\n\t                        async: true\n\t                    };\n\t                }\n\t            }\n\t            if (expr.type === ArrowParameterPlaceHolder || this.match('=>')) {\n\t                // https://tc39.github.io/ecma262/#sec-arrow-function-definitions\n\t                this.context.isAssignmentTarget = false;\n\t                this.context.isBindingElement = false;\n\t                var isAsync = expr.async;\n\t                var list = this.reinterpretAsCoverFormalsList(expr);\n\t                if (list) {\n\t                    if (this.hasLineTerminator) {\n\t                        this.tolerateUnexpectedToken(this.lookahead);\n\t                    }\n\t                    this.context.firstCoverInitializedNameError = null;\n\t                    var previousStrict = this.context.strict;\n\t                    var previousAllowStrictDirective = this.context.allowStrictDirective;\n\t                    this.context.allowStrictDirective = list.simple;\n\t                    var previousAllowYield = this.context.allowYield;\n\t                    var previousAwait = this.context.await;\n\t                    this.context.allowYield = true;\n\t                    this.context.await = isAsync;\n\t                    var node = this.startNode(startToken);\n\t                    this.expect('=>');\n\t                    var body = void 0;\n\t                    if (this.match('{')) {\n\t                        var previousAllowIn = this.context.allowIn;\n\t                        this.context.allowIn = true;\n\t                        body = this.parseFunctionSourceElements();\n\t                        this.context.allowIn = previousAllowIn;\n\t                    }\n\t                    else {\n\t                        body = this.isolateCoverGrammar(this.parseAssignmentExpression);\n\t                    }\n\t                    var expression = body.type !== syntax_1.Syntax.BlockStatement;\n\t                    if (this.context.strict && list.firstRestricted) {\n\t                        this.throwUnexpectedToken(list.firstRestricted, list.message);\n\t                    }\n\t                    if (this.context.strict && list.stricted) {\n\t                        this.tolerateUnexpectedToken(list.stricted, list.message);\n\t                    }\n\t                    expr = isAsync ? this.finalize(node, new Node.AsyncArrowFunctionExpression(list.params, body, expression)) :\n\t                        this.finalize(node, new Node.ArrowFunctionExpression(list.params, body, expression));\n\t                    this.context.strict = previousStrict;\n\t                    this.context.allowStrictDirective = previousAllowStrictDirective;\n\t                    this.context.allowYield = previousAllowYield;\n\t                    this.context.await = previousAwait;\n\t                }\n\t            }\n\t            else {\n\t                if (this.matchAssign()) {\n\t                    if (!this.context.isAssignmentTarget) {\n\t                        this.tolerateError(messages_1.Messages.InvalidLHSInAssignment);\n\t                    }\n\t                    if (this.context.strict && expr.type === syntax_1.Syntax.Identifier) {\n\t                        var id = expr;\n\t                        if (this.scanner.isRestrictedWord(id.name)) {\n\t                            this.tolerateUnexpectedToken(token, messages_1.Messages.StrictLHSAssignment);\n\t                        }\n\t                        if (this.scanner.isStrictModeReservedWord(id.name)) {\n\t                            this.tolerateUnexpectedToken(token, messages_1.Messages.StrictReservedWord);\n\t                        }\n\t                    }\n\t                    if (!this.match('=')) {\n\t                        this.context.isAssignmentTarget = false;\n\t                        this.context.isBindingElement = false;\n\t                    }\n\t                    else {\n\t                        this.reinterpretExpressionAsPattern(expr);\n\t                    }\n\t                    token = this.nextToken();\n\t                    var operator = token.value;\n\t                    var right = this.isolateCoverGrammar(this.parseAssignmentExpression);\n\t                    expr = this.finalize(this.startNode(startToken), new Node.AssignmentExpression(operator, expr, right));\n\t                    this.context.firstCoverInitializedNameError = null;\n\t                }\n\t            }\n\t        }\n\t        return expr;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-comma-operator\n\t    Parser.prototype.parseExpression = function () {\n\t        var startToken = this.lookahead;\n\t        var expr = this.isolateCoverGrammar(this.parseAssignmentExpression);\n\t        if (this.match(',')) {\n\t            var expressions = [];\n\t            expressions.push(expr);\n\t            while (this.lookahead.type !== 2 /* EOF */) {\n\t                if (!this.match(',')) {\n\t                    break;\n\t                }\n\t                this.nextToken();\n\t                expressions.push(this.isolateCoverGrammar(this.parseAssignmentExpression));\n\t            }\n\t            expr = this.finalize(this.startNode(startToken), new Node.SequenceExpression(expressions));\n\t        }\n\t        return expr;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-block\n\t    Parser.prototype.parseStatementListItem = function () {\n\t        var statement;\n\t        this.context.isAssignmentTarget = true;\n\t        this.context.isBindingElement = true;\n\t        if (this.lookahead.type === 4 /* Keyword */) {\n\t            switch (this.lookahead.value) {\n\t                case 'export':\n\t                    if (!this.context.isModule) {\n\t                        this.tolerateUnexpectedToken(this.lookahead, messages_1.Messages.IllegalExportDeclaration);\n\t                    }\n\t                    statement = this.parseExportDeclaration();\n\t                    break;\n\t                case 'import':\n\t                    if (!this.context.isModule) {\n\t                        this.tolerateUnexpectedToken(this.lookahead, messages_1.Messages.IllegalImportDeclaration);\n\t                    }\n\t                    statement = this.parseImportDeclaration();\n\t                    break;\n\t                case 'const':\n\t                    statement = this.parseLexicalDeclaration({ inFor: false });\n\t                    break;\n\t                case 'function':\n\t                    statement = this.parseFunctionDeclaration();\n\t                    break;\n\t                case 'class':\n\t                    statement = this.parseClassDeclaration();\n\t                    break;\n\t                case 'let':\n\t                    statement = this.isLexicalDeclaration() ? this.parseLexicalDeclaration({ inFor: false }) : this.parseStatement();\n\t                    break;\n\t                default:\n\t                    statement = this.parseStatement();\n\t                    break;\n\t            }\n\t        }\n\t        else {\n\t            statement = this.parseStatement();\n\t        }\n\t        return statement;\n\t    };\n\t    Parser.prototype.parseBlock = function () {\n\t        var node = this.createNode();\n\t        this.expect('{');\n\t        var block = [];\n\t        while (true) {\n\t            if (this.match('}')) {\n\t                break;\n\t            }\n\t            block.push(this.parseStatementListItem());\n\t        }\n\t        this.expect('}');\n\t        return this.finalize(node, new Node.BlockStatement(block));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-let-and-const-declarations\n\t    Parser.prototype.parseLexicalBinding = function (kind, options) {\n\t        var node = this.createNode();\n\t        var params = [];\n\t        var id = this.parsePattern(params, kind);\n\t        if (this.context.strict && id.type === syntax_1.Syntax.Identifier) {\n\t            if (this.scanner.isRestrictedWord(id.name)) {\n\t                this.tolerateError(messages_1.Messages.StrictVarName);\n\t            }\n\t        }\n\t        var init = null;\n\t        if (kind === 'const') {\n\t            if (!this.matchKeyword('in') && !this.matchContextualKeyword('of')) {\n\t                if (this.match('=')) {\n\t                    this.nextToken();\n\t                    init = this.isolateCoverGrammar(this.parseAssignmentExpression);\n\t                }\n\t                else {\n\t                    this.throwError(messages_1.Messages.DeclarationMissingInitializer, 'const');\n\t                }\n\t            }\n\t        }\n\t        else if ((!options.inFor && id.type !== syntax_1.Syntax.Identifier) || this.match('=')) {\n\t            this.expect('=');\n\t            init = this.isolateCoverGrammar(this.parseAssignmentExpression);\n\t        }\n\t        return this.finalize(node, new Node.VariableDeclarator(id, init));\n\t    };\n\t    Parser.prototype.parseBindingList = function (kind, options) {\n\t        var list = [this.parseLexicalBinding(kind, options)];\n\t        while (this.match(',')) {\n\t            this.nextToken();\n\t            list.push(this.parseLexicalBinding(kind, options));\n\t        }\n\t        return list;\n\t    };\n\t    Parser.prototype.isLexicalDeclaration = function () {\n\t        var state = this.scanner.saveState();\n\t        this.scanner.scanComments();\n\t        var next = this.scanner.lex();\n\t        this.scanner.restoreState(state);\n\t        return (next.type === 3 /* Identifier */) ||\n\t            (next.type === 7 /* Punctuator */ && next.value === '[') ||\n\t            (next.type === 7 /* Punctuator */ && next.value === '{') ||\n\t            (next.type === 4 /* Keyword */ && next.value === 'let') ||\n\t            (next.type === 4 /* Keyword */ && next.value === 'yield');\n\t    };\n\t    Parser.prototype.parseLexicalDeclaration = function (options) {\n\t        var node = this.createNode();\n\t        var kind = this.nextToken().value;\n\t        assert_1.assert(kind === 'let' || kind === 'const', 'Lexical declaration must be either let or const');\n\t        var declarations = this.parseBindingList(kind, options);\n\t        this.consumeSemicolon();\n\t        return this.finalize(node, new Node.VariableDeclaration(declarations, kind));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-destructuring-binding-patterns\n\t    Parser.prototype.parseBindingRestElement = function (params, kind) {\n\t        var node = this.createNode();\n\t        this.expect('...');\n\t        var arg = this.parsePattern(params, kind);\n\t        return this.finalize(node, new Node.RestElement(arg));\n\t    };\n\t    Parser.prototype.parseArrayPattern = function (params, kind) {\n\t        var node = this.createNode();\n\t        this.expect('[');\n\t        var elements = [];\n\t        while (!this.match(']')) {\n\t            if (this.match(',')) {\n\t                this.nextToken();\n\t                elements.push(null);\n\t            }\n\t            else {\n\t                if (this.match('...')) {\n\t                    elements.push(this.parseBindingRestElement(params, kind));\n\t                    break;\n\t                }\n\t                else {\n\t                    elements.push(this.parsePatternWithDefault(params, kind));\n\t                }\n\t                if (!this.match(']')) {\n\t                    this.expect(',');\n\t                }\n\t            }\n\t        }\n\t        this.expect(']');\n\t        return this.finalize(node, new Node.ArrayPattern(elements));\n\t    };\n\t    Parser.prototype.parsePropertyPattern = function (params, kind) {\n\t        var node = this.createNode();\n\t        var computed = false;\n\t        var shorthand = false;\n\t        var method = false;\n\t        var key;\n\t        var value;\n\t        if (this.lookahead.type === 3 /* Identifier */) {\n\t            var keyToken = this.lookahead;\n\t            key = this.parseVariableIdentifier();\n\t            var init = this.finalize(node, new Node.Identifier(keyToken.value));\n\t            if (this.match('=')) {\n\t                params.push(keyToken);\n\t                shorthand = true;\n\t                this.nextToken();\n\t                var expr = this.parseAssignmentExpression();\n\t                value = this.finalize(this.startNode(keyToken), new Node.AssignmentPattern(init, expr));\n\t            }\n\t            else if (!this.match(':')) {\n\t                params.push(keyToken);\n\t                shorthand = true;\n\t                value = init;\n\t            }\n\t            else {\n\t                this.expect(':');\n\t                value = this.parsePatternWithDefault(params, kind);\n\t            }\n\t        }\n\t        else {\n\t            computed = this.match('[');\n\t            key = this.parseObjectPropertyKey();\n\t            this.expect(':');\n\t            value = this.parsePatternWithDefault(params, kind);\n\t        }\n\t        return this.finalize(node, new Node.Property('init', key, computed, value, method, shorthand));\n\t    };\n\t    Parser.prototype.parseObjectPattern = function (params, kind) {\n\t        var node = this.createNode();\n\t        var properties = [];\n\t        this.expect('{');\n\t        while (!this.match('}')) {\n\t            properties.push(this.parsePropertyPattern(params, kind));\n\t            if (!this.match('}')) {\n\t                this.expect(',');\n\t            }\n\t        }\n\t        this.expect('}');\n\t        return this.finalize(node, new Node.ObjectPattern(properties));\n\t    };\n\t    Parser.prototype.parsePattern = function (params, kind) {\n\t        var pattern;\n\t        if (this.match('[')) {\n\t            pattern = this.parseArrayPattern(params, kind);\n\t        }\n\t        else if (this.match('{')) {\n\t            pattern = this.parseObjectPattern(params, kind);\n\t        }\n\t        else {\n\t            if (this.matchKeyword('let') && (kind === 'const' || kind === 'let')) {\n\t                this.tolerateUnexpectedToken(this.lookahead, messages_1.Messages.LetInLexicalBinding);\n\t            }\n\t            params.push(this.lookahead);\n\t            pattern = this.parseVariableIdentifier(kind);\n\t        }\n\t        return pattern;\n\t    };\n\t    Parser.prototype.parsePatternWithDefault = function (params, kind) {\n\t        var startToken = this.lookahead;\n\t        var pattern = this.parsePattern(params, kind);\n\t        if (this.match('=')) {\n\t            this.nextToken();\n\t            var previousAllowYield = this.context.allowYield;\n\t            this.context.allowYield = true;\n\t            var right = this.isolateCoverGrammar(this.parseAssignmentExpression);\n\t            this.context.allowYield = previousAllowYield;\n\t            pattern = this.finalize(this.startNode(startToken), new Node.AssignmentPattern(pattern, right));\n\t        }\n\t        return pattern;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-variable-statement\n\t    Parser.prototype.parseVariableIdentifier = function (kind) {\n\t        var node = this.createNode();\n\t        var token = this.nextToken();\n\t        if (token.type === 4 /* Keyword */ && token.value === 'yield') {\n\t            if (this.context.strict) {\n\t                this.tolerateUnexpectedToken(token, messages_1.Messages.StrictReservedWord);\n\t            }\n\t            else if (!this.context.allowYield) {\n\t                this.throwUnexpectedToken(token);\n\t            }\n\t        }\n\t        else if (token.type !== 3 /* Identifier */) {\n\t            if (this.context.strict && token.type === 4 /* Keyword */ && this.scanner.isStrictModeReservedWord(token.value)) {\n\t                this.tolerateUnexpectedToken(token, messages_1.Messages.StrictReservedWord);\n\t            }\n\t            else {\n\t                if (this.context.strict || token.value !== 'let' || kind !== 'var') {\n\t                    this.throwUnexpectedToken(token);\n\t                }\n\t            }\n\t        }\n\t        else if ((this.context.isModule || this.context.await) && token.type === 3 /* Identifier */ && token.value === 'await') {\n\t            this.tolerateUnexpectedToken(token);\n\t        }\n\t        return this.finalize(node, new Node.Identifier(token.value));\n\t    };\n\t    Parser.prototype.parseVariableDeclaration = function (options) {\n\t        var node = this.createNode();\n\t        var params = [];\n\t        var id = this.parsePattern(params, 'var');\n\t        if (this.context.strict && id.type === syntax_1.Syntax.Identifier) {\n\t            if (this.scanner.isRestrictedWord(id.name)) {\n\t                this.tolerateError(messages_1.Messages.StrictVarName);\n\t            }\n\t        }\n\t        var init = null;\n\t        if (this.match('=')) {\n\t            this.nextToken();\n\t            init = this.isolateCoverGrammar(this.parseAssignmentExpression);\n\t        }\n\t        else if (id.type !== syntax_1.Syntax.Identifier && !options.inFor) {\n\t            this.expect('=');\n\t        }\n\t        return this.finalize(node, new Node.VariableDeclarator(id, init));\n\t    };\n\t    Parser.prototype.parseVariableDeclarationList = function (options) {\n\t        var opt = { inFor: options.inFor };\n\t        var list = [];\n\t        list.push(this.parseVariableDeclaration(opt));\n\t        while (this.match(',')) {\n\t            this.nextToken();\n\t            list.push(this.parseVariableDeclaration(opt));\n\t        }\n\t        return list;\n\t    };\n\t    Parser.prototype.parseVariableStatement = function () {\n\t        var node = this.createNode();\n\t        this.expectKeyword('var');\n\t        var declarations = this.parseVariableDeclarationList({ inFor: false });\n\t        this.consumeSemicolon();\n\t        return this.finalize(node, new Node.VariableDeclaration(declarations, 'var'));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-empty-statement\n\t    Parser.prototype.parseEmptyStatement = function () {\n\t        var node = this.createNode();\n\t        this.expect(';');\n\t        return this.finalize(node, new Node.EmptyStatement());\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-expression-statement\n\t    Parser.prototype.parseExpressionStatement = function () {\n\t        var node = this.createNode();\n\t        var expr = this.parseExpression();\n\t        this.consumeSemicolon();\n\t        return this.finalize(node, new Node.ExpressionStatement(expr));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-if-statement\n\t    Parser.prototype.parseIfClause = function () {\n\t        if (this.context.strict && this.matchKeyword('function')) {\n\t            this.tolerateError(messages_1.Messages.StrictFunction);\n\t        }\n\t        return this.parseStatement();\n\t    };\n\t    Parser.prototype.parseIfStatement = function () {\n\t        var node = this.createNode();\n\t        var consequent;\n\t        var alternate = null;\n\t        this.expectKeyword('if');\n\t        this.expect('(');\n\t        var test = this.parseExpression();\n\t        if (!this.match(')') && this.config.tolerant) {\n\t            this.tolerateUnexpectedToken(this.nextToken());\n\t            consequent = this.finalize(this.createNode(), new Node.EmptyStatement());\n\t        }\n\t        else {\n\t            this.expect(')');\n\t            consequent = this.parseIfClause();\n\t            if (this.matchKeyword('else')) {\n\t                this.nextToken();\n\t                alternate = this.parseIfClause();\n\t            }\n\t        }\n\t        return this.finalize(node, new Node.IfStatement(test, consequent, alternate));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-do-while-statement\n\t    Parser.prototype.parseDoWhileStatement = function () {\n\t        var node = this.createNode();\n\t        this.expectKeyword('do');\n\t        var previousInIteration = this.context.inIteration;\n\t        this.context.inIteration = true;\n\t        var body = this.parseStatement();\n\t        this.context.inIteration = previousInIteration;\n\t        this.expectKeyword('while');\n\t        this.expect('(');\n\t        var test = this.parseExpression();\n\t        if (!this.match(')') && this.config.tolerant) {\n\t            this.tolerateUnexpectedToken(this.nextToken());\n\t        }\n\t        else {\n\t            this.expect(')');\n\t            if (this.match(';')) {\n\t                this.nextToken();\n\t            }\n\t        }\n\t        return this.finalize(node, new Node.DoWhileStatement(body, test));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-while-statement\n\t    Parser.prototype.parseWhileStatement = function () {\n\t        var node = this.createNode();\n\t        var body;\n\t        this.expectKeyword('while');\n\t        this.expect('(');\n\t        var test = this.parseExpression();\n\t        if (!this.match(')') && this.config.tolerant) {\n\t            this.tolerateUnexpectedToken(this.nextToken());\n\t            body = this.finalize(this.createNode(), new Node.EmptyStatement());\n\t        }\n\t        else {\n\t            this.expect(')');\n\t            var previousInIteration = this.context.inIteration;\n\t            this.context.inIteration = true;\n\t            body = this.parseStatement();\n\t            this.context.inIteration = previousInIteration;\n\t        }\n\t        return this.finalize(node, new Node.WhileStatement(test, body));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-for-statement\n\t    // https://tc39.github.io/ecma262/#sec-for-in-and-for-of-statements\n\t    Parser.prototype.parseForStatement = function () {\n\t        var init = null;\n\t        var test = null;\n\t        var update = null;\n\t        var forIn = true;\n\t        var left, right;\n\t        var node = this.createNode();\n\t        this.expectKeyword('for');\n\t        this.expect('(');\n\t        if (this.match(';')) {\n\t            this.nextToken();\n\t        }\n\t        else {\n\t            if (this.matchKeyword('var')) {\n\t                init = this.createNode();\n\t                this.nextToken();\n\t                var previousAllowIn = this.context.allowIn;\n\t                this.context.allowIn = false;\n\t                var declarations = this.parseVariableDeclarationList({ inFor: true });\n\t                this.context.allowIn = previousAllowIn;\n\t                if (declarations.length === 1 && this.matchKeyword('in')) {\n\t                    var decl = declarations[0];\n\t                    if (decl.init && (decl.id.type === syntax_1.Syntax.ArrayPattern || decl.id.type === syntax_1.Syntax.ObjectPattern || this.context.strict)) {\n\t                        this.tolerateError(messages_1.Messages.ForInOfLoopInitializer, 'for-in');\n\t                    }\n\t                    init = this.finalize(init, new Node.VariableDeclaration(declarations, 'var'));\n\t                    this.nextToken();\n\t                    left = init;\n\t                    right = this.parseExpression();\n\t                    init = null;\n\t                }\n\t                else if (declarations.length === 1 && declarations[0].init === null && this.matchContextualKeyword('of')) {\n\t                    init = this.finalize(init, new Node.VariableDeclaration(declarations, 'var'));\n\t                    this.nextToken();\n\t                    left = init;\n\t                    right = this.parseAssignmentExpression();\n\t                    init = null;\n\t                    forIn = false;\n\t                }\n\t                else {\n\t                    init = this.finalize(init, new Node.VariableDeclaration(declarations, 'var'));\n\t                    this.expect(';');\n\t                }\n\t            }\n\t            else if (this.matchKeyword('const') || this.matchKeyword('let')) {\n\t                init = this.createNode();\n\t                var kind = this.nextToken().value;\n\t                if (!this.context.strict && this.lookahead.value === 'in') {\n\t                    init = this.finalize(init, new Node.Identifier(kind));\n\t                    this.nextToken();\n\t                    left = init;\n\t                    right = this.parseExpression();\n\t                    init = null;\n\t                }\n\t                else {\n\t                    var previousAllowIn = this.context.allowIn;\n\t                    this.context.allowIn = false;\n\t                    var declarations = this.parseBindingList(kind, { inFor: true });\n\t                    this.context.allowIn = previousAllowIn;\n\t                    if (declarations.length === 1 && declarations[0].init === null && this.matchKeyword('in')) {\n\t                        init = this.finalize(init, new Node.VariableDeclaration(declarations, kind));\n\t                        this.nextToken();\n\t                        left = init;\n\t                        right = this.parseExpression();\n\t                        init = null;\n\t                    }\n\t                    else if (declarations.length === 1 && declarations[0].init === null && this.matchContextualKeyword('of')) {\n\t                        init = this.finalize(init, new Node.VariableDeclaration(declarations, kind));\n\t                        this.nextToken();\n\t                        left = init;\n\t                        right = this.parseAssignmentExpression();\n\t                        init = null;\n\t                        forIn = false;\n\t                    }\n\t                    else {\n\t                        this.consumeSemicolon();\n\t                        init = this.finalize(init, new Node.VariableDeclaration(declarations, kind));\n\t                    }\n\t                }\n\t            }\n\t            else {\n\t                var initStartToken = this.lookahead;\n\t                var previousAllowIn = this.context.allowIn;\n\t                this.context.allowIn = false;\n\t                init = this.inheritCoverGrammar(this.parseAssignmentExpression);\n\t                this.context.allowIn = previousAllowIn;\n\t                if (this.matchKeyword('in')) {\n\t                    if (!this.context.isAssignmentTarget || init.type === syntax_1.Syntax.AssignmentExpression) {\n\t                        this.tolerateError(messages_1.Messages.InvalidLHSInForIn);\n\t                    }\n\t                    this.nextToken();\n\t                    this.reinterpretExpressionAsPattern(init);\n\t                    left = init;\n\t                    right = this.parseExpression();\n\t                    init = null;\n\t                }\n\t                else if (this.matchContextualKeyword('of')) {\n\t                    if (!this.context.isAssignmentTarget || init.type === syntax_1.Syntax.AssignmentExpression) {\n\t                        this.tolerateError(messages_1.Messages.InvalidLHSInForLoop);\n\t                    }\n\t                    this.nextToken();\n\t                    this.reinterpretExpressionAsPattern(init);\n\t                    left = init;\n\t                    right = this.parseAssignmentExpression();\n\t                    init = null;\n\t                    forIn = false;\n\t                }\n\t                else {\n\t                    if (this.match(',')) {\n\t                        var initSeq = [init];\n\t                        while (this.match(',')) {\n\t                            this.nextToken();\n\t                            initSeq.push(this.isolateCoverGrammar(this.parseAssignmentExpression));\n\t                        }\n\t                        init = this.finalize(this.startNode(initStartToken), new Node.SequenceExpression(initSeq));\n\t                    }\n\t                    this.expect(';');\n\t                }\n\t            }\n\t        }\n\t        if (typeof left === 'undefined') {\n\t            if (!this.match(';')) {\n\t                test = this.parseExpression();\n\t            }\n\t            this.expect(';');\n\t            if (!this.match(')')) {\n\t                update = this.parseExpression();\n\t            }\n\t        }\n\t        var body;\n\t        if (!this.match(')') && this.config.tolerant) {\n\t            this.tolerateUnexpectedToken(this.nextToken());\n\t            body = this.finalize(this.createNode(), new Node.EmptyStatement());\n\t        }\n\t        else {\n\t            this.expect(')');\n\t            var previousInIteration = this.context.inIteration;\n\t            this.context.inIteration = true;\n\t            body = this.isolateCoverGrammar(this.parseStatement);\n\t            this.context.inIteration = previousInIteration;\n\t        }\n\t        return (typeof left === 'undefined') ?\n\t            this.finalize(node, new Node.ForStatement(init, test, update, body)) :\n\t            forIn ? this.finalize(node, new Node.ForInStatement(left, right, body)) :\n\t                this.finalize(node, new Node.ForOfStatement(left, right, body));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-continue-statement\n\t    Parser.prototype.parseContinueStatement = function () {\n\t        var node = this.createNode();\n\t        this.expectKeyword('continue');\n\t        var label = null;\n\t        if (this.lookahead.type === 3 /* Identifier */ && !this.hasLineTerminator) {\n\t            var id = this.parseVariableIdentifier();\n\t            label = id;\n\t            var key = '$' + id.name;\n\t            if (!Object.prototype.hasOwnProperty.call(this.context.labelSet, key)) {\n\t                this.throwError(messages_1.Messages.UnknownLabel, id.name);\n\t            }\n\t        }\n\t        this.consumeSemicolon();\n\t        if (label === null && !this.context.inIteration) {\n\t            this.throwError(messages_1.Messages.IllegalContinue);\n\t        }\n\t        return this.finalize(node, new Node.ContinueStatement(label));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-break-statement\n\t    Parser.prototype.parseBreakStatement = function () {\n\t        var node = this.createNode();\n\t        this.expectKeyword('break');\n\t        var label = null;\n\t        if (this.lookahead.type === 3 /* Identifier */ && !this.hasLineTerminator) {\n\t            var id = this.parseVariableIdentifier();\n\t            var key = '$' + id.name;\n\t            if (!Object.prototype.hasOwnProperty.call(this.context.labelSet, key)) {\n\t                this.throwError(messages_1.Messages.UnknownLabel, id.name);\n\t            }\n\t            label = id;\n\t        }\n\t        this.consumeSemicolon();\n\t        if (label === null && !this.context.inIteration && !this.context.inSwitch) {\n\t            this.throwError(messages_1.Messages.IllegalBreak);\n\t        }\n\t        return this.finalize(node, new Node.BreakStatement(label));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-return-statement\n\t    Parser.prototype.parseReturnStatement = function () {\n\t        if (!this.context.inFunctionBody) {\n\t            this.tolerateError(messages_1.Messages.IllegalReturn);\n\t        }\n\t        var node = this.createNode();\n\t        this.expectKeyword('return');\n\t        var hasArgument = (!this.match(';') && !this.match('}') &&\n\t            !this.hasLineTerminator && this.lookahead.type !== 2 /* EOF */) ||\n\t            this.lookahead.type === 8 /* StringLiteral */ ||\n\t            this.lookahead.type === 10 /* Template */;\n\t        var argument = hasArgument ? this.parseExpression() : null;\n\t        this.consumeSemicolon();\n\t        return this.finalize(node, new Node.ReturnStatement(argument));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-with-statement\n\t    Parser.prototype.parseWithStatement = function () {\n\t        if (this.context.strict) {\n\t            this.tolerateError(messages_1.Messages.StrictModeWith);\n\t        }\n\t        var node = this.createNode();\n\t        var body;\n\t        this.expectKeyword('with');\n\t        this.expect('(');\n\t        var object = this.parseExpression();\n\t        if (!this.match(')') && this.config.tolerant) {\n\t            this.tolerateUnexpectedToken(this.nextToken());\n\t            body = this.finalize(this.createNode(), new Node.EmptyStatement());\n\t        }\n\t        else {\n\t            this.expect(')');\n\t            body = this.parseStatement();\n\t        }\n\t        return this.finalize(node, new Node.WithStatement(object, body));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-switch-statement\n\t    Parser.prototype.parseSwitchCase = function () {\n\t        var node = this.createNode();\n\t        var test;\n\t        if (this.matchKeyword('default')) {\n\t            this.nextToken();\n\t            test = null;\n\t        }\n\t        else {\n\t            this.expectKeyword('case');\n\t            test = this.parseExpression();\n\t        }\n\t        this.expect(':');\n\t        var consequent = [];\n\t        while (true) {\n\t            if (this.match('}') || this.matchKeyword('default') || this.matchKeyword('case')) {\n\t                break;\n\t            }\n\t            consequent.push(this.parseStatementListItem());\n\t        }\n\t        return this.finalize(node, new Node.SwitchCase(test, consequent));\n\t    };\n\t    Parser.prototype.parseSwitchStatement = function () {\n\t        var node = this.createNode();\n\t        this.expectKeyword('switch');\n\t        this.expect('(');\n\t        var discriminant = this.parseExpression();\n\t        this.expect(')');\n\t        var previousInSwitch = this.context.inSwitch;\n\t        this.context.inSwitch = true;\n\t        var cases = [];\n\t        var defaultFound = false;\n\t        this.expect('{');\n\t        while (true) {\n\t            if (this.match('}')) {\n\t                break;\n\t            }\n\t            var clause = this.parseSwitchCase();\n\t            if (clause.test === null) {\n\t                if (defaultFound) {\n\t                    this.throwError(messages_1.Messages.MultipleDefaultsInSwitch);\n\t                }\n\t                defaultFound = true;\n\t            }\n\t            cases.push(clause);\n\t        }\n\t        this.expect('}');\n\t        this.context.inSwitch = previousInSwitch;\n\t        return this.finalize(node, new Node.SwitchStatement(discriminant, cases));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-labelled-statements\n\t    Parser.prototype.parseLabelledStatement = function () {\n\t        var node = this.createNode();\n\t        var expr = this.parseExpression();\n\t        var statement;\n\t        if ((expr.type === syntax_1.Syntax.Identifier) && this.match(':')) {\n\t            this.nextToken();\n\t            var id = expr;\n\t            var key = '$' + id.name;\n\t            if (Object.prototype.hasOwnProperty.call(this.context.labelSet, key)) {\n\t                this.throwError(messages_1.Messages.Redeclaration, 'Label', id.name);\n\t            }\n\t            this.context.labelSet[key] = true;\n\t            var body = void 0;\n\t            if (this.matchKeyword('class')) {\n\t                this.tolerateUnexpectedToken(this.lookahead);\n\t                body = this.parseClassDeclaration();\n\t            }\n\t            else if (this.matchKeyword('function')) {\n\t                var token = this.lookahead;\n\t                var declaration = this.parseFunctionDeclaration();\n\t                if (this.context.strict) {\n\t                    this.tolerateUnexpectedToken(token, messages_1.Messages.StrictFunction);\n\t                }\n\t                else if (declaration.generator) {\n\t                    this.tolerateUnexpectedToken(token, messages_1.Messages.GeneratorInLegacyContext);\n\t                }\n\t                body = declaration;\n\t            }\n\t            else {\n\t                body = this.parseStatement();\n\t            }\n\t            delete this.context.labelSet[key];\n\t            statement = new Node.LabeledStatement(id, body);\n\t        }\n\t        else {\n\t            this.consumeSemicolon();\n\t            statement = new Node.ExpressionStatement(expr);\n\t        }\n\t        return this.finalize(node, statement);\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-throw-statement\n\t    Parser.prototype.parseThrowStatement = function () {\n\t        var node = this.createNode();\n\t        this.expectKeyword('throw');\n\t        if (this.hasLineTerminator) {\n\t            this.throwError(messages_1.Messages.NewlineAfterThrow);\n\t        }\n\t        var argument = this.parseExpression();\n\t        this.consumeSemicolon();\n\t        return this.finalize(node, new Node.ThrowStatement(argument));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-try-statement\n\t    Parser.prototype.parseCatchClause = function () {\n\t        var node = this.createNode();\n\t        this.expectKeyword('catch');\n\t        this.expect('(');\n\t        if (this.match(')')) {\n\t            this.throwUnexpectedToken(this.lookahead);\n\t        }\n\t        var params = [];\n\t        var param = this.parsePattern(params);\n\t        var paramMap = {};\n\t        for (var i = 0; i < params.length; i++) {\n\t            var key = '$' + params[i].value;\n\t            if (Object.prototype.hasOwnProperty.call(paramMap, key)) {\n\t                this.tolerateError(messages_1.Messages.DuplicateBinding, params[i].value);\n\t            }\n\t            paramMap[key] = true;\n\t        }\n\t        if (this.context.strict && param.type === syntax_1.Syntax.Identifier) {\n\t            if (this.scanner.isRestrictedWord(param.name)) {\n\t                this.tolerateError(messages_1.Messages.StrictCatchVariable);\n\t            }\n\t        }\n\t        this.expect(')');\n\t        var body = this.parseBlock();\n\t        return this.finalize(node, new Node.CatchClause(param, body));\n\t    };\n\t    Parser.prototype.parseFinallyClause = function () {\n\t        this.expectKeyword('finally');\n\t        return this.parseBlock();\n\t    };\n\t    Parser.prototype.parseTryStatement = function () {\n\t        var node = this.createNode();\n\t        this.expectKeyword('try');\n\t        var block = this.parseBlock();\n\t        var handler = this.matchKeyword('catch') ? this.parseCatchClause() : null;\n\t        var finalizer = this.matchKeyword('finally') ? this.parseFinallyClause() : null;\n\t        if (!handler && !finalizer) {\n\t            this.throwError(messages_1.Messages.NoCatchOrFinally);\n\t        }\n\t        return this.finalize(node, new Node.TryStatement(block, handler, finalizer));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-debugger-statement\n\t    Parser.prototype.parseDebuggerStatement = function () {\n\t        var node = this.createNode();\n\t        this.expectKeyword('debugger');\n\t        this.consumeSemicolon();\n\t        return this.finalize(node, new Node.DebuggerStatement());\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-ecmascript-language-statements-and-declarations\n\t    Parser.prototype.parseStatement = function () {\n\t        var statement;\n\t        switch (this.lookahead.type) {\n\t            case 1 /* BooleanLiteral */:\n\t            case 5 /* NullLiteral */:\n\t            case 6 /* NumericLiteral */:\n\t            case 8 /* StringLiteral */:\n\t            case 10 /* Template */:\n\t            case 9 /* RegularExpression */:\n\t                statement = this.parseExpressionStatement();\n\t                break;\n\t            case 7 /* Punctuator */:\n\t                var value = this.lookahead.value;\n\t                if (value === '{') {\n\t                    statement = this.parseBlock();\n\t                }\n\t                else if (value === '(') {\n\t                    statement = this.parseExpressionStatement();\n\t                }\n\t                else if (value === ';') {\n\t                    statement = this.parseEmptyStatement();\n\t                }\n\t                else {\n\t                    statement = this.parseExpressionStatement();\n\t                }\n\t                break;\n\t            case 3 /* Identifier */:\n\t                statement = this.matchAsyncFunction() ? this.parseFunctionDeclaration() : this.parseLabelledStatement();\n\t                break;\n\t            case 4 /* Keyword */:\n\t                switch (this.lookahead.value) {\n\t                    case 'break':\n\t                        statement = this.parseBreakStatement();\n\t                        break;\n\t                    case 'continue':\n\t                        statement = this.parseContinueStatement();\n\t                        break;\n\t                    case 'debugger':\n\t                        statement = this.parseDebuggerStatement();\n\t                        break;\n\t                    case 'do':\n\t                        statement = this.parseDoWhileStatement();\n\t                        break;\n\t                    case 'for':\n\t                        statement = this.parseForStatement();\n\t                        break;\n\t                    case 'function':\n\t                        statement = this.parseFunctionDeclaration();\n\t                        break;\n\t                    case 'if':\n\t                        statement = this.parseIfStatement();\n\t                        break;\n\t                    case 'return':\n\t                        statement = this.parseReturnStatement();\n\t                        break;\n\t                    case 'switch':\n\t                        statement = this.parseSwitchStatement();\n\t                        break;\n\t                    case 'throw':\n\t                        statement = this.parseThrowStatement();\n\t                        break;\n\t                    case 'try':\n\t                        statement = this.parseTryStatement();\n\t                        break;\n\t                    case 'var':\n\t                        statement = this.parseVariableStatement();\n\t                        break;\n\t                    case 'while':\n\t                        statement = this.parseWhileStatement();\n\t                        break;\n\t                    case 'with':\n\t                        statement = this.parseWithStatement();\n\t                        break;\n\t                    default:\n\t                        statement = this.parseExpressionStatement();\n\t                        break;\n\t                }\n\t                break;\n\t            default:\n\t                statement = this.throwUnexpectedToken(this.lookahead);\n\t        }\n\t        return statement;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-function-definitions\n\t    Parser.prototype.parseFunctionSourceElements = function () {\n\t        var node = this.createNode();\n\t        this.expect('{');\n\t        var body = this.parseDirectivePrologues();\n\t        var previousLabelSet = this.context.labelSet;\n\t        var previousInIteration = this.context.inIteration;\n\t        var previousInSwitch = this.context.inSwitch;\n\t        var previousInFunctionBody = this.context.inFunctionBody;\n\t        this.context.labelSet = {};\n\t        this.context.inIteration = false;\n\t        this.context.inSwitch = false;\n\t        this.context.inFunctionBody = true;\n\t        while (this.lookahead.type !== 2 /* EOF */) {\n\t            if (this.match('}')) {\n\t                break;\n\t            }\n\t            body.push(this.parseStatementListItem());\n\t        }\n\t        this.expect('}');\n\t        this.context.labelSet = previousLabelSet;\n\t        this.context.inIteration = previousInIteration;\n\t        this.context.inSwitch = previousInSwitch;\n\t        this.context.inFunctionBody = previousInFunctionBody;\n\t        return this.finalize(node, new Node.BlockStatement(body));\n\t    };\n\t    Parser.prototype.validateParam = function (options, param, name) {\n\t        var key = '$' + name;\n\t        if (this.context.strict) {\n\t            if (this.scanner.isRestrictedWord(name)) {\n\t                options.stricted = param;\n\t                options.message = messages_1.Messages.StrictParamName;\n\t            }\n\t            if (Object.prototype.hasOwnProperty.call(options.paramSet, key)) {\n\t                options.stricted = param;\n\t                options.message = messages_1.Messages.StrictParamDupe;\n\t            }\n\t        }\n\t        else if (!options.firstRestricted) {\n\t            if (this.scanner.isRestrictedWord(name)) {\n\t                options.firstRestricted = param;\n\t                options.message = messages_1.Messages.StrictParamName;\n\t            }\n\t            else if (this.scanner.isStrictModeReservedWord(name)) {\n\t                options.firstRestricted = param;\n\t                options.message = messages_1.Messages.StrictReservedWord;\n\t            }\n\t            else if (Object.prototype.hasOwnProperty.call(options.paramSet, key)) {\n\t                options.stricted = param;\n\t                options.message = messages_1.Messages.StrictParamDupe;\n\t            }\n\t        }\n\t        /* istanbul ignore next */\n\t        if (typeof Object.defineProperty === 'function') {\n\t            Object.defineProperty(options.paramSet, key, { value: true, enumerable: true, writable: true, configurable: true });\n\t        }\n\t        else {\n\t            options.paramSet[key] = true;\n\t        }\n\t    };\n\t    Parser.prototype.parseRestElement = function (params) {\n\t        var node = this.createNode();\n\t        this.expect('...');\n\t        var arg = this.parsePattern(params);\n\t        if (this.match('=')) {\n\t            this.throwError(messages_1.Messages.DefaultRestParameter);\n\t        }\n\t        if (!this.match(')')) {\n\t            this.throwError(messages_1.Messages.ParameterAfterRestParameter);\n\t        }\n\t        return this.finalize(node, new Node.RestElement(arg));\n\t    };\n\t    Parser.prototype.parseFormalParameter = function (options) {\n\t        var params = [];\n\t        var param = this.match('...') ? this.parseRestElement(params) : this.parsePatternWithDefault(params);\n\t        for (var i = 0; i < params.length; i++) {\n\t            this.validateParam(options, params[i], params[i].value);\n\t        }\n\t        options.simple = options.simple && (param instanceof Node.Identifier);\n\t        options.params.push(param);\n\t    };\n\t    Parser.prototype.parseFormalParameters = function (firstRestricted) {\n\t        var options;\n\t        options = {\n\t            simple: true,\n\t            params: [],\n\t            firstRestricted: firstRestricted\n\t        };\n\t        this.expect('(');\n\t        if (!this.match(')')) {\n\t            options.paramSet = {};\n\t            while (this.lookahead.type !== 2 /* EOF */) {\n\t                this.parseFormalParameter(options);\n\t                if (this.match(')')) {\n\t                    break;\n\t                }\n\t                this.expect(',');\n\t                if (this.match(')')) {\n\t                    break;\n\t                }\n\t            }\n\t        }\n\t        this.expect(')');\n\t        return {\n\t            simple: options.simple,\n\t            params: options.params,\n\t            stricted: options.stricted,\n\t            firstRestricted: options.firstRestricted,\n\t            message: options.message\n\t        };\n\t    };\n\t    Parser.prototype.matchAsyncFunction = function () {\n\t        var match = this.matchContextualKeyword('async');\n\t        if (match) {\n\t            var state = this.scanner.saveState();\n\t            this.scanner.scanComments();\n\t            var next = this.scanner.lex();\n\t            this.scanner.restoreState(state);\n\t            match = (state.lineNumber === next.lineNumber) && (next.type === 4 /* Keyword */) && (next.value === 'function');\n\t        }\n\t        return match;\n\t    };\n\t    Parser.prototype.parseFunctionDeclaration = function (identifierIsOptional) {\n\t        var node = this.createNode();\n\t        var isAsync = this.matchContextualKeyword('async');\n\t        if (isAsync) {\n\t            this.nextToken();\n\t        }\n\t        this.expectKeyword('function');\n\t        var isGenerator = isAsync ? false : this.match('*');\n\t        if (isGenerator) {\n\t            this.nextToken();\n\t        }\n\t        var message;\n\t        var id = null;\n\t        var firstRestricted = null;\n\t        if (!identifierIsOptional || !this.match('(')) {\n\t            var token = this.lookahead;\n\t            id = this.parseVariableIdentifier();\n\t            if (this.context.strict) {\n\t                if (this.scanner.isRestrictedWord(token.value)) {\n\t                    this.tolerateUnexpectedToken(token, messages_1.Messages.StrictFunctionName);\n\t                }\n\t            }\n\t            else {\n\t                if (this.scanner.isRestrictedWord(token.value)) {\n\t                    firstRestricted = token;\n\t                    message = messages_1.Messages.StrictFunctionName;\n\t                }\n\t                else if (this.scanner.isStrictModeReservedWord(token.value)) {\n\t                    firstRestricted = token;\n\t                    message = messages_1.Messages.StrictReservedWord;\n\t                }\n\t            }\n\t        }\n\t        var previousAllowAwait = this.context.await;\n\t        var previousAllowYield = this.context.allowYield;\n\t        this.context.await = isAsync;\n\t        this.context.allowYield = !isGenerator;\n\t        var formalParameters = this.parseFormalParameters(firstRestricted);\n\t        var params = formalParameters.params;\n\t        var stricted = formalParameters.stricted;\n\t        firstRestricted = formalParameters.firstRestricted;\n\t        if (formalParameters.message) {\n\t            message = formalParameters.message;\n\t        }\n\t        var previousStrict = this.context.strict;\n\t        var previousAllowStrictDirective = this.context.allowStrictDirective;\n\t        this.context.allowStrictDirective = formalParameters.simple;\n\t        var body = this.parseFunctionSourceElements();\n\t        if (this.context.strict && firstRestricted) {\n\t            this.throwUnexpectedToken(firstRestricted, message);\n\t        }\n\t        if (this.context.strict && stricted) {\n\t            this.tolerateUnexpectedToken(stricted, message);\n\t        }\n\t        this.context.strict = previousStrict;\n\t        this.context.allowStrictDirective = previousAllowStrictDirective;\n\t        this.context.await = previousAllowAwait;\n\t        this.context.allowYield = previousAllowYield;\n\t        return isAsync ? this.finalize(node, new Node.AsyncFunctionDeclaration(id, params, body)) :\n\t            this.finalize(node, new Node.FunctionDeclaration(id, params, body, isGenerator));\n\t    };\n\t    Parser.prototype.parseFunctionExpression = function () {\n\t        var node = this.createNode();\n\t        var isAsync = this.matchContextualKeyword('async');\n\t        if (isAsync) {\n\t            this.nextToken();\n\t        }\n\t        this.expectKeyword('function');\n\t        var isGenerator = isAsync ? false : this.match('*');\n\t        if (isGenerator) {\n\t            this.nextToken();\n\t        }\n\t        var message;\n\t        var id = null;\n\t        var firstRestricted;\n\t        var previousAllowAwait = this.context.await;\n\t        var previousAllowYield = this.context.allowYield;\n\t        this.context.await = isAsync;\n\t        this.context.allowYield = !isGenerator;\n\t        if (!this.match('(')) {\n\t            var token = this.lookahead;\n\t            id = (!this.context.strict && !isGenerator && this.matchKeyword('yield')) ? this.parseIdentifierName() : this.parseVariableIdentifier();\n\t            if (this.context.strict) {\n\t                if (this.scanner.isRestrictedWord(token.value)) {\n\t                    this.tolerateUnexpectedToken(token, messages_1.Messages.StrictFunctionName);\n\t                }\n\t            }\n\t            else {\n\t                if (this.scanner.isRestrictedWord(token.value)) {\n\t                    firstRestricted = token;\n\t                    message = messages_1.Messages.StrictFunctionName;\n\t                }\n\t                else if (this.scanner.isStrictModeReservedWord(token.value)) {\n\t                    firstRestricted = token;\n\t                    message = messages_1.Messages.StrictReservedWord;\n\t                }\n\t            }\n\t        }\n\t        var formalParameters = this.parseFormalParameters(firstRestricted);\n\t        var params = formalParameters.params;\n\t        var stricted = formalParameters.stricted;\n\t        firstRestricted = formalParameters.firstRestricted;\n\t        if (formalParameters.message) {\n\t            message = formalParameters.message;\n\t        }\n\t        var previousStrict = this.context.strict;\n\t        var previousAllowStrictDirective = this.context.allowStrictDirective;\n\t        this.context.allowStrictDirective = formalParameters.simple;\n\t        var body = this.parseFunctionSourceElements();\n\t        if (this.context.strict && firstRestricted) {\n\t            this.throwUnexpectedToken(firstRestricted, message);\n\t        }\n\t        if (this.context.strict && stricted) {\n\t            this.tolerateUnexpectedToken(stricted, message);\n\t        }\n\t        this.context.strict = previousStrict;\n\t        this.context.allowStrictDirective = previousAllowStrictDirective;\n\t        this.context.await = previousAllowAwait;\n\t        this.context.allowYield = previousAllowYield;\n\t        return isAsync ? this.finalize(node, new Node.AsyncFunctionExpression(id, params, body)) :\n\t            this.finalize(node, new Node.FunctionExpression(id, params, body, isGenerator));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-directive-prologues-and-the-use-strict-directive\n\t    Parser.prototype.parseDirective = function () {\n\t        var token = this.lookahead;\n\t        var node = this.createNode();\n\t        var expr = this.parseExpression();\n\t        var directive = (expr.type === syntax_1.Syntax.Literal) ? this.getTokenRaw(token).slice(1, -1) : null;\n\t        this.consumeSemicolon();\n\t        return this.finalize(node, directive ? new Node.Directive(expr, directive) : new Node.ExpressionStatement(expr));\n\t    };\n\t    Parser.prototype.parseDirectivePrologues = function () {\n\t        var firstRestricted = null;\n\t        var body = [];\n\t        while (true) {\n\t            var token = this.lookahead;\n\t            if (token.type !== 8 /* StringLiteral */) {\n\t                break;\n\t            }\n\t            var statement = this.parseDirective();\n\t            body.push(statement);\n\t            var directive = statement.directive;\n\t            if (typeof directive !== 'string') {\n\t                break;\n\t            }\n\t            if (directive === 'use strict') {\n\t                this.context.strict = true;\n\t                if (firstRestricted) {\n\t                    this.tolerateUnexpectedToken(firstRestricted, messages_1.Messages.StrictOctalLiteral);\n\t                }\n\t                if (!this.context.allowStrictDirective) {\n\t                    this.tolerateUnexpectedToken(token, messages_1.Messages.IllegalLanguageModeDirective);\n\t                }\n\t            }\n\t            else {\n\t                if (!firstRestricted && token.octal) {\n\t                    firstRestricted = token;\n\t                }\n\t            }\n\t        }\n\t        return body;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-method-definitions\n\t    Parser.prototype.qualifiedPropertyName = function (token) {\n\t        switch (token.type) {\n\t            case 3 /* Identifier */:\n\t            case 8 /* StringLiteral */:\n\t            case 1 /* BooleanLiteral */:\n\t            case 5 /* NullLiteral */:\n\t            case 6 /* NumericLiteral */:\n\t            case 4 /* Keyword */:\n\t                return true;\n\t            case 7 /* Punctuator */:\n\t                return token.value === '[';\n\t            default:\n\t                break;\n\t        }\n\t        return false;\n\t    };\n\t    Parser.prototype.parseGetterMethod = function () {\n\t        var node = this.createNode();\n\t        var isGenerator = false;\n\t        var previousAllowYield = this.context.allowYield;\n\t        this.context.allowYield = !isGenerator;\n\t        var formalParameters = this.parseFormalParameters();\n\t        if (formalParameters.params.length > 0) {\n\t            this.tolerateError(messages_1.Messages.BadGetterArity);\n\t        }\n\t        var method = this.parsePropertyMethod(formalParameters);\n\t        this.context.allowYield = previousAllowYield;\n\t        return this.finalize(node, new Node.FunctionExpression(null, formalParameters.params, method, isGenerator));\n\t    };\n\t    Parser.prototype.parseSetterMethod = function () {\n\t        var node = this.createNode();\n\t        var isGenerator = false;\n\t        var previousAllowYield = this.context.allowYield;\n\t        this.context.allowYield = !isGenerator;\n\t        var formalParameters = this.parseFormalParameters();\n\t        if (formalParameters.params.length !== 1) {\n\t            this.tolerateError(messages_1.Messages.BadSetterArity);\n\t        }\n\t        else if (formalParameters.params[0] instanceof Node.RestElement) {\n\t            this.tolerateError(messages_1.Messages.BadSetterRestParameter);\n\t        }\n\t        var method = this.parsePropertyMethod(formalParameters);\n\t        this.context.allowYield = previousAllowYield;\n\t        return this.finalize(node, new Node.FunctionExpression(null, formalParameters.params, method, isGenerator));\n\t    };\n\t    Parser.prototype.parseGeneratorMethod = function () {\n\t        var node = this.createNode();\n\t        var isGenerator = true;\n\t        var previousAllowYield = this.context.allowYield;\n\t        this.context.allowYield = true;\n\t        var params = this.parseFormalParameters();\n\t        this.context.allowYield = false;\n\t        var method = this.parsePropertyMethod(params);\n\t        this.context.allowYield = previousAllowYield;\n\t        return this.finalize(node, new Node.FunctionExpression(null, params.params, method, isGenerator));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-generator-function-definitions\n\t    Parser.prototype.isStartOfExpression = function () {\n\t        var start = true;\n\t        var value = this.lookahead.value;\n\t        switch (this.lookahead.type) {\n\t            case 7 /* Punctuator */:\n\t                start = (value === '[') || (value === '(') || (value === '{') ||\n\t                    (value === '+') || (value === '-') ||\n\t                    (value === '!') || (value === '~') ||\n\t                    (value === '++') || (value === '--') ||\n\t                    (value === '/') || (value === '/='); // regular expression literal\n\t                break;\n\t            case 4 /* Keyword */:\n\t                start = (value === 'class') || (value === 'delete') ||\n\t                    (value === 'function') || (value === 'let') || (value === 'new') ||\n\t                    (value === 'super') || (value === 'this') || (value === 'typeof') ||\n\t                    (value === 'void') || (value === 'yield');\n\t                break;\n\t            default:\n\t                break;\n\t        }\n\t        return start;\n\t    };\n\t    Parser.prototype.parseYieldExpression = function () {\n\t        var node = this.createNode();\n\t        this.expectKeyword('yield');\n\t        var argument = null;\n\t        var delegate = false;\n\t        if (!this.hasLineTerminator) {\n\t            var previousAllowYield = this.context.allowYield;\n\t            this.context.allowYield = false;\n\t            delegate = this.match('*');\n\t            if (delegate) {\n\t                this.nextToken();\n\t                argument = this.parseAssignmentExpression();\n\t            }\n\t            else if (this.isStartOfExpression()) {\n\t                argument = this.parseAssignmentExpression();\n\t            }\n\t            this.context.allowYield = previousAllowYield;\n\t        }\n\t        return this.finalize(node, new Node.YieldExpression(argument, delegate));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-class-definitions\n\t    Parser.prototype.parseClassElement = function (hasConstructor) {\n\t        var token = this.lookahead;\n\t        var node = this.createNode();\n\t        var kind = '';\n\t        var key = null;\n\t        var value = null;\n\t        var computed = false;\n\t        var method = false;\n\t        var isStatic = false;\n\t        var isAsync = false;\n\t        if (this.match('*')) {\n\t            this.nextToken();\n\t        }\n\t        else {\n\t            computed = this.match('[');\n\t            key = this.parseObjectPropertyKey();\n\t            var id = key;\n\t            if (id.name === 'static' && (this.qualifiedPropertyName(this.lookahead) || this.match('*'))) {\n\t                token = this.lookahead;\n\t                isStatic = true;\n\t                computed = this.match('[');\n\t                if (this.match('*')) {\n\t                    this.nextToken();\n\t                }\n\t                else {\n\t                    key = this.parseObjectPropertyKey();\n\t                }\n\t            }\n\t            if ((token.type === 3 /* Identifier */) && !this.hasLineTerminator && (token.value === 'async')) {\n\t                var punctuator = this.lookahead.value;\n\t                if (punctuator !== ':' && punctuator !== '(' && punctuator !== '*') {\n\t                    isAsync = true;\n\t                    token = this.lookahead;\n\t                    key = this.parseObjectPropertyKey();\n\t                    if (token.type === 3 /* Identifier */ && token.value === 'constructor') {\n\t                        this.tolerateUnexpectedToken(token, messages_1.Messages.ConstructorIsAsync);\n\t                    }\n\t                }\n\t            }\n\t        }\n\t        var lookaheadPropertyKey = this.qualifiedPropertyName(this.lookahead);\n\t        if (token.type === 3 /* Identifier */) {\n\t            if (token.value === 'get' && lookaheadPropertyKey) {\n\t                kind = 'get';\n\t                computed = this.match('[');\n\t                key = this.parseObjectPropertyKey();\n\t                this.context.allowYield = false;\n\t                value = this.parseGetterMethod();\n\t            }\n\t            else if (token.value === 'set' && lookaheadPropertyKey) {\n\t                kind = 'set';\n\t                computed = this.match('[');\n\t                key = this.parseObjectPropertyKey();\n\t                value = this.parseSetterMethod();\n\t            }\n\t        }\n\t        else if (token.type === 7 /* Punctuator */ && token.value === '*' && lookaheadPropertyKey) {\n\t            kind = 'init';\n\t            computed = this.match('[');\n\t            key = this.parseObjectPropertyKey();\n\t            value = this.parseGeneratorMethod();\n\t            method = true;\n\t        }\n\t        if (!kind && key && this.match('(')) {\n\t            kind = 'init';\n\t            value = isAsync ? this.parsePropertyMethodAsyncFunction() : this.parsePropertyMethodFunction();\n\t            method = true;\n\t        }\n\t        if (!kind) {\n\t            this.throwUnexpectedToken(this.lookahead);\n\t        }\n\t        if (kind === 'init') {\n\t            kind = 'method';\n\t        }\n\t        if (!computed) {\n\t            if (isStatic && this.isPropertyKey(key, 'prototype')) {\n\t                this.throwUnexpectedToken(token, messages_1.Messages.StaticPrototype);\n\t            }\n\t            if (!isStatic && this.isPropertyKey(key, 'constructor')) {\n\t                if (kind !== 'method' || !method || (value && value.generator)) {\n\t                    this.throwUnexpectedToken(token, messages_1.Messages.ConstructorSpecialMethod);\n\t                }\n\t                if (hasConstructor.value) {\n\t                    this.throwUnexpectedToken(token, messages_1.Messages.DuplicateConstructor);\n\t                }\n\t                else {\n\t                    hasConstructor.value = true;\n\t                }\n\t                kind = 'constructor';\n\t            }\n\t        }\n\t        return this.finalize(node, new Node.MethodDefinition(key, computed, value, kind, isStatic));\n\t    };\n\t    Parser.prototype.parseClassElementList = function () {\n\t        var body = [];\n\t        var hasConstructor = { value: false };\n\t        this.expect('{');\n\t        while (!this.match('}')) {\n\t            if (this.match(';')) {\n\t                this.nextToken();\n\t            }\n\t            else {\n\t                body.push(this.parseClassElement(hasConstructor));\n\t            }\n\t        }\n\t        this.expect('}');\n\t        return body;\n\t    };\n\t    Parser.prototype.parseClassBody = function () {\n\t        var node = this.createNode();\n\t        var elementList = this.parseClassElementList();\n\t        return this.finalize(node, new Node.ClassBody(elementList));\n\t    };\n\t    Parser.prototype.parseClassDeclaration = function (identifierIsOptional) {\n\t        var node = this.createNode();\n\t        var previousStrict = this.context.strict;\n\t        this.context.strict = true;\n\t        this.expectKeyword('class');\n\t        var id = (identifierIsOptional && (this.lookahead.type !== 3 /* Identifier */)) ? null : this.parseVariableIdentifier();\n\t        var superClass = null;\n\t        if (this.matchKeyword('extends')) {\n\t            this.nextToken();\n\t            superClass = this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall);\n\t        }\n\t        var classBody = this.parseClassBody();\n\t        this.context.strict = previousStrict;\n\t        return this.finalize(node, new Node.ClassDeclaration(id, superClass, classBody));\n\t    };\n\t    Parser.prototype.parseClassExpression = function () {\n\t        var node = this.createNode();\n\t        var previousStrict = this.context.strict;\n\t        this.context.strict = true;\n\t        this.expectKeyword('class');\n\t        var id = (this.lookahead.type === 3 /* Identifier */) ? this.parseVariableIdentifier() : null;\n\t        var superClass = null;\n\t        if (this.matchKeyword('extends')) {\n\t            this.nextToken();\n\t            superClass = this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall);\n\t        }\n\t        var classBody = this.parseClassBody();\n\t        this.context.strict = previousStrict;\n\t        return this.finalize(node, new Node.ClassExpression(id, superClass, classBody));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-scripts\n\t    // https://tc39.github.io/ecma262/#sec-modules\n\t    Parser.prototype.parseModule = function () {\n\t        this.context.strict = true;\n\t        this.context.isModule = true;\n\t        this.scanner.isModule = true;\n\t        var node = this.createNode();\n\t        var body = this.parseDirectivePrologues();\n\t        while (this.lookahead.type !== 2 /* EOF */) {\n\t            body.push(this.parseStatementListItem());\n\t        }\n\t        return this.finalize(node, new Node.Module(body));\n\t    };\n\t    Parser.prototype.parseScript = function () {\n\t        var node = this.createNode();\n\t        var body = this.parseDirectivePrologues();\n\t        while (this.lookahead.type !== 2 /* EOF */) {\n\t            body.push(this.parseStatementListItem());\n\t        }\n\t        return this.finalize(node, new Node.Script(body));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-imports\n\t    Parser.prototype.parseModuleSpecifier = function () {\n\t        var node = this.createNode();\n\t        if (this.lookahead.type !== 8 /* StringLiteral */) {\n\t            this.throwError(messages_1.Messages.InvalidModuleSpecifier);\n\t        }\n\t        var token = this.nextToken();\n\t        var raw = this.getTokenRaw(token);\n\t        return this.finalize(node, new Node.Literal(token.value, raw));\n\t    };\n\t    // import {<foo as bar>} ...;\n\t    Parser.prototype.parseImportSpecifier = function () {\n\t        var node = this.createNode();\n\t        var imported;\n\t        var local;\n\t        if (this.lookahead.type === 3 /* Identifier */) {\n\t            imported = this.parseVariableIdentifier();\n\t            local = imported;\n\t            if (this.matchContextualKeyword('as')) {\n\t                this.nextToken();\n\t                local = this.parseVariableIdentifier();\n\t            }\n\t        }\n\t        else {\n\t            imported = this.parseIdentifierName();\n\t            local = imported;\n\t            if (this.matchContextualKeyword('as')) {\n\t                this.nextToken();\n\t                local = this.parseVariableIdentifier();\n\t            }\n\t            else {\n\t                this.throwUnexpectedToken(this.nextToken());\n\t            }\n\t        }\n\t        return this.finalize(node, new Node.ImportSpecifier(local, imported));\n\t    };\n\t    // {foo, bar as bas}\n\t    Parser.prototype.parseNamedImports = function () {\n\t        this.expect('{');\n\t        var specifiers = [];\n\t        while (!this.match('}')) {\n\t            specifiers.push(this.parseImportSpecifier());\n\t            if (!this.match('}')) {\n\t                this.expect(',');\n\t            }\n\t        }\n\t        this.expect('}');\n\t        return specifiers;\n\t    };\n\t    // import <foo> ...;\n\t    Parser.prototype.parseImportDefaultSpecifier = function () {\n\t        var node = this.createNode();\n\t        var local = this.parseIdentifierName();\n\t        return this.finalize(node, new Node.ImportDefaultSpecifier(local));\n\t    };\n\t    // import <* as foo> ...;\n\t    Parser.prototype.parseImportNamespaceSpecifier = function () {\n\t        var node = this.createNode();\n\t        this.expect('*');\n\t        if (!this.matchContextualKeyword('as')) {\n\t            this.throwError(messages_1.Messages.NoAsAfterImportNamespace);\n\t        }\n\t        this.nextToken();\n\t        var local = this.parseIdentifierName();\n\t        return this.finalize(node, new Node.ImportNamespaceSpecifier(local));\n\t    };\n\t    Parser.prototype.parseImportDeclaration = function () {\n\t        if (this.context.inFunctionBody) {\n\t            this.throwError(messages_1.Messages.IllegalImportDeclaration);\n\t        }\n\t        var node = this.createNode();\n\t        this.expectKeyword('import');\n\t        var src;\n\t        var specifiers = [];\n\t        if (this.lookahead.type === 8 /* StringLiteral */) {\n\t            // import 'foo';\n\t            src = this.parseModuleSpecifier();\n\t        }\n\t        else {\n\t            if (this.match('{')) {\n\t                // import {bar}\n\t                specifiers = specifiers.concat(this.parseNamedImports());\n\t            }\n\t            else if (this.match('*')) {\n\t                // import * as foo\n\t                specifiers.push(this.parseImportNamespaceSpecifier());\n\t            }\n\t            else if (this.isIdentifierName(this.lookahead) && !this.matchKeyword('default')) {\n\t                // import foo\n\t                specifiers.push(this.parseImportDefaultSpecifier());\n\t                if (this.match(',')) {\n\t                    this.nextToken();\n\t                    if (this.match('*')) {\n\t                        // import foo, * as foo\n\t                        specifiers.push(this.parseImportNamespaceSpecifier());\n\t                    }\n\t                    else if (this.match('{')) {\n\t                        // import foo, {bar}\n\t                        specifiers = specifiers.concat(this.parseNamedImports());\n\t                    }\n\t                    else {\n\t                        this.throwUnexpectedToken(this.lookahead);\n\t                    }\n\t                }\n\t            }\n\t            else {\n\t                this.throwUnexpectedToken(this.nextToken());\n\t            }\n\t            if (!this.matchContextualKeyword('from')) {\n\t                var message = this.lookahead.value ? messages_1.Messages.UnexpectedToken : messages_1.Messages.MissingFromClause;\n\t                this.throwError(message, this.lookahead.value);\n\t            }\n\t            this.nextToken();\n\t            src = this.parseModuleSpecifier();\n\t        }\n\t        this.consumeSemicolon();\n\t        return this.finalize(node, new Node.ImportDeclaration(specifiers, src));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-exports\n\t    Parser.prototype.parseExportSpecifier = function () {\n\t        var node = this.createNode();\n\t        var local = this.parseIdentifierName();\n\t        var exported = local;\n\t        if (this.matchContextualKeyword('as')) {\n\t            this.nextToken();\n\t            exported = this.parseIdentifierName();\n\t        }\n\t        return this.finalize(node, new Node.ExportSpecifier(local, exported));\n\t    };\n\t    Parser.prototype.parseExportDeclaration = function () {\n\t        if (this.context.inFunctionBody) {\n\t            this.throwError(messages_1.Messages.IllegalExportDeclaration);\n\t        }\n\t        var node = this.createNode();\n\t        this.expectKeyword('export');\n\t        var exportDeclaration;\n\t        if (this.matchKeyword('default')) {\n\t            // export default ...\n\t            this.nextToken();\n\t            if (this.matchKeyword('function')) {\n\t                // export default function foo () {}\n\t                // export default function () {}\n\t                var declaration = this.parseFunctionDeclaration(true);\n\t                exportDeclaration = this.finalize(node, new Node.ExportDefaultDeclaration(declaration));\n\t            }\n\t            else if (this.matchKeyword('class')) {\n\t                // export default class foo {}\n\t                var declaration = this.parseClassDeclaration(true);\n\t                exportDeclaration = this.finalize(node, new Node.ExportDefaultDeclaration(declaration));\n\t            }\n\t            else if (this.matchContextualKeyword('async')) {\n\t                // export default async function f () {}\n\t                // export default async function () {}\n\t                // export default async x => x\n\t                var declaration = this.matchAsyncFunction() ? this.parseFunctionDeclaration(true) : this.parseAssignmentExpression();\n\t                exportDeclaration = this.finalize(node, new Node.ExportDefaultDeclaration(declaration));\n\t            }\n\t            else {\n\t                if (this.matchContextualKeyword('from')) {\n\t                    this.throwError(messages_1.Messages.UnexpectedToken, this.lookahead.value);\n\t                }\n\t                // export default {};\n\t                // export default [];\n\t                // export default (1 + 2);\n\t                var declaration = this.match('{') ? this.parseObjectInitializer() :\n\t                    this.match('[') ? this.parseArrayInitializer() : this.parseAssignmentExpression();\n\t                this.consumeSemicolon();\n\t                exportDeclaration = this.finalize(node, new Node.ExportDefaultDeclaration(declaration));\n\t            }\n\t        }\n\t        else if (this.match('*')) {\n\t            // export * from 'foo';\n\t            this.nextToken();\n\t            if (!this.matchContextualKeyword('from')) {\n\t                var message = this.lookahead.value ? messages_1.Messages.UnexpectedToken : messages_1.Messages.MissingFromClause;\n\t                this.throwError(message, this.lookahead.value);\n\t            }\n\t            this.nextToken();\n\t            var src = this.parseModuleSpecifier();\n\t            this.consumeSemicolon();\n\t            exportDeclaration = this.finalize(node, new Node.ExportAllDeclaration(src));\n\t        }\n\t        else if (this.lookahead.type === 4 /* Keyword */) {\n\t            // export var f = 1;\n\t            var declaration = void 0;\n\t            switch (this.lookahead.value) {\n\t                case 'let':\n\t                case 'const':\n\t                    declaration = this.parseLexicalDeclaration({ inFor: false });\n\t                    break;\n\t                case 'var':\n\t                case 'class':\n\t                case 'function':\n\t                    declaration = this.parseStatementListItem();\n\t                    break;\n\t                default:\n\t                    this.throwUnexpectedToken(this.lookahead);\n\t            }\n\t            exportDeclaration = this.finalize(node, new Node.ExportNamedDeclaration(declaration, [], null));\n\t        }\n\t        else if (this.matchAsyncFunction()) {\n\t            var declaration = this.parseFunctionDeclaration();\n\t            exportDeclaration = this.finalize(node, new Node.ExportNamedDeclaration(declaration, [], null));\n\t        }\n\t        else {\n\t            var specifiers = [];\n\t            var source = null;\n\t            var isExportFromIdentifier = false;\n\t            this.expect('{');\n\t            while (!this.match('}')) {\n\t                isExportFromIdentifier = isExportFromIdentifier || this.matchKeyword('default');\n\t                specifiers.push(this.parseExportSpecifier());\n\t                if (!this.match('}')) {\n\t                    this.expect(',');\n\t                }\n\t            }\n\t            this.expect('}');\n\t            if (this.matchContextualKeyword('from')) {\n\t                // export {default} from 'foo';\n\t                // export {foo} from 'foo';\n\t                this.nextToken();\n\t                source = this.parseModuleSpecifier();\n\t                this.consumeSemicolon();\n\t            }\n\t            else if (isExportFromIdentifier) {\n\t                // export {default}; // missing fromClause\n\t                var message = this.lookahead.value ? messages_1.Messages.UnexpectedToken : messages_1.Messages.MissingFromClause;\n\t                this.throwError(message, this.lookahead.value);\n\t            }\n\t            else {\n\t                // export {foo};\n\t                this.consumeSemicolon();\n\t            }\n\t            exportDeclaration = this.finalize(node, new Node.ExportNamedDeclaration(null, specifiers, source));\n\t        }\n\t        return exportDeclaration;\n\t    };\n\t    return Parser;\n\t}());\n\texports.Parser = Parser;\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t// Ensure the condition is true, otherwise throw an error.\n\t// This is only to have a better contract semantic, i.e. another safety net\n\t// to catch a logic error. The condition shall be fulfilled in normal case.\n\t// Do NOT use this to enforce a certain condition on any user input.\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tfunction assert(condition, message) {\n\t    /* istanbul ignore if */\n\t    if (!condition) {\n\t        throw new Error('ASSERT: ' + message);\n\t    }\n\t}\n\texports.assert = assert;\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t/* tslint:disable:max-classes-per-file */\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar ErrorHandler = (function () {\n\t    function ErrorHandler() {\n\t        this.errors = [];\n\t        this.tolerant = false;\n\t    }\n\t    ErrorHandler.prototype.recordError = function (error) {\n\t        this.errors.push(error);\n\t    };\n\t    ErrorHandler.prototype.tolerate = function (error) {\n\t        if (this.tolerant) {\n\t            this.recordError(error);\n\t        }\n\t        else {\n\t            throw error;\n\t        }\n\t    };\n\t    ErrorHandler.prototype.constructError = function (msg, column) {\n\t        var error = new Error(msg);\n\t        try {\n\t            throw error;\n\t        }\n\t        catch (base) {\n\t            /* istanbul ignore else */\n\t            if (Object.create && Object.defineProperty) {\n\t                error = Object.create(base);\n\t                Object.defineProperty(error, 'column', { value: column });\n\t            }\n\t        }\n\t        /* istanbul ignore next */\n\t        return error;\n\t    };\n\t    ErrorHandler.prototype.createError = function (index, line, col, description) {\n\t        var msg = 'Line ' + line + ': ' + description;\n\t        var error = this.constructError(msg, col);\n\t        error.index = index;\n\t        error.lineNumber = line;\n\t        error.description = description;\n\t        return error;\n\t    };\n\t    ErrorHandler.prototype.throwError = function (index, line, col, description) {\n\t        throw this.createError(index, line, col, description);\n\t    };\n\t    ErrorHandler.prototype.tolerateError = function (index, line, col, description) {\n\t        var error = this.createError(index, line, col, description);\n\t        if (this.tolerant) {\n\t            this.recordError(error);\n\t        }\n\t        else {\n\t            throw error;\n\t        }\n\t    };\n\t    return ErrorHandler;\n\t}());\n\texports.ErrorHandler = ErrorHandler;\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\t// Error messages should be identical to V8.\n\texports.Messages = {\n\t    BadGetterArity: 'Getter must not have any formal parameters',\n\t    BadSetterArity: 'Setter must have exactly one formal parameter',\n\t    BadSetterRestParameter: 'Setter function argument must not be a rest parameter',\n\t    ConstructorIsAsync: 'Class constructor may not be an async method',\n\t    ConstructorSpecialMethod: 'Class constructor may not be an accessor',\n\t    DeclarationMissingInitializer: 'Missing initializer in %0 declaration',\n\t    DefaultRestParameter: 'Unexpected token =',\n\t    DuplicateBinding: 'Duplicate binding %0',\n\t    DuplicateConstructor: 'A class may only have one constructor',\n\t    DuplicateProtoProperty: 'Duplicate __proto__ fields are not allowed in object literals',\n\t    ForInOfLoopInitializer: '%0 loop variable declaration may not have an initializer',\n\t    GeneratorInLegacyContext: 'Generator declarations are not allowed in legacy contexts',\n\t    IllegalBreak: 'Illegal break statement',\n\t    IllegalContinue: 'Illegal continue statement',\n\t    IllegalExportDeclaration: 'Unexpected token',\n\t    IllegalImportDeclaration: 'Unexpected token',\n\t    IllegalLanguageModeDirective: 'Illegal \\'use strict\\' directive in function with non-simple parameter list',\n\t    IllegalReturn: 'Illegal return statement',\n\t    InvalidEscapedReservedWord: 'Keyword must not contain escaped characters',\n\t    InvalidHexEscapeSequence: 'Invalid hexadecimal escape sequence',\n\t    InvalidLHSInAssignment: 'Invalid left-hand side in assignment',\n\t    InvalidLHSInForIn: 'Invalid left-hand side in for-in',\n\t    InvalidLHSInForLoop: 'Invalid left-hand side in for-loop',\n\t    InvalidModuleSpecifier: 'Unexpected token',\n\t    InvalidRegExp: 'Invalid regular expression',\n\t    LetInLexicalBinding: 'let is disallowed as a lexically bound name',\n\t    MissingFromClause: 'Unexpected token',\n\t    MultipleDefaultsInSwitch: 'More than one default clause in switch statement',\n\t    NewlineAfterThrow: 'Illegal newline after throw',\n\t    NoAsAfterImportNamespace: 'Unexpected token',\n\t    NoCatchOrFinally: 'Missing catch or finally after try',\n\t    ParameterAfterRestParameter: 'Rest parameter must be last formal parameter',\n\t    Redeclaration: '%0 \\'%1\\' has already been declared',\n\t    StaticPrototype: 'Classes may not have static property named prototype',\n\t    StrictCatchVariable: 'Catch variable may not be eval or arguments in strict mode',\n\t    StrictDelete: 'Delete of an unqualified identifier in strict mode.',\n\t    StrictFunction: 'In strict mode code, functions can only be declared at top level or inside a block',\n\t    StrictFunctionName: 'Function name may not be eval or arguments in strict mode',\n\t    StrictLHSAssignment: 'Assignment to eval or arguments is not allowed in strict mode',\n\t    StrictLHSPostfix: 'Postfix increment/decrement may not have eval or arguments operand in strict mode',\n\t    StrictLHSPrefix: 'Prefix increment/decrement may not have eval or arguments operand in strict mode',\n\t    StrictModeWith: 'Strict mode code may not include a with statement',\n\t    StrictOctalLiteral: 'Octal literals are not allowed in strict mode.',\n\t    StrictParamDupe: 'Strict mode function may not have duplicate parameter names',\n\t    StrictParamName: 'Parameter name eval or arguments is not allowed in strict mode',\n\t    StrictReservedWord: 'Use of future reserved word in strict mode',\n\t    StrictVarName: 'Variable name may not be eval or arguments in strict mode',\n\t    TemplateOctalLiteral: 'Octal literals are not allowed in template strings.',\n\t    UnexpectedEOS: 'Unexpected end of input',\n\t    UnexpectedIdentifier: 'Unexpected identifier',\n\t    UnexpectedNumber: 'Unexpected number',\n\t    UnexpectedReserved: 'Unexpected reserved word',\n\t    UnexpectedString: 'Unexpected string',\n\t    UnexpectedTemplate: 'Unexpected quasi %0',\n\t    UnexpectedToken: 'Unexpected token %0',\n\t    UnexpectedTokenIllegal: 'Unexpected token ILLEGAL',\n\t    UnknownLabel: 'Undefined label \\'%0\\'',\n\t    UnterminatedRegExp: 'Invalid regular expression: missing /'\n\t};\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar assert_1 = __webpack_require__(9);\n\tvar character_1 = __webpack_require__(4);\n\tvar messages_1 = __webpack_require__(11);\n\tfunction hexValue(ch) {\n\t    return '0123456789abcdef'.indexOf(ch.toLowerCase());\n\t}\n\tfunction octalValue(ch) {\n\t    return '01234567'.indexOf(ch);\n\t}\n\tvar Scanner = (function () {\n\t    function Scanner(code, handler) {\n\t        this.source = code;\n\t        this.errorHandler = handler;\n\t        this.trackComment = false;\n\t        this.isModule = false;\n\t        this.length = code.length;\n\t        this.index = 0;\n\t        this.lineNumber = (code.length > 0) ? 1 : 0;\n\t        this.lineStart = 0;\n\t        this.curlyStack = [];\n\t    }\n\t    Scanner.prototype.saveState = function () {\n\t        return {\n\t            index: this.index,\n\t            lineNumber: this.lineNumber,\n\t            lineStart: this.lineStart\n\t        };\n\t    };\n\t    Scanner.prototype.restoreState = function (state) {\n\t        this.index = state.index;\n\t        this.lineNumber = state.lineNumber;\n\t        this.lineStart = state.lineStart;\n\t    };\n\t    Scanner.prototype.eof = function () {\n\t        return this.index >= this.length;\n\t    };\n\t    Scanner.prototype.throwUnexpectedToken = function (message) {\n\t        if (message === void 0) { message = messages_1.Messages.UnexpectedTokenIllegal; }\n\t        return this.errorHandler.throwError(this.index, this.lineNumber, this.index - this.lineStart + 1, message);\n\t    };\n\t    Scanner.prototype.tolerateUnexpectedToken = function (message) {\n\t        if (message === void 0) { message = messages_1.Messages.UnexpectedTokenIllegal; }\n\t        this.errorHandler.tolerateError(this.index, this.lineNumber, this.index - this.lineStart + 1, message);\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-comments\n\t    Scanner.prototype.skipSingleLineComment = function (offset) {\n\t        var comments = [];\n\t        var start, loc;\n\t        if (this.trackComment) {\n\t            comments = [];\n\t            start = this.index - offset;\n\t            loc = {\n\t                start: {\n\t                    line: this.lineNumber,\n\t                    column: this.index - this.lineStart - offset\n\t                },\n\t                end: {}\n\t            };\n\t        }\n\t        while (!this.eof()) {\n\t            var ch = this.source.charCodeAt(this.index);\n\t            ++this.index;\n\t            if (character_1.Character.isLineTerminator(ch)) {\n\t                if (this.trackComment) {\n\t                    loc.end = {\n\t                        line: this.lineNumber,\n\t                        column: this.index - this.lineStart - 1\n\t                    };\n\t                    var entry = {\n\t                        multiLine: false,\n\t                        slice: [start + offset, this.index - 1],\n\t                        range: [start, this.index - 1],\n\t                        loc: loc\n\t                    };\n\t                    comments.push(entry);\n\t                }\n\t                if (ch === 13 && this.source.charCodeAt(this.index) === 10) {\n\t                    ++this.index;\n\t                }\n\t                ++this.lineNumber;\n\t                this.lineStart = this.index;\n\t                return comments;\n\t            }\n\t        }\n\t        if (this.trackComment) {\n\t            loc.end = {\n\t                line: this.lineNumber,\n\t                column: this.index - this.lineStart\n\t            };\n\t            var entry = {\n\t                multiLine: false,\n\t                slice: [start + offset, this.index],\n\t                range: [start, this.index],\n\t                loc: loc\n\t            };\n\t            comments.push(entry);\n\t        }\n\t        return comments;\n\t    };\n\t    Scanner.prototype.skipMultiLineComment = function () {\n\t        var comments = [];\n\t        var start, loc;\n\t        if (this.trackComment) {\n\t            comments = [];\n\t            start = this.index - 2;\n\t            loc = {\n\t                start: {\n\t                    line: this.lineNumber,\n\t                    column: this.index - this.lineStart - 2\n\t                },\n\t                end: {}\n\t            };\n\t        }\n\t        while (!this.eof()) {\n\t            var ch = this.source.charCodeAt(this.index);\n\t            if (character_1.Character.isLineTerminator(ch)) {\n\t                if (ch === 0x0D && this.source.charCodeAt(this.index + 1) === 0x0A) {\n\t                    ++this.index;\n\t                }\n\t                ++this.lineNumber;\n\t                ++this.index;\n\t                this.lineStart = this.index;\n\t            }\n\t            else if (ch === 0x2A) {\n\t                // Block comment ends with '*/'.\n\t                if (this.source.charCodeAt(this.index + 1) === 0x2F) {\n\t                    this.index += 2;\n\t                    if (this.trackComment) {\n\t                        loc.end = {\n\t                            line: this.lineNumber,\n\t                            column: this.index - this.lineStart\n\t                        };\n\t                        var entry = {\n\t                            multiLine: true,\n\t                            slice: [start + 2, this.index - 2],\n\t                            range: [start, this.index],\n\t                            loc: loc\n\t                        };\n\t                        comments.push(entry);\n\t                    }\n\t                    return comments;\n\t                }\n\t                ++this.index;\n\t            }\n\t            else {\n\t                ++this.index;\n\t            }\n\t        }\n\t        // Ran off the end of the file - the whole thing is a comment\n\t        if (this.trackComment) {\n\t            loc.end = {\n\t                line: this.lineNumber,\n\t                column: this.index - this.lineStart\n\t            };\n\t            var entry = {\n\t                multiLine: true,\n\t                slice: [start + 2, this.index],\n\t                range: [start, this.index],\n\t                loc: loc\n\t            };\n\t            comments.push(entry);\n\t        }\n\t        this.tolerateUnexpectedToken();\n\t        return comments;\n\t    };\n\t    Scanner.prototype.scanComments = function () {\n\t        var comments;\n\t        if (this.trackComment) {\n\t            comments = [];\n\t        }\n\t        var start = (this.index === 0);\n\t        while (!this.eof()) {\n\t            var ch = this.source.charCodeAt(this.index);\n\t            if (character_1.Character.isWhiteSpace(ch)) {\n\t                ++this.index;\n\t            }\n\t            else if (character_1.Character.isLineTerminator(ch)) {\n\t                ++this.index;\n\t                if (ch === 0x0D && this.source.charCodeAt(this.index) === 0x0A) {\n\t                    ++this.index;\n\t                }\n\t                ++this.lineNumber;\n\t                this.lineStart = this.index;\n\t                start = true;\n\t            }\n\t            else if (ch === 0x2F) {\n\t                ch = this.source.charCodeAt(this.index + 1);\n\t                if (ch === 0x2F) {\n\t                    this.index += 2;\n\t                    var comment = this.skipSingleLineComment(2);\n\t                    if (this.trackComment) {\n\t                        comments = comments.concat(comment);\n\t                    }\n\t                    start = true;\n\t                }\n\t                else if (ch === 0x2A) {\n\t                    this.index += 2;\n\t                    var comment = this.skipMultiLineComment();\n\t                    if (this.trackComment) {\n\t                        comments = comments.concat(comment);\n\t                    }\n\t                }\n\t                else {\n\t                    break;\n\t                }\n\t            }\n\t            else if (start && ch === 0x2D) {\n\t                // U+003E is '>'\n\t                if ((this.source.charCodeAt(this.index + 1) === 0x2D) && (this.source.charCodeAt(this.index + 2) === 0x3E)) {\n\t                    // '-->' is a single-line comment\n\t                    this.index += 3;\n\t                    var comment = this.skipSingleLineComment(3);\n\t                    if (this.trackComment) {\n\t                        comments = comments.concat(comment);\n\t                    }\n\t                }\n\t                else {\n\t                    break;\n\t                }\n\t            }\n\t            else if (ch === 0x3C && !this.isModule) {\n\t                if (this.source.slice(this.index + 1, this.index + 4) === '!--') {\n\t                    this.index += 4; // `<!--`\n\t                    var comment = this.skipSingleLineComment(4);\n\t                    if (this.trackComment) {\n\t                        comments = comments.concat(comment);\n\t                    }\n\t                }\n\t                else {\n\t                    break;\n\t                }\n\t            }\n\t            else {\n\t                break;\n\t            }\n\t        }\n\t        return comments;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-future-reserved-words\n\t    Scanner.prototype.isFutureReservedWord = function (id) {\n\t        switch (id) {\n\t            case 'enum':\n\t            case 'export':\n\t            case 'import':\n\t            case 'super':\n\t                return true;\n\t            default:\n\t                return false;\n\t        }\n\t    };\n\t    Scanner.prototype.isStrictModeReservedWord = function (id) {\n\t        switch (id) {\n\t            case 'implements':\n\t            case 'interface':\n\t            case 'package':\n\t            case 'private':\n\t            case 'protected':\n\t            case 'public':\n\t            case 'static':\n\t            case 'yield':\n\t            case 'let':\n\t                return true;\n\t            default:\n\t                return false;\n\t        }\n\t    };\n\t    Scanner.prototype.isRestrictedWord = function (id) {\n\t        return id === 'eval' || id === 'arguments';\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-keywords\n\t    Scanner.prototype.isKeyword = function (id) {\n\t        switch (id.length) {\n\t            case 2:\n\t                return (id === 'if') || (id === 'in') || (id === 'do');\n\t            case 3:\n\t                return (id === 'var') || (id === 'for') || (id === 'new') ||\n\t                    (id === 'try') || (id === 'let');\n\t            case 4:\n\t                return (id === 'this') || (id === 'else') || (id === 'case') ||\n\t                    (id === 'void') || (id === 'with') || (id === 'enum');\n\t            case 5:\n\t                return (id === 'while') || (id === 'break') || (id === 'catch') ||\n\t                    (id === 'throw') || (id === 'const') || (id === 'yield') ||\n\t                    (id === 'class') || (id === 'super');\n\t            case 6:\n\t                return (id === 'return') || (id === 'typeof') || (id === 'delete') ||\n\t                    (id === 'switch') || (id === 'export') || (id === 'import');\n\t            case 7:\n\t                return (id === 'default') || (id === 'finally') || (id === 'extends');\n\t            case 8:\n\t                return (id === 'function') || (id === 'continue') || (id === 'debugger');\n\t            case 10:\n\t                return (id === 'instanceof');\n\t            default:\n\t                return false;\n\t        }\n\t    };\n\t    Scanner.prototype.codePointAt = function (i) {\n\t        var cp = this.source.charCodeAt(i);\n\t        if (cp >= 0xD800 && cp <= 0xDBFF) {\n\t            var second = this.source.charCodeAt(i + 1);\n\t            if (second >= 0xDC00 && second <= 0xDFFF) {\n\t                var first = cp;\n\t                cp = (first - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n\t            }\n\t        }\n\t        return cp;\n\t    };\n\t    Scanner.prototype.scanHexEscape = function (prefix) {\n\t        var len = (prefix === 'u') ? 4 : 2;\n\t        var code = 0;\n\t        for (var i = 0; i < len; ++i) {\n\t            if (!this.eof() && character_1.Character.isHexDigit(this.source.charCodeAt(this.index))) {\n\t                code = code * 16 + hexValue(this.source[this.index++]);\n\t            }\n\t            else {\n\t                return null;\n\t            }\n\t        }\n\t        return String.fromCharCode(code);\n\t    };\n\t    Scanner.prototype.scanUnicodeCodePointEscape = function () {\n\t        var ch = this.source[this.index];\n\t        var code = 0;\n\t        // At least, one hex digit is required.\n\t        if (ch === '}') {\n\t            this.throwUnexpectedToken();\n\t        }\n\t        while (!this.eof()) {\n\t            ch = this.source[this.index++];\n\t            if (!character_1.Character.isHexDigit(ch.charCodeAt(0))) {\n\t                break;\n\t            }\n\t            code = code * 16 + hexValue(ch);\n\t        }\n\t        if (code > 0x10FFFF || ch !== '}') {\n\t            this.throwUnexpectedToken();\n\t        }\n\t        return character_1.Character.fromCodePoint(code);\n\t    };\n\t    Scanner.prototype.getIdentifier = function () {\n\t        var start = this.index++;\n\t        while (!this.eof()) {\n\t            var ch = this.source.charCodeAt(this.index);\n\t            if (ch === 0x5C) {\n\t                // Blackslash (U+005C) marks Unicode escape sequence.\n\t                this.index = start;\n\t                return this.getComplexIdentifier();\n\t            }\n\t            else if (ch >= 0xD800 && ch < 0xDFFF) {\n\t                // Need to handle surrogate pairs.\n\t                this.index = start;\n\t                return this.getComplexIdentifier();\n\t            }\n\t            if (character_1.Character.isIdentifierPart(ch)) {\n\t                ++this.index;\n\t            }\n\t            else {\n\t                break;\n\t            }\n\t        }\n\t        return this.source.slice(start, this.index);\n\t    };\n\t    Scanner.prototype.getComplexIdentifier = function () {\n\t        var cp = this.codePointAt(this.index);\n\t        var id = character_1.Character.fromCodePoint(cp);\n\t        this.index += id.length;\n\t        // '\\u' (U+005C, U+0075) denotes an escaped character.\n\t        var ch;\n\t        if (cp === 0x5C) {\n\t            if (this.source.charCodeAt(this.index) !== 0x75) {\n\t                this.throwUnexpectedToken();\n\t            }\n\t            ++this.index;\n\t            if (this.source[this.index] === '{') {\n\t                ++this.index;\n\t                ch = this.scanUnicodeCodePointEscape();\n\t            }\n\t            else {\n\t                ch = this.scanHexEscape('u');\n\t                if (ch === null || ch === '\\\\' || !character_1.Character.isIdentifierStart(ch.charCodeAt(0))) {\n\t                    this.throwUnexpectedToken();\n\t                }\n\t            }\n\t            id = ch;\n\t        }\n\t        while (!this.eof()) {\n\t            cp = this.codePointAt(this.index);\n\t            if (!character_1.Character.isIdentifierPart(cp)) {\n\t                break;\n\t            }\n\t            ch = character_1.Character.fromCodePoint(cp);\n\t            id += ch;\n\t            this.index += ch.length;\n\t            // '\\u' (U+005C, U+0075) denotes an escaped character.\n\t            if (cp === 0x5C) {\n\t                id = id.substr(0, id.length - 1);\n\t                if (this.source.charCodeAt(this.index) !== 0x75) {\n\t                    this.throwUnexpectedToken();\n\t                }\n\t                ++this.index;\n\t                if (this.source[this.index] === '{') {\n\t                    ++this.index;\n\t                    ch = this.scanUnicodeCodePointEscape();\n\t                }\n\t                else {\n\t                    ch = this.scanHexEscape('u');\n\t                    if (ch === null || ch === '\\\\' || !character_1.Character.isIdentifierPart(ch.charCodeAt(0))) {\n\t                        this.throwUnexpectedToken();\n\t                    }\n\t                }\n\t                id += ch;\n\t            }\n\t        }\n\t        return id;\n\t    };\n\t    Scanner.prototype.octalToDecimal = function (ch) {\n\t        // \\0 is not octal escape sequence\n\t        var octal = (ch !== '0');\n\t        var code = octalValue(ch);\n\t        if (!this.eof() && character_1.Character.isOctalDigit(this.source.charCodeAt(this.index))) {\n\t            octal = true;\n\t            code = code * 8 + octalValue(this.source[this.index++]);\n\t            // 3 digits are only allowed when string starts\n\t            // with 0, 1, 2, 3\n\t            if ('0123'.indexOf(ch) >= 0 && !this.eof() && character_1.Character.isOctalDigit(this.source.charCodeAt(this.index))) {\n\t                code = code * 8 + octalValue(this.source[this.index++]);\n\t            }\n\t        }\n\t        return {\n\t            code: code,\n\t            octal: octal\n\t        };\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-names-and-keywords\n\t    Scanner.prototype.scanIdentifier = function () {\n\t        var type;\n\t        var start = this.index;\n\t        // Backslash (U+005C) starts an escaped character.\n\t        var id = (this.source.charCodeAt(start) === 0x5C) ? this.getComplexIdentifier() : this.getIdentifier();\n\t        // There is no keyword or literal with only one character.\n\t        // Thus, it must be an identifier.\n\t        if (id.length === 1) {\n\t            type = 3 /* Identifier */;\n\t        }\n\t        else if (this.isKeyword(id)) {\n\t            type = 4 /* Keyword */;\n\t        }\n\t        else if (id === 'null') {\n\t            type = 5 /* NullLiteral */;\n\t        }\n\t        else if (id === 'true' || id === 'false') {\n\t            type = 1 /* BooleanLiteral */;\n\t        }\n\t        else {\n\t            type = 3 /* Identifier */;\n\t        }\n\t        if (type !== 3 /* Identifier */ && (start + id.length !== this.index)) {\n\t            var restore = this.index;\n\t            this.index = start;\n\t            this.tolerateUnexpectedToken(messages_1.Messages.InvalidEscapedReservedWord);\n\t            this.index = restore;\n\t        }\n\t        return {\n\t            type: type,\n\t            value: id,\n\t            lineNumber: this.lineNumber,\n\t            lineStart: this.lineStart,\n\t            start: start,\n\t            end: this.index\n\t        };\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-punctuators\n\t    Scanner.prototype.scanPunctuator = function () {\n\t        var start = this.index;\n\t        // Check for most common single-character punctuators.\n\t        var str = this.source[this.index];\n\t        switch (str) {\n\t            case '(':\n\t            case '{':\n\t                if (str === '{') {\n\t                    this.curlyStack.push('{');\n\t                }\n\t                ++this.index;\n\t                break;\n\t            case '.':\n\t                ++this.index;\n\t                if (this.source[this.index] === '.' && this.source[this.index + 1] === '.') {\n\t                    // Spread operator: ...\n\t                    this.index += 2;\n\t                    str = '...';\n\t                }\n\t                break;\n\t            case '}':\n\t                ++this.index;\n\t                this.curlyStack.pop();\n\t                break;\n\t            case ')':\n\t            case ';':\n\t            case ',':\n\t            case '[':\n\t            case ']':\n\t            case ':':\n\t            case '?':\n\t            case '~':\n\t                ++this.index;\n\t                break;\n\t            default:\n\t                // 4-character punctuator.\n\t                str = this.source.substr(this.index, 4);\n\t                if (str === '>>>=') {\n\t                    this.index += 4;\n\t                }\n\t                else {\n\t                    // 3-character punctuators.\n\t                    str = str.substr(0, 3);\n\t                    if (str === '===' || str === '!==' || str === '>>>' ||\n\t                        str === '<<=' || str === '>>=' || str === '**=') {\n\t                        this.index += 3;\n\t                    }\n\t                    else {\n\t                        // 2-character punctuators.\n\t                        str = str.substr(0, 2);\n\t                        if (str === '&&' || str === '||' || str === '==' || str === '!=' ||\n\t                            str === '+=' || str === '-=' || str === '*=' || str === '/=' ||\n\t                            str === '++' || str === '--' || str === '<<' || str === '>>' ||\n\t                            str === '&=' || str === '|=' || str === '^=' || str === '%=' ||\n\t                            str === '<=' || str === '>=' || str === '=>' || str === '**') {\n\t                            this.index += 2;\n\t                        }\n\t                        else {\n\t                            // 1-character punctuators.\n\t                            str = this.source[this.index];\n\t                            if ('<>=!+-*%&|^/'.indexOf(str) >= 0) {\n\t                                ++this.index;\n\t                            }\n\t                        }\n\t                    }\n\t                }\n\t        }\n\t        if (this.index === start) {\n\t            this.throwUnexpectedToken();\n\t        }\n\t        return {\n\t            type: 7 /* Punctuator */,\n\t            value: str,\n\t            lineNumber: this.lineNumber,\n\t            lineStart: this.lineStart,\n\t            start: start,\n\t            end: this.index\n\t        };\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-literals-numeric-literals\n\t    Scanner.prototype.scanHexLiteral = function (start) {\n\t        var num = '';\n\t        while (!this.eof()) {\n\t            if (!character_1.Character.isHexDigit(this.source.charCodeAt(this.index))) {\n\t                break;\n\t            }\n\t            num += this.source[this.index++];\n\t        }\n\t        if (num.length === 0) {\n\t            this.throwUnexpectedToken();\n\t        }\n\t        if (character_1.Character.isIdentifierStart(this.source.charCodeAt(this.index))) {\n\t            this.throwUnexpectedToken();\n\t        }\n\t        return {\n\t            type: 6 /* NumericLiteral */,\n\t            value: parseInt('0x' + num, 16),\n\t            lineNumber: this.lineNumber,\n\t            lineStart: this.lineStart,\n\t            start: start,\n\t            end: this.index\n\t        };\n\t    };\n\t    Scanner.prototype.scanBinaryLiteral = function (start) {\n\t        var num = '';\n\t        var ch;\n\t        while (!this.eof()) {\n\t            ch = this.source[this.index];\n\t            if (ch !== '0' && ch !== '1') {\n\t                break;\n\t            }\n\t            num += this.source[this.index++];\n\t        }\n\t        if (num.length === 0) {\n\t            // only 0b or 0B\n\t            this.throwUnexpectedToken();\n\t        }\n\t        if (!this.eof()) {\n\t            ch = this.source.charCodeAt(this.index);\n\t            /* istanbul ignore else */\n\t            if (character_1.Character.isIdentifierStart(ch) || character_1.Character.isDecimalDigit(ch)) {\n\t                this.throwUnexpectedToken();\n\t            }\n\t        }\n\t        return {\n\t            type: 6 /* NumericLiteral */,\n\t            value: parseInt(num, 2),\n\t            lineNumber: this.lineNumber,\n\t            lineStart: this.lineStart,\n\t            start: start,\n\t            end: this.index\n\t        };\n\t    };\n\t    Scanner.prototype.scanOctalLiteral = function (prefix, start) {\n\t        var num = '';\n\t        var octal = false;\n\t        if (character_1.Character.isOctalDigit(prefix.charCodeAt(0))) {\n\t            octal = true;\n\t            num = '0' + this.source[this.index++];\n\t        }\n\t        else {\n\t            ++this.index;\n\t        }\n\t        while (!this.eof()) {\n\t            if (!character_1.Character.isOctalDigit(this.source.charCodeAt(this.index))) {\n\t                break;\n\t            }\n\t            num += this.source[this.index++];\n\t        }\n\t        if (!octal && num.length === 0) {\n\t            // only 0o or 0O\n\t            this.throwUnexpectedToken();\n\t        }\n\t        if (character_1.Character.isIdentifierStart(this.source.charCodeAt(this.index)) || character_1.Character.isDecimalDigit(this.source.charCodeAt(this.index))) {\n\t            this.throwUnexpectedToken();\n\t        }\n\t        return {\n\t            type: 6 /* NumericLiteral */,\n\t            value: parseInt(num, 8),\n\t            octal: octal,\n\t            lineNumber: this.lineNumber,\n\t            lineStart: this.lineStart,\n\t            start: start,\n\t            end: this.index\n\t        };\n\t    };\n\t    Scanner.prototype.isImplicitOctalLiteral = function () {\n\t        // Implicit octal, unless there is a non-octal digit.\n\t        // (Annex B.1.1 on Numeric Literals)\n\t        for (var i = this.index + 1; i < this.length; ++i) {\n\t            var ch = this.source[i];\n\t            if (ch === '8' || ch === '9') {\n\t                return false;\n\t            }\n\t            if (!character_1.Character.isOctalDigit(ch.charCodeAt(0))) {\n\t                return true;\n\t            }\n\t        }\n\t        return true;\n\t    };\n\t    Scanner.prototype.scanNumericLiteral = function () {\n\t        var start = this.index;\n\t        var ch = this.source[start];\n\t        assert_1.assert(character_1.Character.isDecimalDigit(ch.charCodeAt(0)) || (ch === '.'), 'Numeric literal must start with a decimal digit or a decimal point');\n\t        var num = '';\n\t        if (ch !== '.') {\n\t            num = this.source[this.index++];\n\t            ch = this.source[this.index];\n\t            // Hex number starts with '0x'.\n\t            // Octal number starts with '0'.\n\t            // Octal number in ES6 starts with '0o'.\n\t            // Binary number in ES6 starts with '0b'.\n\t            if (num === '0') {\n\t                if (ch === 'x' || ch === 'X') {\n\t                    ++this.index;\n\t                    return this.scanHexLiteral(start);\n\t                }\n\t                if (ch === 'b' || ch === 'B') {\n\t                    ++this.index;\n\t                    return this.scanBinaryLiteral(start);\n\t                }\n\t                if (ch === 'o' || ch === 'O') {\n\t                    return this.scanOctalLiteral(ch, start);\n\t                }\n\t                if (ch && character_1.Character.isOctalDigit(ch.charCodeAt(0))) {\n\t                    if (this.isImplicitOctalLiteral()) {\n\t                        return this.scanOctalLiteral(ch, start);\n\t                    }\n\t                }\n\t            }\n\t            while (character_1.Character.isDecimalDigit(this.source.charCodeAt(this.index))) {\n\t                num += this.source[this.index++];\n\t            }\n\t            ch = this.source[this.index];\n\t        }\n\t        if (ch === '.') {\n\t            num += this.source[this.index++];\n\t            while (character_1.Character.isDecimalDigit(this.source.charCodeAt(this.index))) {\n\t                num += this.source[this.index++];\n\t            }\n\t            ch = this.source[this.index];\n\t        }\n\t        if (ch === 'e' || ch === 'E') {\n\t            num += this.source[this.index++];\n\t            ch = this.source[this.index];\n\t            if (ch === '+' || ch === '-') {\n\t                num += this.source[this.index++];\n\t            }\n\t            if (character_1.Character.isDecimalDigit(this.source.charCodeAt(this.index))) {\n\t                while (character_1.Character.isDecimalDigit(this.source.charCodeAt(this.index))) {\n\t                    num += this.source[this.index++];\n\t                }\n\t            }\n\t            else {\n\t                this.throwUnexpectedToken();\n\t            }\n\t        }\n\t        if (character_1.Character.isIdentifierStart(this.source.charCodeAt(this.index))) {\n\t            this.throwUnexpectedToken();\n\t        }\n\t        return {\n\t            type: 6 /* NumericLiteral */,\n\t            value: parseFloat(num),\n\t            lineNumber: this.lineNumber,\n\t            lineStart: this.lineStart,\n\t            start: start,\n\t            end: this.index\n\t        };\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-literals-string-literals\n\t    Scanner.prototype.scanStringLiteral = function () {\n\t        var start = this.index;\n\t        var quote = this.source[start];\n\t        assert_1.assert((quote === '\\'' || quote === '\"'), 'String literal must starts with a quote');\n\t        ++this.index;\n\t        var octal = false;\n\t        var str = '';\n\t        while (!this.eof()) {\n\t            var ch = this.source[this.index++];\n\t            if (ch === quote) {\n\t                quote = '';\n\t                break;\n\t            }\n\t            else if (ch === '\\\\') {\n\t                ch = this.source[this.index++];\n\t                if (!ch || !character_1.Character.isLineTerminator(ch.charCodeAt(0))) {\n\t                    switch (ch) {\n\t                        case 'u':\n\t                            if (this.source[this.index] === '{') {\n\t                                ++this.index;\n\t                                str += this.scanUnicodeCodePointEscape();\n\t                            }\n\t                            else {\n\t                                var unescaped_1 = this.scanHexEscape(ch);\n\t                                if (unescaped_1 === null) {\n\t                                    this.throwUnexpectedToken();\n\t                                }\n\t                                str += unescaped_1;\n\t                            }\n\t                            break;\n\t                        case 'x':\n\t                            var unescaped = this.scanHexEscape(ch);\n\t                            if (unescaped === null) {\n\t                                this.throwUnexpectedToken(messages_1.Messages.InvalidHexEscapeSequence);\n\t                            }\n\t                            str += unescaped;\n\t                            break;\n\t                        case 'n':\n\t                            str += '\\n';\n\t                            break;\n\t                        case 'r':\n\t                            str += '\\r';\n\t                            break;\n\t                        case 't':\n\t                            str += '\\t';\n\t                            break;\n\t                        case 'b':\n\t                            str += '\\b';\n\t                            break;\n\t                        case 'f':\n\t                            str += '\\f';\n\t                            break;\n\t                        case 'v':\n\t                            str += '\\x0B';\n\t                            break;\n\t                        case '8':\n\t                        case '9':\n\t                            str += ch;\n\t                            this.tolerateUnexpectedToken();\n\t                            break;\n\t                        default:\n\t                            if (ch && character_1.Character.isOctalDigit(ch.charCodeAt(0))) {\n\t                                var octToDec = this.octalToDecimal(ch);\n\t                                octal = octToDec.octal || octal;\n\t                                str += String.fromCharCode(octToDec.code);\n\t                            }\n\t                            else {\n\t                                str += ch;\n\t                            }\n\t                            break;\n\t                    }\n\t                }\n\t                else {\n\t                    ++this.lineNumber;\n\t                    if (ch === '\\r' && this.source[this.index] === '\\n') {\n\t                        ++this.index;\n\t                    }\n\t                    this.lineStart = this.index;\n\t                }\n\t            }\n\t            else if (character_1.Character.isLineTerminator(ch.charCodeAt(0))) {\n\t                break;\n\t            }\n\t            else {\n\t                str += ch;\n\t            }\n\t        }\n\t        if (quote !== '') {\n\t            this.index = start;\n\t            this.throwUnexpectedToken();\n\t        }\n\t        return {\n\t            type: 8 /* StringLiteral */,\n\t            value: str,\n\t            octal: octal,\n\t            lineNumber: this.lineNumber,\n\t            lineStart: this.lineStart,\n\t            start: start,\n\t            end: this.index\n\t        };\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-template-literal-lexical-components\n\t    Scanner.prototype.scanTemplate = function () {\n\t        var cooked = '';\n\t        var terminated = false;\n\t        var start = this.index;\n\t        var head = (this.source[start] === '`');\n\t        var tail = false;\n\t        var rawOffset = 2;\n\t        ++this.index;\n\t        while (!this.eof()) {\n\t            var ch = this.source[this.index++];\n\t            if (ch === '`') {\n\t                rawOffset = 1;\n\t                tail = true;\n\t                terminated = true;\n\t                break;\n\t            }\n\t            else if (ch === '$') {\n\t                if (this.source[this.index] === '{') {\n\t                    this.curlyStack.push('${');\n\t                    ++this.index;\n\t                    terminated = true;\n\t                    break;\n\t                }\n\t                cooked += ch;\n\t            }\n\t            else if (ch === '\\\\') {\n\t                ch = this.source[this.index++];\n\t                if (!character_1.Character.isLineTerminator(ch.charCodeAt(0))) {\n\t                    switch (ch) {\n\t                        case 'n':\n\t                            cooked += '\\n';\n\t                            break;\n\t                        case 'r':\n\t                            cooked += '\\r';\n\t                            break;\n\t                        case 't':\n\t                            cooked += '\\t';\n\t                            break;\n\t                        case 'u':\n\t                            if (this.source[this.index] === '{') {\n\t                                ++this.index;\n\t                                cooked += this.scanUnicodeCodePointEscape();\n\t                            }\n\t                            else {\n\t                                var restore = this.index;\n\t                                var unescaped_2 = this.scanHexEscape(ch);\n\t                                if (unescaped_2 !== null) {\n\t                                    cooked += unescaped_2;\n\t                                }\n\t                                else {\n\t                                    this.index = restore;\n\t                                    cooked += ch;\n\t                                }\n\t                            }\n\t                            break;\n\t                        case 'x':\n\t                            var unescaped = this.scanHexEscape(ch);\n\t                            if (unescaped === null) {\n\t                                this.throwUnexpectedToken(messages_1.Messages.InvalidHexEscapeSequence);\n\t                            }\n\t                            cooked += unescaped;\n\t                            break;\n\t                        case 'b':\n\t                            cooked += '\\b';\n\t                            break;\n\t                        case 'f':\n\t                            cooked += '\\f';\n\t                            break;\n\t                        case 'v':\n\t                            cooked += '\\v';\n\t                            break;\n\t                        default:\n\t                            if (ch === '0') {\n\t                                if (character_1.Character.isDecimalDigit(this.source.charCodeAt(this.index))) {\n\t                                    // Illegal: \\01 \\02 and so on\n\t                                    this.throwUnexpectedToken(messages_1.Messages.TemplateOctalLiteral);\n\t                                }\n\t                                cooked += '\\0';\n\t                            }\n\t                            else if (character_1.Character.isOctalDigit(ch.charCodeAt(0))) {\n\t                                // Illegal: \\1 \\2\n\t                                this.throwUnexpectedToken(messages_1.Messages.TemplateOctalLiteral);\n\t                            }\n\t                            else {\n\t                                cooked += ch;\n\t                            }\n\t                            break;\n\t                    }\n\t                }\n\t                else {\n\t                    ++this.lineNumber;\n\t                    if (ch === '\\r' && this.source[this.index] === '\\n') {\n\t                        ++this.index;\n\t                    }\n\t                    this.lineStart = this.index;\n\t                }\n\t            }\n\t            else if (character_1.Character.isLineTerminator(ch.charCodeAt(0))) {\n\t                ++this.lineNumber;\n\t                if (ch === '\\r' && this.source[this.index] === '\\n') {\n\t                    ++this.index;\n\t                }\n\t                this.lineStart = this.index;\n\t                cooked += '\\n';\n\t            }\n\t            else {\n\t                cooked += ch;\n\t            }\n\t        }\n\t        if (!terminated) {\n\t            this.throwUnexpectedToken();\n\t        }\n\t        if (!head) {\n\t            this.curlyStack.pop();\n\t        }\n\t        return {\n\t            type: 10 /* Template */,\n\t            value: this.source.slice(start + 1, this.index - rawOffset),\n\t            cooked: cooked,\n\t            head: head,\n\t            tail: tail,\n\t            lineNumber: this.lineNumber,\n\t            lineStart: this.lineStart,\n\t            start: start,\n\t            end: this.index\n\t        };\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-literals-regular-expression-literals\n\t    Scanner.prototype.testRegExp = function (pattern, flags) {\n\t        // The BMP character to use as a replacement for astral symbols when\n\t        // translating an ES6 \"u\"-flagged pattern to an ES5-compatible\n\t        // approximation.\n\t        // Note: replacing with '\\uFFFF' enables false positives in unlikely\n\t        // scenarios. For example, `[\\u{1044f}-\\u{10440}]` is an invalid\n\t        // pattern that would not be detected by this substitution.\n\t        var astralSubstitute = '\\uFFFF';\n\t        var tmp = pattern;\n\t        var self = this;\n\t        if (flags.indexOf('u') >= 0) {\n\t            tmp = tmp\n\t                .replace(/\\\\u\\{([0-9a-fA-F]+)\\}|\\\\u([a-fA-F0-9]{4})/g, function ($0, $1, $2) {\n\t                var codePoint = parseInt($1 || $2, 16);\n\t                if (codePoint > 0x10FFFF) {\n\t                    self.throwUnexpectedToken(messages_1.Messages.InvalidRegExp);\n\t                }\n\t                if (codePoint <= 0xFFFF) {\n\t                    return String.fromCharCode(codePoint);\n\t                }\n\t                return astralSubstitute;\n\t            })\n\t                .replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g, astralSubstitute);\n\t        }\n\t        // First, detect invalid regular expressions.\n\t        try {\n\t            RegExp(tmp);\n\t        }\n\t        catch (e) {\n\t            this.throwUnexpectedToken(messages_1.Messages.InvalidRegExp);\n\t        }\n\t        // Return a regular expression object for this pattern-flag pair, or\n\t        // `null` in case the current environment doesn't support the flags it\n\t        // uses.\n\t        try {\n\t            return new RegExp(pattern, flags);\n\t        }\n\t        catch (exception) {\n\t            /* istanbul ignore next */\n\t            return null;\n\t        }\n\t    };\n\t    Scanner.prototype.scanRegExpBody = function () {\n\t        var ch = this.source[this.index];\n\t        assert_1.assert(ch === '/', 'Regular expression literal must start with a slash');\n\t        var str = this.source[this.index++];\n\t        var classMarker = false;\n\t        var terminated = false;\n\t        while (!this.eof()) {\n\t            ch = this.source[this.index++];\n\t            str += ch;\n\t            if (ch === '\\\\') {\n\t                ch = this.source[this.index++];\n\t                // https://tc39.github.io/ecma262/#sec-literals-regular-expression-literals\n\t                if (character_1.Character.isLineTerminator(ch.charCodeAt(0))) {\n\t                    this.throwUnexpectedToken(messages_1.Messages.UnterminatedRegExp);\n\t                }\n\t                str += ch;\n\t            }\n\t            else if (character_1.Character.isLineTerminator(ch.charCodeAt(0))) {\n\t                this.throwUnexpectedToken(messages_1.Messages.UnterminatedRegExp);\n\t            }\n\t            else if (classMarker) {\n\t                if (ch === ']') {\n\t                    classMarker = false;\n\t                }\n\t            }\n\t            else {\n\t                if (ch === '/') {\n\t                    terminated = true;\n\t                    break;\n\t                }\n\t                else if (ch === '[') {\n\t                    classMarker = true;\n\t                }\n\t            }\n\t        }\n\t        if (!terminated) {\n\t            this.throwUnexpectedToken(messages_1.Messages.UnterminatedRegExp);\n\t        }\n\t        // Exclude leading and trailing slash.\n\t        return str.substr(1, str.length - 2);\n\t    };\n\t    Scanner.prototype.scanRegExpFlags = function () {\n\t        var str = '';\n\t        var flags = '';\n\t        while (!this.eof()) {\n\t            var ch = this.source[this.index];\n\t            if (!character_1.Character.isIdentifierPart(ch.charCodeAt(0))) {\n\t                break;\n\t            }\n\t            ++this.index;\n\t            if (ch === '\\\\' && !this.eof()) {\n\t                ch = this.source[this.index];\n\t                if (ch === 'u') {\n\t                    ++this.index;\n\t                    var restore = this.index;\n\t                    var char = this.scanHexEscape('u');\n\t                    if (char !== null) {\n\t                        flags += char;\n\t                        for (str += '\\\\u'; restore < this.index; ++restore) {\n\t                            str += this.source[restore];\n\t                        }\n\t                    }\n\t                    else {\n\t                        this.index = restore;\n\t                        flags += 'u';\n\t                        str += '\\\\u';\n\t                    }\n\t                    this.tolerateUnexpectedToken();\n\t                }\n\t                else {\n\t                    str += '\\\\';\n\t                    this.tolerateUnexpectedToken();\n\t                }\n\t            }\n\t            else {\n\t                flags += ch;\n\t                str += ch;\n\t            }\n\t        }\n\t        return flags;\n\t    };\n\t    Scanner.prototype.scanRegExp = function () {\n\t        var start = this.index;\n\t        var pattern = this.scanRegExpBody();\n\t        var flags = this.scanRegExpFlags();\n\t        var value = this.testRegExp(pattern, flags);\n\t        return {\n\t            type: 9 /* RegularExpression */,\n\t            value: '',\n\t            pattern: pattern,\n\t            flags: flags,\n\t            regex: value,\n\t            lineNumber: this.lineNumber,\n\t            lineStart: this.lineStart,\n\t            start: start,\n\t            end: this.index\n\t        };\n\t    };\n\t    Scanner.prototype.lex = function () {\n\t        if (this.eof()) {\n\t            return {\n\t                type: 2 /* EOF */,\n\t                value: '',\n\t                lineNumber: this.lineNumber,\n\t                lineStart: this.lineStart,\n\t                start: this.index,\n\t                end: this.index\n\t            };\n\t        }\n\t        var cp = this.source.charCodeAt(this.index);\n\t        if (character_1.Character.isIdentifierStart(cp)) {\n\t            return this.scanIdentifier();\n\t        }\n\t        // Very common: ( and ) and ;\n\t        if (cp === 0x28 || cp === 0x29 || cp === 0x3B) {\n\t            return this.scanPunctuator();\n\t        }\n\t        // String literal starts with single quote (U+0027) or double quote (U+0022).\n\t        if (cp === 0x27 || cp === 0x22) {\n\t            return this.scanStringLiteral();\n\t        }\n\t        // Dot (.) U+002E can also start a floating-point number, hence the need\n\t        // to check the next character.\n\t        if (cp === 0x2E) {\n\t            if (character_1.Character.isDecimalDigit(this.source.charCodeAt(this.index + 1))) {\n\t                return this.scanNumericLiteral();\n\t            }\n\t            return this.scanPunctuator();\n\t        }\n\t        if (character_1.Character.isDecimalDigit(cp)) {\n\t            return this.scanNumericLiteral();\n\t        }\n\t        // Template literals start with ` (U+0060) for template head\n\t        // or } (U+007D) for template middle or template tail.\n\t        if (cp === 0x60 || (cp === 0x7D && this.curlyStack[this.curlyStack.length - 1] === '${')) {\n\t            return this.scanTemplate();\n\t        }\n\t        // Possible identifier start in a surrogate pair.\n\t        if (cp >= 0xD800 && cp < 0xDFFF) {\n\t            if (character_1.Character.isIdentifierStart(this.codePointAt(this.index))) {\n\t                return this.scanIdentifier();\n\t            }\n\t        }\n\t        return this.scanPunctuator();\n\t    };\n\t    return Scanner;\n\t}());\n\texports.Scanner = Scanner;\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\texports.TokenName = {};\n\texports.TokenName[1 /* BooleanLiteral */] = 'Boolean';\n\texports.TokenName[2 /* EOF */] = '<end>';\n\texports.TokenName[3 /* Identifier */] = 'Identifier';\n\texports.TokenName[4 /* Keyword */] = 'Keyword';\n\texports.TokenName[5 /* NullLiteral */] = 'Null';\n\texports.TokenName[6 /* NumericLiteral */] = 'Numeric';\n\texports.TokenName[7 /* Punctuator */] = 'Punctuator';\n\texports.TokenName[8 /* StringLiteral */] = 'String';\n\texports.TokenName[9 /* RegularExpression */] = 'RegularExpression';\n\texports.TokenName[10 /* Template */] = 'Template';\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t// Generated by generate-xhtml-entities.js. DO NOT MODIFY!\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\texports.XHTMLEntities = {\n\t    quot: '\\u0022',\n\t    amp: '\\u0026',\n\t    apos: '\\u0027',\n\t    gt: '\\u003E',\n\t    nbsp: '\\u00A0',\n\t    iexcl: '\\u00A1',\n\t    cent: '\\u00A2',\n\t    pound: '\\u00A3',\n\t    curren: '\\u00A4',\n\t    yen: '\\u00A5',\n\t    brvbar: '\\u00A6',\n\t    sect: '\\u00A7',\n\t    uml: '\\u00A8',\n\t    copy: '\\u00A9',\n\t    ordf: '\\u00AA',\n\t    laquo: '\\u00AB',\n\t    not: '\\u00AC',\n\t    shy: '\\u00AD',\n\t    reg: '\\u00AE',\n\t    macr: '\\u00AF',\n\t    deg: '\\u00B0',\n\t    plusmn: '\\u00B1',\n\t    sup2: '\\u00B2',\n\t    sup3: '\\u00B3',\n\t    acute: '\\u00B4',\n\t    micro: '\\u00B5',\n\t    para: '\\u00B6',\n\t    middot: '\\u00B7',\n\t    cedil: '\\u00B8',\n\t    sup1: '\\u00B9',\n\t    ordm: '\\u00BA',\n\t    raquo: '\\u00BB',\n\t    frac14: '\\u00BC',\n\t    frac12: '\\u00BD',\n\t    frac34: '\\u00BE',\n\t    iquest: '\\u00BF',\n\t    Agrave: '\\u00C0',\n\t    Aacute: '\\u00C1',\n\t    Acirc: '\\u00C2',\n\t    Atilde: '\\u00C3',\n\t    Auml: '\\u00C4',\n\t    Aring: '\\u00C5',\n\t    AElig: '\\u00C6',\n\t    Ccedil: '\\u00C7',\n\t    Egrave: '\\u00C8',\n\t    Eacute: '\\u00C9',\n\t    Ecirc: '\\u00CA',\n\t    Euml: '\\u00CB',\n\t    Igrave: '\\u00CC',\n\t    Iacute: '\\u00CD',\n\t    Icirc: '\\u00CE',\n\t    Iuml: '\\u00CF',\n\t    ETH: '\\u00D0',\n\t    Ntilde: '\\u00D1',\n\t    Ograve: '\\u00D2',\n\t    Oacute: '\\u00D3',\n\t    Ocirc: '\\u00D4',\n\t    Otilde: '\\u00D5',\n\t    Ouml: '\\u00D6',\n\t    times: '\\u00D7',\n\t    Oslash: '\\u00D8',\n\t    Ugrave: '\\u00D9',\n\t    Uacute: '\\u00DA',\n\t    Ucirc: '\\u00DB',\n\t    Uuml: '\\u00DC',\n\t    Yacute: '\\u00DD',\n\t    THORN: '\\u00DE',\n\t    szlig: '\\u00DF',\n\t    agrave: '\\u00E0',\n\t    aacute: '\\u00E1',\n\t    acirc: '\\u00E2',\n\t    atilde: '\\u00E3',\n\t    auml: '\\u00E4',\n\t    aring: '\\u00E5',\n\t    aelig: '\\u00E6',\n\t    ccedil: '\\u00E7',\n\t    egrave: '\\u00E8',\n\t    eacute: '\\u00E9',\n\t    ecirc: '\\u00EA',\n\t    euml: '\\u00EB',\n\t    igrave: '\\u00EC',\n\t    iacute: '\\u00ED',\n\t    icirc: '\\u00EE',\n\t    iuml: '\\u00EF',\n\t    eth: '\\u00F0',\n\t    ntilde: '\\u00F1',\n\t    ograve: '\\u00F2',\n\t    oacute: '\\u00F3',\n\t    ocirc: '\\u00F4',\n\t    otilde: '\\u00F5',\n\t    ouml: '\\u00F6',\n\t    divide: '\\u00F7',\n\t    oslash: '\\u00F8',\n\t    ugrave: '\\u00F9',\n\t    uacute: '\\u00FA',\n\t    ucirc: '\\u00FB',\n\t    uuml: '\\u00FC',\n\t    yacute: '\\u00FD',\n\t    thorn: '\\u00FE',\n\t    yuml: '\\u00FF',\n\t    OElig: '\\u0152',\n\t    oelig: '\\u0153',\n\t    Scaron: '\\u0160',\n\t    scaron: '\\u0161',\n\t    Yuml: '\\u0178',\n\t    fnof: '\\u0192',\n\t    circ: '\\u02C6',\n\t    tilde: '\\u02DC',\n\t    Alpha: '\\u0391',\n\t    Beta: '\\u0392',\n\t    Gamma: '\\u0393',\n\t    Delta: '\\u0394',\n\t    Epsilon: '\\u0395',\n\t    Zeta: '\\u0396',\n\t    Eta: '\\u0397',\n\t    Theta: '\\u0398',\n\t    Iota: '\\u0399',\n\t    Kappa: '\\u039A',\n\t    Lambda: '\\u039B',\n\t    Mu: '\\u039C',\n\t    Nu: '\\u039D',\n\t    Xi: '\\u039E',\n\t    Omicron: '\\u039F',\n\t    Pi: '\\u03A0',\n\t    Rho: '\\u03A1',\n\t    Sigma: '\\u03A3',\n\t    Tau: '\\u03A4',\n\t    Upsilon: '\\u03A5',\n\t    Phi: '\\u03A6',\n\t    Chi: '\\u03A7',\n\t    Psi: '\\u03A8',\n\t    Omega: '\\u03A9',\n\t    alpha: '\\u03B1',\n\t    beta: '\\u03B2',\n\t    gamma: '\\u03B3',\n\t    delta: '\\u03B4',\n\t    epsilon: '\\u03B5',\n\t    zeta: '\\u03B6',\n\t    eta: '\\u03B7',\n\t    theta: '\\u03B8',\n\t    iota: '\\u03B9',\n\t    kappa: '\\u03BA',\n\t    lambda: '\\u03BB',\n\t    mu: '\\u03BC',\n\t    nu: '\\u03BD',\n\t    xi: '\\u03BE',\n\t    omicron: '\\u03BF',\n\t    pi: '\\u03C0',\n\t    rho: '\\u03C1',\n\t    sigmaf: '\\u03C2',\n\t    sigma: '\\u03C3',\n\t    tau: '\\u03C4',\n\t    upsilon: '\\u03C5',\n\t    phi: '\\u03C6',\n\t    chi: '\\u03C7',\n\t    psi: '\\u03C8',\n\t    omega: '\\u03C9',\n\t    thetasym: '\\u03D1',\n\t    upsih: '\\u03D2',\n\t    piv: '\\u03D6',\n\t    ensp: '\\u2002',\n\t    emsp: '\\u2003',\n\t    thinsp: '\\u2009',\n\t    zwnj: '\\u200C',\n\t    zwj: '\\u200D',\n\t    lrm: '\\u200E',\n\t    rlm: '\\u200F',\n\t    ndash: '\\u2013',\n\t    mdash: '\\u2014',\n\t    lsquo: '\\u2018',\n\t    rsquo: '\\u2019',\n\t    sbquo: '\\u201A',\n\t    ldquo: '\\u201C',\n\t    rdquo: '\\u201D',\n\t    bdquo: '\\u201E',\n\t    dagger: '\\u2020',\n\t    Dagger: '\\u2021',\n\t    bull: '\\u2022',\n\t    hellip: '\\u2026',\n\t    permil: '\\u2030',\n\t    prime: '\\u2032',\n\t    Prime: '\\u2033',\n\t    lsaquo: '\\u2039',\n\t    rsaquo: '\\u203A',\n\t    oline: '\\u203E',\n\t    frasl: '\\u2044',\n\t    euro: '\\u20AC',\n\t    image: '\\u2111',\n\t    weierp: '\\u2118',\n\t    real: '\\u211C',\n\t    trade: '\\u2122',\n\t    alefsym: '\\u2135',\n\t    larr: '\\u2190',\n\t    uarr: '\\u2191',\n\t    rarr: '\\u2192',\n\t    darr: '\\u2193',\n\t    harr: '\\u2194',\n\t    crarr: '\\u21B5',\n\t    lArr: '\\u21D0',\n\t    uArr: '\\u21D1',\n\t    rArr: '\\u21D2',\n\t    dArr: '\\u21D3',\n\t    hArr: '\\u21D4',\n\t    forall: '\\u2200',\n\t    part: '\\u2202',\n\t    exist: '\\u2203',\n\t    empty: '\\u2205',\n\t    nabla: '\\u2207',\n\t    isin: '\\u2208',\n\t    notin: '\\u2209',\n\t    ni: '\\u220B',\n\t    prod: '\\u220F',\n\t    sum: '\\u2211',\n\t    minus: '\\u2212',\n\t    lowast: '\\u2217',\n\t    radic: '\\u221A',\n\t    prop: '\\u221D',\n\t    infin: '\\u221E',\n\t    ang: '\\u2220',\n\t    and: '\\u2227',\n\t    or: '\\u2228',\n\t    cap: '\\u2229',\n\t    cup: '\\u222A',\n\t    int: '\\u222B',\n\t    there4: '\\u2234',\n\t    sim: '\\u223C',\n\t    cong: '\\u2245',\n\t    asymp: '\\u2248',\n\t    ne: '\\u2260',\n\t    equiv: '\\u2261',\n\t    le: '\\u2264',\n\t    ge: '\\u2265',\n\t    sub: '\\u2282',\n\t    sup: '\\u2283',\n\t    nsub: '\\u2284',\n\t    sube: '\\u2286',\n\t    supe: '\\u2287',\n\t    oplus: '\\u2295',\n\t    otimes: '\\u2297',\n\t    perp: '\\u22A5',\n\t    sdot: '\\u22C5',\n\t    lceil: '\\u2308',\n\t    rceil: '\\u2309',\n\t    lfloor: '\\u230A',\n\t    rfloor: '\\u230B',\n\t    loz: '\\u25CA',\n\t    spades: '\\u2660',\n\t    clubs: '\\u2663',\n\t    hearts: '\\u2665',\n\t    diams: '\\u2666',\n\t    lang: '\\u27E8',\n\t    rang: '\\u27E9'\n\t};\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar error_handler_1 = __webpack_require__(10);\n\tvar scanner_1 = __webpack_require__(12);\n\tvar token_1 = __webpack_require__(13);\n\tvar Reader = (function () {\n\t    function Reader() {\n\t        this.values = [];\n\t        this.curly = this.paren = -1;\n\t    }\n\t    // A function following one of those tokens is an expression.\n\t    Reader.prototype.beforeFunctionExpression = function (t) {\n\t        return ['(', '{', '[', 'in', 'typeof', 'instanceof', 'new',\n\t            'return', 'case', 'delete', 'throw', 'void',\n\t            // assignment operators\n\t            '=', '+=', '-=', '*=', '**=', '/=', '%=', '<<=', '>>=', '>>>=',\n\t            '&=', '|=', '^=', ',',\n\t            // binary/unary operators\n\t            '+', '-', '*', '**', '/', '%', '++', '--', '<<', '>>', '>>>', '&',\n\t            '|', '^', '!', '~', '&&', '||', '?', ':', '===', '==', '>=',\n\t            '<=', '<', '>', '!=', '!=='].indexOf(t) >= 0;\n\t    };\n\t    // Determine if forward slash (/) is an operator or part of a regular expression\n\t    // https://github.com/mozilla/sweet.js/wiki/design\n\t    Reader.prototype.isRegexStart = function () {\n\t        var previous = this.values[this.values.length - 1];\n\t        var regex = (previous !== null);\n\t        switch (previous) {\n\t            case 'this':\n\t            case ']':\n\t                regex = false;\n\t                break;\n\t            case ')':\n\t                var keyword = this.values[this.paren - 1];\n\t                regex = (keyword === 'if' || keyword === 'while' || keyword === 'for' || keyword === 'with');\n\t                break;\n\t            case '}':\n\t                // Dividing a function by anything makes little sense,\n\t                // but we have to check for that.\n\t                regex = false;\n\t                if (this.values[this.curly - 3] === 'function') {\n\t                    // Anonymous function, e.g. function(){} /42\n\t                    var check = this.values[this.curly - 4];\n\t                    regex = check ? !this.beforeFunctionExpression(check) : false;\n\t                }\n\t                else if (this.values[this.curly - 4] === 'function') {\n\t                    // Named function, e.g. function f(){} /42/\n\t                    var check = this.values[this.curly - 5];\n\t                    regex = check ? !this.beforeFunctionExpression(check) : true;\n\t                }\n\t                break;\n\t            default:\n\t                break;\n\t        }\n\t        return regex;\n\t    };\n\t    Reader.prototype.push = function (token) {\n\t        if (token.type === 7 /* Punctuator */ || token.type === 4 /* Keyword */) {\n\t            if (token.value === '{') {\n\t                this.curly = this.values.length;\n\t            }\n\t            else if (token.value === '(') {\n\t                this.paren = this.values.length;\n\t            }\n\t            this.values.push(token.value);\n\t        }\n\t        else {\n\t            this.values.push(null);\n\t        }\n\t    };\n\t    return Reader;\n\t}());\n\tvar Tokenizer = (function () {\n\t    function Tokenizer(code, config) {\n\t        this.errorHandler = new error_handler_1.ErrorHandler();\n\t        this.errorHandler.tolerant = config ? (typeof config.tolerant === 'boolean' && config.tolerant) : false;\n\t        this.scanner = new scanner_1.Scanner(code, this.errorHandler);\n\t        this.scanner.trackComment = config ? (typeof config.comment === 'boolean' && config.comment) : false;\n\t        this.trackRange = config ? (typeof config.range === 'boolean' && config.range) : false;\n\t        this.trackLoc = config ? (typeof config.loc === 'boolean' && config.loc) : false;\n\t        this.buffer = [];\n\t        this.reader = new Reader();\n\t    }\n\t    Tokenizer.prototype.errors = function () {\n\t        return this.errorHandler.errors;\n\t    };\n\t    Tokenizer.prototype.getNextToken = function () {\n\t        if (this.buffer.length === 0) {\n\t            var comments = this.scanner.scanComments();\n\t            if (this.scanner.trackComment) {\n\t                for (var i = 0; i < comments.length; ++i) {\n\t                    var e = comments[i];\n\t                    var value = this.scanner.source.slice(e.slice[0], e.slice[1]);\n\t                    var comment = {\n\t                        type: e.multiLine ? 'BlockComment' : 'LineComment',\n\t                        value: value\n\t                    };\n\t                    if (this.trackRange) {\n\t                        comment.range = e.range;\n\t                    }\n\t                    if (this.trackLoc) {\n\t                        comment.loc = e.loc;\n\t                    }\n\t                    this.buffer.push(comment);\n\t                }\n\t            }\n\t            if (!this.scanner.eof()) {\n\t                var loc = void 0;\n\t                if (this.trackLoc) {\n\t                    loc = {\n\t                        start: {\n\t                            line: this.scanner.lineNumber,\n\t                            column: this.scanner.index - this.scanner.lineStart\n\t                        },\n\t                        end: {}\n\t                    };\n\t                }\n\t                var startRegex = (this.scanner.source[this.scanner.index] === '/') && this.reader.isRegexStart();\n\t                var token = startRegex ? this.scanner.scanRegExp() : this.scanner.lex();\n\t                this.reader.push(token);\n\t                var entry = {\n\t                    type: token_1.TokenName[token.type],\n\t                    value: this.scanner.source.slice(token.start, token.end)\n\t                };\n\t                if (this.trackRange) {\n\t                    entry.range = [token.start, token.end];\n\t                }\n\t                if (this.trackLoc) {\n\t                    loc.end = {\n\t                        line: this.scanner.lineNumber,\n\t                        column: this.scanner.index - this.scanner.lineStart\n\t                    };\n\t                    entry.loc = loc;\n\t                }\n\t                if (token.type === 9 /* RegularExpression */) {\n\t                    var pattern = token.pattern;\n\t                    var flags = token.flags;\n\t                    entry.regex = { pattern: pattern, flags: flags };\n\t                }\n\t                this.buffer.push(entry);\n\t            }\n\t        }\n\t        return this.buffer.shift();\n\t    };\n\t    return Tokenizer;\n\t}());\n\texports.Tokenizer = Tokenizer;\n\n\n/***/ }\n/******/ ])\n});\n;","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","'use strict';\n\n\nvar yaml = require('./lib/js-yaml.js');\n\n\nmodule.exports = yaml;\n","'use strict';\n\n\nvar loader = require('./js-yaml/loader');\nvar dumper = require('./js-yaml/dumper');\n\n\nfunction deprecated(name) {\n  return function () {\n    throw new Error('Function ' + name + ' is deprecated and cannot be used.');\n  };\n}\n\n\nmodule.exports.Type                = require('./js-yaml/type');\nmodule.exports.Schema              = require('./js-yaml/schema');\nmodule.exports.FAILSAFE_SCHEMA     = require('./js-yaml/schema/failsafe');\nmodule.exports.JSON_SCHEMA         = require('./js-yaml/schema/json');\nmodule.exports.CORE_SCHEMA         = require('./js-yaml/schema/core');\nmodule.exports.DEFAULT_SAFE_SCHEMA = require('./js-yaml/schema/default_safe');\nmodule.exports.DEFAULT_FULL_SCHEMA = require('./js-yaml/schema/default_full');\nmodule.exports.load                = loader.load;\nmodule.exports.loadAll             = loader.loadAll;\nmodule.exports.safeLoad            = loader.safeLoad;\nmodule.exports.safeLoadAll         = loader.safeLoadAll;\nmodule.exports.dump                = dumper.dump;\nmodule.exports.safeDump            = dumper.safeDump;\nmodule.exports.YAMLException       = require('./js-yaml/exception');\n\n// Deprecated schema names from JS-YAML 2.0.x\nmodule.exports.MINIMAL_SCHEMA = require('./js-yaml/schema/failsafe');\nmodule.exports.SAFE_SCHEMA    = require('./js-yaml/schema/default_safe');\nmodule.exports.DEFAULT_SCHEMA = require('./js-yaml/schema/default_full');\n\n// Deprecated functions from JS-YAML 1.x.x\nmodule.exports.scan           = deprecated('scan');\nmodule.exports.parse          = deprecated('parse');\nmodule.exports.compose        = deprecated('compose');\nmodule.exports.addConstructor = deprecated('addConstructor');\n","'use strict';\n\n\nfunction isNothing(subject) {\n  return (typeof subject === 'undefined') || (subject === null);\n}\n\n\nfunction isObject(subject) {\n  return (typeof subject === 'object') && (subject !== null);\n}\n\n\nfunction toArray(sequence) {\n  if (Array.isArray(sequence)) return sequence;\n  else if (isNothing(sequence)) return [];\n\n  return [ sequence ];\n}\n\n\nfunction extend(target, source) {\n  var index, length, key, sourceKeys;\n\n  if (source) {\n    sourceKeys = Object.keys(source);\n\n    for (index = 0, length = sourceKeys.length; index < length; index += 1) {\n      key = sourceKeys[index];\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\n\nfunction repeat(string, count) {\n  var result = '', cycle;\n\n  for (cycle = 0; cycle < count; cycle += 1) {\n    result += string;\n  }\n\n  return result;\n}\n\n\nfunction isNegativeZero(number) {\n  return (number === 0) && (Number.NEGATIVE_INFINITY === 1 / number);\n}\n\n\nmodule.exports.isNothing      = isNothing;\nmodule.exports.isObject       = isObject;\nmodule.exports.toArray        = toArray;\nmodule.exports.repeat         = repeat;\nmodule.exports.isNegativeZero = isNegativeZero;\nmodule.exports.extend         = extend;\n","'use strict';\n\n/*eslint-disable no-use-before-define*/\n\nvar common              = require('./common');\nvar YAMLException       = require('./exception');\nvar DEFAULT_FULL_SCHEMA = require('./schema/default_full');\nvar DEFAULT_SAFE_SCHEMA = require('./schema/default_safe');\n\nvar _toString       = Object.prototype.toString;\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar CHAR_TAB                  = 0x09; /* Tab */\nvar CHAR_LINE_FEED            = 0x0A; /* LF */\nvar CHAR_SPACE                = 0x20; /* Space */\nvar CHAR_EXCLAMATION          = 0x21; /* ! */\nvar CHAR_DOUBLE_QUOTE         = 0x22; /* \" */\nvar CHAR_SHARP                = 0x23; /* # */\nvar CHAR_PERCENT              = 0x25; /* % */\nvar CHAR_AMPERSAND            = 0x26; /* & */\nvar CHAR_SINGLE_QUOTE         = 0x27; /* ' */\nvar CHAR_ASTERISK             = 0x2A; /* * */\nvar CHAR_COMMA                = 0x2C; /* , */\nvar CHAR_MINUS                = 0x2D; /* - */\nvar CHAR_COLON                = 0x3A; /* : */\nvar CHAR_GREATER_THAN         = 0x3E; /* > */\nvar CHAR_QUESTION             = 0x3F; /* ? */\nvar CHAR_COMMERCIAL_AT        = 0x40; /* @ */\nvar CHAR_LEFT_SQUARE_BRACKET  = 0x5B; /* [ */\nvar CHAR_RIGHT_SQUARE_BRACKET = 0x5D; /* ] */\nvar CHAR_GRAVE_ACCENT         = 0x60; /* ` */\nvar CHAR_LEFT_CURLY_BRACKET   = 0x7B; /* { */\nvar CHAR_VERTICAL_LINE        = 0x7C; /* | */\nvar CHAR_RIGHT_CURLY_BRACKET  = 0x7D; /* } */\n\nvar ESCAPE_SEQUENCES = {};\n\nESCAPE_SEQUENCES[0x00]   = '\\\\0';\nESCAPE_SEQUENCES[0x07]   = '\\\\a';\nESCAPE_SEQUENCES[0x08]   = '\\\\b';\nESCAPE_SEQUENCES[0x09]   = '\\\\t';\nESCAPE_SEQUENCES[0x0A]   = '\\\\n';\nESCAPE_SEQUENCES[0x0B]   = '\\\\v';\nESCAPE_SEQUENCES[0x0C]   = '\\\\f';\nESCAPE_SEQUENCES[0x0D]   = '\\\\r';\nESCAPE_SEQUENCES[0x1B]   = '\\\\e';\nESCAPE_SEQUENCES[0x22]   = '\\\\\"';\nESCAPE_SEQUENCES[0x5C]   = '\\\\\\\\';\nESCAPE_SEQUENCES[0x85]   = '\\\\N';\nESCAPE_SEQUENCES[0xA0]   = '\\\\_';\nESCAPE_SEQUENCES[0x2028] = '\\\\L';\nESCAPE_SEQUENCES[0x2029] = '\\\\P';\n\nvar DEPRECATED_BOOLEANS_SYNTAX = [\n  'y', 'Y', 'yes', 'Yes', 'YES', 'on', 'On', 'ON',\n  'n', 'N', 'no', 'No', 'NO', 'off', 'Off', 'OFF'\n];\n\nfunction compileStyleMap(schema, map) {\n  var result, keys, index, length, tag, style, type;\n\n  if (map === null) return {};\n\n  result = {};\n  keys = Object.keys(map);\n\n  for (index = 0, length = keys.length; index < length; index += 1) {\n    tag = keys[index];\n    style = String(map[tag]);\n\n    if (tag.slice(0, 2) === '!!') {\n      tag = 'tag:yaml.org,2002:' + tag.slice(2);\n    }\n    type = schema.compiledTypeMap['fallback'][tag];\n\n    if (type && _hasOwnProperty.call(type.styleAliases, style)) {\n      style = type.styleAliases[style];\n    }\n\n    result[tag] = style;\n  }\n\n  return result;\n}\n\nfunction encodeHex(character) {\n  var string, handle, length;\n\n  string = character.toString(16).toUpperCase();\n\n  if (character <= 0xFF) {\n    handle = 'x';\n    length = 2;\n  } else if (character <= 0xFFFF) {\n    handle = 'u';\n    length = 4;\n  } else if (character <= 0xFFFFFFFF) {\n    handle = 'U';\n    length = 8;\n  } else {\n    throw new YAMLException('code point within a string may not be greater than 0xFFFFFFFF');\n  }\n\n  return '\\\\' + handle + common.repeat('0', length - string.length) + string;\n}\n\nfunction State(options) {\n  this.schema        = options['schema'] || DEFAULT_FULL_SCHEMA;\n  this.indent        = Math.max(1, (options['indent'] || 2));\n  this.noArrayIndent = options['noArrayIndent'] || false;\n  this.skipInvalid   = options['skipInvalid'] || false;\n  this.flowLevel     = (common.isNothing(options['flowLevel']) ? -1 : options['flowLevel']);\n  this.styleMap      = compileStyleMap(this.schema, options['styles'] || null);\n  this.sortKeys      = options['sortKeys'] || false;\n  this.lineWidth     = options['lineWidth'] || 80;\n  this.noRefs        = options['noRefs'] || false;\n  this.noCompatMode  = options['noCompatMode'] || false;\n  this.condenseFlow  = options['condenseFlow'] || false;\n\n  this.implicitTypes = this.schema.compiledImplicit;\n  this.explicitTypes = this.schema.compiledExplicit;\n\n  this.tag = null;\n  this.result = '';\n\n  this.duplicates = [];\n  this.usedDuplicates = null;\n}\n\n// Indents every line in a string. Empty lines (\\n only) are not indented.\nfunction indentString(string, spaces) {\n  var ind = common.repeat(' ', spaces),\n      position = 0,\n      next = -1,\n      result = '',\n      line,\n      length = string.length;\n\n  while (position < length) {\n    next = string.indexOf('\\n', position);\n    if (next === -1) {\n      line = string.slice(position);\n      position = length;\n    } else {\n      line = string.slice(position, next + 1);\n      position = next + 1;\n    }\n\n    if (line.length && line !== '\\n') result += ind;\n\n    result += line;\n  }\n\n  return result;\n}\n\nfunction generateNextLine(state, level) {\n  return '\\n' + common.repeat(' ', state.indent * level);\n}\n\nfunction testImplicitResolving(state, str) {\n  var index, length, type;\n\n  for (index = 0, length = state.implicitTypes.length; index < length; index += 1) {\n    type = state.implicitTypes[index];\n\n    if (type.resolve(str)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// [33] s-white ::= s-space | s-tab\nfunction isWhitespace(c) {\n  return c === CHAR_SPACE || c === CHAR_TAB;\n}\n\n// Returns true if the character can be printed without escaping.\n// From YAML 1.2: \"any allowed characters known to be non-printable\n// should also be escaped. [However,] This isnt mandatory\"\n// Derived from nb-char - \\t - #x85 - #xA0 - #x2028 - #x2029.\nfunction isPrintable(c) {\n  return  (0x00020 <= c && c <= 0x00007E)\n      || ((0x000A1 <= c && c <= 0x00D7FF) && c !== 0x2028 && c !== 0x2029)\n      || ((0x0E000 <= c && c <= 0x00FFFD) && c !== 0xFEFF /* BOM */)\n      ||  (0x10000 <= c && c <= 0x10FFFF);\n}\n\n// Simplified test for values allowed after the first character in plain style.\nfunction isPlainSafe(c) {\n  // Uses a subset of nb-char - c-flow-indicator - \":\" - \"#\"\n  // where nb-char ::= c-printable - b-char - c-byte-order-mark.\n  return isPrintable(c) && c !== 0xFEFF\n    // - c-flow-indicator\n    && c !== CHAR_COMMA\n    && c !== CHAR_LEFT_SQUARE_BRACKET\n    && c !== CHAR_RIGHT_SQUARE_BRACKET\n    && c !== CHAR_LEFT_CURLY_BRACKET\n    && c !== CHAR_RIGHT_CURLY_BRACKET\n    // - \":\" - \"#\"\n    && c !== CHAR_COLON\n    && c !== CHAR_SHARP;\n}\n\n// Simplified test for values allowed as the first character in plain style.\nfunction isPlainSafeFirst(c) {\n  // Uses a subset of ns-char - c-indicator\n  // where ns-char = nb-char - s-white.\n  return isPrintable(c) && c !== 0xFEFF\n    && !isWhitespace(c) // - s-white\n    // - (c-indicator ::=\n    // - | ? | : | , | [ | ] | { | }\n    && c !== CHAR_MINUS\n    && c !== CHAR_QUESTION\n    && c !== CHAR_COLON\n    && c !== CHAR_COMMA\n    && c !== CHAR_LEFT_SQUARE_BRACKET\n    && c !== CHAR_RIGHT_SQUARE_BRACKET\n    && c !== CHAR_LEFT_CURLY_BRACKET\n    && c !== CHAR_RIGHT_CURLY_BRACKET\n    // | # | & | * | ! | | | > | ' | \"\n    && c !== CHAR_SHARP\n    && c !== CHAR_AMPERSAND\n    && c !== CHAR_ASTERISK\n    && c !== CHAR_EXCLAMATION\n    && c !== CHAR_VERTICAL_LINE\n    && c !== CHAR_GREATER_THAN\n    && c !== CHAR_SINGLE_QUOTE\n    && c !== CHAR_DOUBLE_QUOTE\n    // | % | @ | `)\n    && c !== CHAR_PERCENT\n    && c !== CHAR_COMMERCIAL_AT\n    && c !== CHAR_GRAVE_ACCENT;\n}\n\n// Determines whether block indentation indicator is required.\nfunction needIndentIndicator(string) {\n  var leadingSpaceRe = /^\\n* /;\n  return leadingSpaceRe.test(string);\n}\n\nvar STYLE_PLAIN   = 1,\n    STYLE_SINGLE  = 2,\n    STYLE_LITERAL = 3,\n    STYLE_FOLDED  = 4,\n    STYLE_DOUBLE  = 5;\n\n// Determines which scalar styles are possible and returns the preferred style.\n// lineWidth = -1 => no limit.\n// Pre-conditions: str.length > 0.\n// Post-conditions:\n//    STYLE_PLAIN or STYLE_SINGLE => no \\n are in the string.\n//    STYLE_LITERAL => no lines are suitable for folding (or lineWidth is -1).\n//    STYLE_FOLDED => a line > lineWidth and can be folded (and lineWidth != -1).\nfunction chooseScalarStyle(string, singleLineOnly, indentPerLevel, lineWidth, testAmbiguousType) {\n  var i;\n  var char;\n  var hasLineBreak = false;\n  var hasFoldableLine = false; // only checked if shouldTrackWidth\n  var shouldTrackWidth = lineWidth !== -1;\n  var previousLineBreak = -1; // count the first line correctly\n  var plain = isPlainSafeFirst(string.charCodeAt(0))\n          && !isWhitespace(string.charCodeAt(string.length - 1));\n\n  if (singleLineOnly) {\n    // Case: no block styles.\n    // Check for disallowed characters to rule out plain and single.\n    for (i = 0; i < string.length; i++) {\n      char = string.charCodeAt(i);\n      if (!isPrintable(char)) {\n        return STYLE_DOUBLE;\n      }\n      plain = plain && isPlainSafe(char);\n    }\n  } else {\n    // Case: block styles permitted.\n    for (i = 0; i < string.length; i++) {\n      char = string.charCodeAt(i);\n      if (char === CHAR_LINE_FEED) {\n        hasLineBreak = true;\n        // Check if any line can be folded.\n        if (shouldTrackWidth) {\n          hasFoldableLine = hasFoldableLine ||\n            // Foldable line = too long, and not more-indented.\n            (i - previousLineBreak - 1 > lineWidth &&\n             string[previousLineBreak + 1] !== ' ');\n          previousLineBreak = i;\n        }\n      } else if (!isPrintable(char)) {\n        return STYLE_DOUBLE;\n      }\n      plain = plain && isPlainSafe(char);\n    }\n    // in case the end is missing a \\n\n    hasFoldableLine = hasFoldableLine || (shouldTrackWidth &&\n      (i - previousLineBreak - 1 > lineWidth &&\n       string[previousLineBreak + 1] !== ' '));\n  }\n  // Although every style can represent \\n without escaping, prefer block styles\n  // for multiline, since they're more readable and they don't add empty lines.\n  // Also prefer folding a super-long line.\n  if (!hasLineBreak && !hasFoldableLine) {\n    // Strings interpretable as another type have to be quoted;\n    // e.g. the string 'true' vs. the boolean true.\n    return plain && !testAmbiguousType(string)\n      ? STYLE_PLAIN : STYLE_SINGLE;\n  }\n  // Edge case: block indentation indicator can only have one digit.\n  if (indentPerLevel > 9 && needIndentIndicator(string)) {\n    return STYLE_DOUBLE;\n  }\n  // At this point we know block styles are valid.\n  // Prefer literal style unless we want to fold.\n  return hasFoldableLine ? STYLE_FOLDED : STYLE_LITERAL;\n}\n\n// Note: line breaking/folding is implemented for only the folded style.\n// NB. We drop the last trailing newline (if any) of a returned block scalar\n//  since the dumper adds its own newline. This always works:\n//     No ending newline => unaffected; already using strip \"-\" chomping.\n//     Ending newline    => removed then restored.\n//  Importantly, this keeps the \"+\" chomp indicator from gaining an extra line.\nfunction writeScalar(state, string, level, iskey) {\n  state.dump = (function () {\n    if (string.length === 0) {\n      return \"''\";\n    }\n    if (!state.noCompatMode &&\n        DEPRECATED_BOOLEANS_SYNTAX.indexOf(string) !== -1) {\n      return \"'\" + string + \"'\";\n    }\n\n    var indent = state.indent * Math.max(1, level); // no 0-indent scalars\n    // As indentation gets deeper, let the width decrease monotonically\n    // to the lower bound min(state.lineWidth, 40).\n    // Note that this implies\n    //  state.lineWidth  40 + state.indent: width is fixed at the lower bound.\n    //  state.lineWidth > 40 + state.indent: width decreases until the lower bound.\n    // This behaves better than a constant minimum width which disallows narrower options,\n    // or an indent threshold which causes the width to suddenly increase.\n    var lineWidth = state.lineWidth === -1\n      ? -1 : Math.max(Math.min(state.lineWidth, 40), state.lineWidth - indent);\n\n    // Without knowing if keys are implicit/explicit, assume implicit for safety.\n    var singleLineOnly = iskey\n      // No block styles in flow mode.\n      || (state.flowLevel > -1 && level >= state.flowLevel);\n    function testAmbiguity(string) {\n      return testImplicitResolving(state, string);\n    }\n\n    switch (chooseScalarStyle(string, singleLineOnly, state.indent, lineWidth, testAmbiguity)) {\n      case STYLE_PLAIN:\n        return string;\n      case STYLE_SINGLE:\n        return \"'\" + string.replace(/'/g, \"''\") + \"'\";\n      case STYLE_LITERAL:\n        return '|' + blockHeader(string, state.indent)\n          + dropEndingNewline(indentString(string, indent));\n      case STYLE_FOLDED:\n        return '>' + blockHeader(string, state.indent)\n          + dropEndingNewline(indentString(foldString(string, lineWidth), indent));\n      case STYLE_DOUBLE:\n        return '\"' + escapeString(string, lineWidth) + '\"';\n      default:\n        throw new YAMLException('impossible error: invalid scalar style');\n    }\n  }());\n}\n\n// Pre-conditions: string is valid for a block scalar, 1 <= indentPerLevel <= 9.\nfunction blockHeader(string, indentPerLevel) {\n  var indentIndicator = needIndentIndicator(string) ? String(indentPerLevel) : '';\n\n  // note the special case: the string '\\n' counts as a \"trailing\" empty line.\n  var clip =          string[string.length - 1] === '\\n';\n  var keep = clip && (string[string.length - 2] === '\\n' || string === '\\n');\n  var chomp = keep ? '+' : (clip ? '' : '-');\n\n  return indentIndicator + chomp + '\\n';\n}\n\n// (See the note for writeScalar.)\nfunction dropEndingNewline(string) {\n  return string[string.length - 1] === '\\n' ? string.slice(0, -1) : string;\n}\n\n// Note: a long line without a suitable break point will exceed the width limit.\n// Pre-conditions: every char in str isPrintable, str.length > 0, width > 0.\nfunction foldString(string, width) {\n  // In folded style, $k$ consecutive newlines output as $k+1$ newlines\n  // unless they're before or after a more-indented line, or at the very\n  // beginning or end, in which case $k$ maps to $k$.\n  // Therefore, parse each chunk as newline(s) followed by a content line.\n  var lineRe = /(\\n+)([^\\n]*)/g;\n\n  // first line (possibly an empty line)\n  var result = (function () {\n    var nextLF = string.indexOf('\\n');\n    nextLF = nextLF !== -1 ? nextLF : string.length;\n    lineRe.lastIndex = nextLF;\n    return foldLine(string.slice(0, nextLF), width);\n  }());\n  // If we haven't reached the first content line yet, don't add an extra \\n.\n  var prevMoreIndented = string[0] === '\\n' || string[0] === ' ';\n  var moreIndented;\n\n  // rest of the lines\n  var match;\n  while ((match = lineRe.exec(string))) {\n    var prefix = match[1], line = match[2];\n    moreIndented = (line[0] === ' ');\n    result += prefix\n      + (!prevMoreIndented && !moreIndented && line !== ''\n        ? '\\n' : '')\n      + foldLine(line, width);\n    prevMoreIndented = moreIndented;\n  }\n\n  return result;\n}\n\n// Greedy line breaking.\n// Picks the longest line under the limit each time,\n// otherwise settles for the shortest line over the limit.\n// NB. More-indented lines *cannot* be folded, as that would add an extra \\n.\nfunction foldLine(line, width) {\n  if (line === '' || line[0] === ' ') return line;\n\n  // Since a more-indented line adds a \\n, breaks can't be followed by a space.\n  var breakRe = / [^ ]/g; // note: the match index will always be <= length-2.\n  var match;\n  // start is an inclusive index. end, curr, and next are exclusive.\n  var start = 0, end, curr = 0, next = 0;\n  var result = '';\n\n  // Invariants: 0 <= start <= length-1.\n  //   0 <= curr <= next <= max(0, length-2). curr - start <= width.\n  // Inside the loop:\n  //   A match implies length >= 2, so curr and next are <= length-2.\n  while ((match = breakRe.exec(line))) {\n    next = match.index;\n    // maintain invariant: curr - start <= width\n    if (next - start > width) {\n      end = (curr > start) ? curr : next; // derive end <= length-2\n      result += '\\n' + line.slice(start, end);\n      // skip the space that was output as \\n\n      start = end + 1;                    // derive start <= length-1\n    }\n    curr = next;\n  }\n\n  // By the invariants, start <= length-1, so there is something left over.\n  // It is either the whole string or a part starting from non-whitespace.\n  result += '\\n';\n  // Insert a break if the remainder is too long and there is a break available.\n  if (line.length - start > width && curr > start) {\n    result += line.slice(start, curr) + '\\n' + line.slice(curr + 1);\n  } else {\n    result += line.slice(start);\n  }\n\n  return result.slice(1); // drop extra \\n joiner\n}\n\n// Escapes a double-quoted string.\nfunction escapeString(string) {\n  var result = '';\n  var char, nextChar;\n  var escapeSeq;\n\n  for (var i = 0; i < string.length; i++) {\n    char = string.charCodeAt(i);\n    // Check for surrogate pairs (reference Unicode 3.0 section \"3.7 Surrogates\").\n    if (char >= 0xD800 && char <= 0xDBFF/* high surrogate */) {\n      nextChar = string.charCodeAt(i + 1);\n      if (nextChar >= 0xDC00 && nextChar <= 0xDFFF/* low surrogate */) {\n        // Combine the surrogate pair and store it escaped.\n        result += encodeHex((char - 0xD800) * 0x400 + nextChar - 0xDC00 + 0x10000);\n        // Advance index one extra since we already used that char here.\n        i++; continue;\n      }\n    }\n    escapeSeq = ESCAPE_SEQUENCES[char];\n    result += !escapeSeq && isPrintable(char)\n      ? string[i]\n      : escapeSeq || encodeHex(char);\n  }\n\n  return result;\n}\n\nfunction writeFlowSequence(state, level, object) {\n  var _result = '',\n      _tag    = state.tag,\n      index,\n      length;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    // Write only valid elements.\n    if (writeNode(state, level, object[index], false, false)) {\n      if (index !== 0) _result += ',' + (!state.condenseFlow ? ' ' : '');\n      _result += state.dump;\n    }\n  }\n\n  state.tag = _tag;\n  state.dump = '[' + _result + ']';\n}\n\nfunction writeBlockSequence(state, level, object, compact) {\n  var _result = '',\n      _tag    = state.tag,\n      index,\n      length;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    // Write only valid elements.\n    if (writeNode(state, level + 1, object[index], true, true)) {\n      if (!compact || index !== 0) {\n        _result += generateNextLine(state, level);\n      }\n\n      if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n        _result += '-';\n      } else {\n        _result += '- ';\n      }\n\n      _result += state.dump;\n    }\n  }\n\n  state.tag = _tag;\n  state.dump = _result || '[]'; // Empty sequence if no valid values.\n}\n\nfunction writeFlowMapping(state, level, object) {\n  var _result       = '',\n      _tag          = state.tag,\n      objectKeyList = Object.keys(object),\n      index,\n      length,\n      objectKey,\n      objectValue,\n      pairBuffer;\n\n  for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n    pairBuffer = state.condenseFlow ? '\"' : '';\n\n    if (index !== 0) pairBuffer += ', ';\n\n    objectKey = objectKeyList[index];\n    objectValue = object[objectKey];\n\n    if (!writeNode(state, level, objectKey, false, false)) {\n      continue; // Skip this pair because of invalid key;\n    }\n\n    if (state.dump.length > 1024) pairBuffer += '? ';\n\n    pairBuffer += state.dump + (state.condenseFlow ? '\"' : '') + ':' + (state.condenseFlow ? '' : ' ');\n\n    if (!writeNode(state, level, objectValue, false, false)) {\n      continue; // Skip this pair because of invalid value.\n    }\n\n    pairBuffer += state.dump;\n\n    // Both key and value are valid.\n    _result += pairBuffer;\n  }\n\n  state.tag = _tag;\n  state.dump = '{' + _result + '}';\n}\n\nfunction writeBlockMapping(state, level, object, compact) {\n  var _result       = '',\n      _tag          = state.tag,\n      objectKeyList = Object.keys(object),\n      index,\n      length,\n      objectKey,\n      objectValue,\n      explicitPair,\n      pairBuffer;\n\n  // Allow sorting keys so that the output file is deterministic\n  if (state.sortKeys === true) {\n    // Default sorting\n    objectKeyList.sort();\n  } else if (typeof state.sortKeys === 'function') {\n    // Custom sort function\n    objectKeyList.sort(state.sortKeys);\n  } else if (state.sortKeys) {\n    // Something is wrong\n    throw new YAMLException('sortKeys must be a boolean or a function');\n  }\n\n  for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n    pairBuffer = '';\n\n    if (!compact || index !== 0) {\n      pairBuffer += generateNextLine(state, level);\n    }\n\n    objectKey = objectKeyList[index];\n    objectValue = object[objectKey];\n\n    if (!writeNode(state, level + 1, objectKey, true, true, true)) {\n      continue; // Skip this pair because of invalid key.\n    }\n\n    explicitPair = (state.tag !== null && state.tag !== '?') ||\n                   (state.dump && state.dump.length > 1024);\n\n    if (explicitPair) {\n      if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n        pairBuffer += '?';\n      } else {\n        pairBuffer += '? ';\n      }\n    }\n\n    pairBuffer += state.dump;\n\n    if (explicitPair) {\n      pairBuffer += generateNextLine(state, level);\n    }\n\n    if (!writeNode(state, level + 1, objectValue, true, explicitPair)) {\n      continue; // Skip this pair because of invalid value.\n    }\n\n    if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n      pairBuffer += ':';\n    } else {\n      pairBuffer += ': ';\n    }\n\n    pairBuffer += state.dump;\n\n    // Both key and value are valid.\n    _result += pairBuffer;\n  }\n\n  state.tag = _tag;\n  state.dump = _result || '{}'; // Empty mapping if no valid pairs.\n}\n\nfunction detectType(state, object, explicit) {\n  var _result, typeList, index, length, type, style;\n\n  typeList = explicit ? state.explicitTypes : state.implicitTypes;\n\n  for (index = 0, length = typeList.length; index < length; index += 1) {\n    type = typeList[index];\n\n    if ((type.instanceOf  || type.predicate) &&\n        (!type.instanceOf || ((typeof object === 'object') && (object instanceof type.instanceOf))) &&\n        (!type.predicate  || type.predicate(object))) {\n\n      state.tag = explicit ? type.tag : '?';\n\n      if (type.represent) {\n        style = state.styleMap[type.tag] || type.defaultStyle;\n\n        if (_toString.call(type.represent) === '[object Function]') {\n          _result = type.represent(object, style);\n        } else if (_hasOwnProperty.call(type.represent, style)) {\n          _result = type.represent[style](object, style);\n        } else {\n          throw new YAMLException('!<' + type.tag + '> tag resolver accepts not \"' + style + '\" style');\n        }\n\n        state.dump = _result;\n      }\n\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// Serializes `object` and writes it to global `result`.\n// Returns true on success, or false on invalid object.\n//\nfunction writeNode(state, level, object, block, compact, iskey) {\n  state.tag = null;\n  state.dump = object;\n\n  if (!detectType(state, object, false)) {\n    detectType(state, object, true);\n  }\n\n  var type = _toString.call(state.dump);\n\n  if (block) {\n    block = (state.flowLevel < 0 || state.flowLevel > level);\n  }\n\n  var objectOrArray = type === '[object Object]' || type === '[object Array]',\n      duplicateIndex,\n      duplicate;\n\n  if (objectOrArray) {\n    duplicateIndex = state.duplicates.indexOf(object);\n    duplicate = duplicateIndex !== -1;\n  }\n\n  if ((state.tag !== null && state.tag !== '?') || duplicate || (state.indent !== 2 && level > 0)) {\n    compact = false;\n  }\n\n  if (duplicate && state.usedDuplicates[duplicateIndex]) {\n    state.dump = '*ref_' + duplicateIndex;\n  } else {\n    if (objectOrArray && duplicate && !state.usedDuplicates[duplicateIndex]) {\n      state.usedDuplicates[duplicateIndex] = true;\n    }\n    if (type === '[object Object]') {\n      if (block && (Object.keys(state.dump).length !== 0)) {\n        writeBlockMapping(state, level, state.dump, compact);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + state.dump;\n        }\n      } else {\n        writeFlowMapping(state, level, state.dump);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + ' ' + state.dump;\n        }\n      }\n    } else if (type === '[object Array]') {\n      var arrayLevel = (state.noArrayIndent && (level > 0)) ? level - 1 : level;\n      if (block && (state.dump.length !== 0)) {\n        writeBlockSequence(state, arrayLevel, state.dump, compact);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + state.dump;\n        }\n      } else {\n        writeFlowSequence(state, arrayLevel, state.dump);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + ' ' + state.dump;\n        }\n      }\n    } else if (type === '[object String]') {\n      if (state.tag !== '?') {\n        writeScalar(state, state.dump, level, iskey);\n      }\n    } else {\n      if (state.skipInvalid) return false;\n      throw new YAMLException('unacceptable kind of an object to dump ' + type);\n    }\n\n    if (state.tag !== null && state.tag !== '?') {\n      state.dump = '!<' + state.tag + '> ' + state.dump;\n    }\n  }\n\n  return true;\n}\n\nfunction getDuplicateReferences(object, state) {\n  var objects = [],\n      duplicatesIndexes = [],\n      index,\n      length;\n\n  inspectNode(object, objects, duplicatesIndexes);\n\n  for (index = 0, length = duplicatesIndexes.length; index < length; index += 1) {\n    state.duplicates.push(objects[duplicatesIndexes[index]]);\n  }\n  state.usedDuplicates = new Array(length);\n}\n\nfunction inspectNode(object, objects, duplicatesIndexes) {\n  var objectKeyList,\n      index,\n      length;\n\n  if (object !== null && typeof object === 'object') {\n    index = objects.indexOf(object);\n    if (index !== -1) {\n      if (duplicatesIndexes.indexOf(index) === -1) {\n        duplicatesIndexes.push(index);\n      }\n    } else {\n      objects.push(object);\n\n      if (Array.isArray(object)) {\n        for (index = 0, length = object.length; index < length; index += 1) {\n          inspectNode(object[index], objects, duplicatesIndexes);\n        }\n      } else {\n        objectKeyList = Object.keys(object);\n\n        for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n          inspectNode(object[objectKeyList[index]], objects, duplicatesIndexes);\n        }\n      }\n    }\n  }\n}\n\nfunction dump(input, options) {\n  options = options || {};\n\n  var state = new State(options);\n\n  if (!state.noRefs) getDuplicateReferences(input, state);\n\n  if (writeNode(state, 0, input, true, true)) return state.dump + '\\n';\n\n  return '';\n}\n\nfunction safeDump(input, options) {\n  return dump(input, common.extend({ schema: DEFAULT_SAFE_SCHEMA }, options));\n}\n\nmodule.exports.dump     = dump;\nmodule.exports.safeDump = safeDump;\n","// YAML error class. http://stackoverflow.com/questions/8458984\n//\n'use strict';\n\nfunction YAMLException(reason, mark) {\n  // Super constructor\n  Error.call(this);\n\n  this.name = 'YAMLException';\n  this.reason = reason;\n  this.mark = mark;\n  this.message = (this.reason || '(unknown reason)') + (this.mark ? ' ' + this.mark.toString() : '');\n\n  // Include stack trace in error object\n  if (Error.captureStackTrace) {\n    // Chrome and NodeJS\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    // FF, IE 10+ and Safari 6+. Fallback for others\n    this.stack = (new Error()).stack || '';\n  }\n}\n\n\n// Inherit from Error\nYAMLException.prototype = Object.create(Error.prototype);\nYAMLException.prototype.constructor = YAMLException;\n\n\nYAMLException.prototype.toString = function toString(compact) {\n  var result = this.name + ': ';\n\n  result += this.reason || '(unknown reason)';\n\n  if (!compact && this.mark) {\n    result += ' ' + this.mark.toString();\n  }\n\n  return result;\n};\n\n\nmodule.exports = YAMLException;\n","'use strict';\n\n/*eslint-disable max-len,no-use-before-define*/\n\nvar common              = require('./common');\nvar YAMLException       = require('./exception');\nvar Mark                = require('./mark');\nvar DEFAULT_SAFE_SCHEMA = require('./schema/default_safe');\nvar DEFAULT_FULL_SCHEMA = require('./schema/default_full');\n\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\n\nvar CONTEXT_FLOW_IN   = 1;\nvar CONTEXT_FLOW_OUT  = 2;\nvar CONTEXT_BLOCK_IN  = 3;\nvar CONTEXT_BLOCK_OUT = 4;\n\n\nvar CHOMPING_CLIP  = 1;\nvar CHOMPING_STRIP = 2;\nvar CHOMPING_KEEP  = 3;\n\n\nvar PATTERN_NON_PRINTABLE         = /[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7F-\\x84\\x86-\\x9F\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\nvar PATTERN_NON_ASCII_LINE_BREAKS = /[\\x85\\u2028\\u2029]/;\nvar PATTERN_FLOW_INDICATORS       = /[,\\[\\]\\{\\}]/;\nvar PATTERN_TAG_HANDLE            = /^(?:!|!!|![a-z\\-]+!)$/i;\nvar PATTERN_TAG_URI               = /^(?:!|[^,\\[\\]\\{\\}])(?:%[0-9a-f]{2}|[0-9a-z\\-#;\\/\\?:@&=\\+\\$,_\\.!~\\*'\\(\\)\\[\\]])*$/i;\n\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\n\nfunction is_EOL(c) {\n  return (c === 0x0A/* LF */) || (c === 0x0D/* CR */);\n}\n\nfunction is_WHITE_SPACE(c) {\n  return (c === 0x09/* Tab */) || (c === 0x20/* Space */);\n}\n\nfunction is_WS_OR_EOL(c) {\n  return (c === 0x09/* Tab */) ||\n         (c === 0x20/* Space */) ||\n         (c === 0x0A/* LF */) ||\n         (c === 0x0D/* CR */);\n}\n\nfunction is_FLOW_INDICATOR(c) {\n  return c === 0x2C/* , */ ||\n         c === 0x5B/* [ */ ||\n         c === 0x5D/* ] */ ||\n         c === 0x7B/* { */ ||\n         c === 0x7D/* } */;\n}\n\nfunction fromHexCode(c) {\n  var lc;\n\n  if ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) {\n    return c - 0x30;\n  }\n\n  /*eslint-disable no-bitwise*/\n  lc = c | 0x20;\n\n  if ((0x61/* a */ <= lc) && (lc <= 0x66/* f */)) {\n    return lc - 0x61 + 10;\n  }\n\n  return -1;\n}\n\nfunction escapedHexLen(c) {\n  if (c === 0x78/* x */) { return 2; }\n  if (c === 0x75/* u */) { return 4; }\n  if (c === 0x55/* U */) { return 8; }\n  return 0;\n}\n\nfunction fromDecimalCode(c) {\n  if ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) {\n    return c - 0x30;\n  }\n\n  return -1;\n}\n\nfunction simpleEscapeSequence(c) {\n  /* eslint-disable indent */\n  return (c === 0x30/* 0 */) ? '\\x00' :\n        (c === 0x61/* a */) ? '\\x07' :\n        (c === 0x62/* b */) ? '\\x08' :\n        (c === 0x74/* t */) ? '\\x09' :\n        (c === 0x09/* Tab */) ? '\\x09' :\n        (c === 0x6E/* n */) ? '\\x0A' :\n        (c === 0x76/* v */) ? '\\x0B' :\n        (c === 0x66/* f */) ? '\\x0C' :\n        (c === 0x72/* r */) ? '\\x0D' :\n        (c === 0x65/* e */) ? '\\x1B' :\n        (c === 0x20/* Space */) ? ' ' :\n        (c === 0x22/* \" */) ? '\\x22' :\n        (c === 0x2F/* / */) ? '/' :\n        (c === 0x5C/* \\ */) ? '\\x5C' :\n        (c === 0x4E/* N */) ? '\\x85' :\n        (c === 0x5F/* _ */) ? '\\xA0' :\n        (c === 0x4C/* L */) ? '\\u2028' :\n        (c === 0x50/* P */) ? '\\u2029' : '';\n}\n\nfunction charFromCodepoint(c) {\n  if (c <= 0xFFFF) {\n    return String.fromCharCode(c);\n  }\n  // Encode UTF-16 surrogate pair\n  // https://en.wikipedia.org/wiki/UTF-16#Code_points_U.2B010000_to_U.2B10FFFF\n  return String.fromCharCode(\n    ((c - 0x010000) >> 10) + 0xD800,\n    ((c - 0x010000) & 0x03FF) + 0xDC00\n  );\n}\n\nvar simpleEscapeCheck = new Array(256); // integer, for fast access\nvar simpleEscapeMap = new Array(256);\nfor (var i = 0; i < 256; i++) {\n  simpleEscapeCheck[i] = simpleEscapeSequence(i) ? 1 : 0;\n  simpleEscapeMap[i] = simpleEscapeSequence(i);\n}\n\n\nfunction State(input, options) {\n  this.input = input;\n\n  this.filename  = options['filename']  || null;\n  this.schema    = options['schema']    || DEFAULT_FULL_SCHEMA;\n  this.onWarning = options['onWarning'] || null;\n  this.legacy    = options['legacy']    || false;\n  this.json      = options['json']      || false;\n  this.listener  = options['listener']  || null;\n\n  this.implicitTypes = this.schema.compiledImplicit;\n  this.typeMap       = this.schema.compiledTypeMap;\n\n  this.length     = input.length;\n  this.position   = 0;\n  this.line       = 0;\n  this.lineStart  = 0;\n  this.lineIndent = 0;\n\n  this.documents = [];\n\n  /*\n  this.version;\n  this.checkLineBreaks;\n  this.tagMap;\n  this.anchorMap;\n  this.tag;\n  this.anchor;\n  this.kind;\n  this.result;*/\n\n}\n\n\nfunction generateError(state, message) {\n  return new YAMLException(\n    message,\n    new Mark(state.filename, state.input, state.position, state.line, (state.position - state.lineStart)));\n}\n\nfunction throwError(state, message) {\n  throw generateError(state, message);\n}\n\nfunction throwWarning(state, message) {\n  if (state.onWarning) {\n    state.onWarning.call(null, generateError(state, message));\n  }\n}\n\n\nvar directiveHandlers = {\n\n  YAML: function handleYamlDirective(state, name, args) {\n\n    var match, major, minor;\n\n    if (state.version !== null) {\n      throwError(state, 'duplication of %YAML directive');\n    }\n\n    if (args.length !== 1) {\n      throwError(state, 'YAML directive accepts exactly one argument');\n    }\n\n    match = /^([0-9]+)\\.([0-9]+)$/.exec(args[0]);\n\n    if (match === null) {\n      throwError(state, 'ill-formed argument of the YAML directive');\n    }\n\n    major = parseInt(match[1], 10);\n    minor = parseInt(match[2], 10);\n\n    if (major !== 1) {\n      throwError(state, 'unacceptable YAML version of the document');\n    }\n\n    state.version = args[0];\n    state.checkLineBreaks = (minor < 2);\n\n    if (minor !== 1 && minor !== 2) {\n      throwWarning(state, 'unsupported YAML version of the document');\n    }\n  },\n\n  TAG: function handleTagDirective(state, name, args) {\n\n    var handle, prefix;\n\n    if (args.length !== 2) {\n      throwError(state, 'TAG directive accepts exactly two arguments');\n    }\n\n    handle = args[0];\n    prefix = args[1];\n\n    if (!PATTERN_TAG_HANDLE.test(handle)) {\n      throwError(state, 'ill-formed tag handle (first argument) of the TAG directive');\n    }\n\n    if (_hasOwnProperty.call(state.tagMap, handle)) {\n      throwError(state, 'there is a previously declared suffix for \"' + handle + '\" tag handle');\n    }\n\n    if (!PATTERN_TAG_URI.test(prefix)) {\n      throwError(state, 'ill-formed tag prefix (second argument) of the TAG directive');\n    }\n\n    state.tagMap[handle] = prefix;\n  }\n};\n\n\nfunction captureSegment(state, start, end, checkJson) {\n  var _position, _length, _character, _result;\n\n  if (start < end) {\n    _result = state.input.slice(start, end);\n\n    if (checkJson) {\n      for (_position = 0, _length = _result.length; _position < _length; _position += 1) {\n        _character = _result.charCodeAt(_position);\n        if (!(_character === 0x09 ||\n              (0x20 <= _character && _character <= 0x10FFFF))) {\n          throwError(state, 'expected valid JSON character');\n        }\n      }\n    } else if (PATTERN_NON_PRINTABLE.test(_result)) {\n      throwError(state, 'the stream contains non-printable characters');\n    }\n\n    state.result += _result;\n  }\n}\n\nfunction mergeMappings(state, destination, source, overridableKeys) {\n  var sourceKeys, key, index, quantity;\n\n  if (!common.isObject(source)) {\n    throwError(state, 'cannot merge mappings; the provided source object is unacceptable');\n  }\n\n  sourceKeys = Object.keys(source);\n\n  for (index = 0, quantity = sourceKeys.length; index < quantity; index += 1) {\n    key = sourceKeys[index];\n\n    if (!_hasOwnProperty.call(destination, key)) {\n      destination[key] = source[key];\n      overridableKeys[key] = true;\n    }\n  }\n}\n\nfunction storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, startLine, startPos) {\n  var index, quantity;\n\n  // The output is a plain object here, so keys can only be strings.\n  // We need to convert keyNode to a string, but doing so can hang the process\n  // (deeply nested arrays that explode exponentially using aliases).\n  if (Array.isArray(keyNode)) {\n    keyNode = Array.prototype.slice.call(keyNode);\n\n    for (index = 0, quantity = keyNode.length; index < quantity; index += 1) {\n      if (Array.isArray(keyNode[index])) {\n        throwError(state, 'nested arrays are not supported inside keys');\n      }\n\n      if (typeof keyNode === 'object' && _class(keyNode[index]) === '[object Object]') {\n        keyNode[index] = '[object Object]';\n      }\n    }\n  }\n\n  // Avoid code execution in load() via toString property\n  // (still use its own toString for arrays, timestamps,\n  // and whatever user schema extensions happen to have @@toStringTag)\n  if (typeof keyNode === 'object' && _class(keyNode) === '[object Object]') {\n    keyNode = '[object Object]';\n  }\n\n\n  keyNode = String(keyNode);\n\n  if (_result === null) {\n    _result = {};\n  }\n\n  if (keyTag === 'tag:yaml.org,2002:merge') {\n    if (Array.isArray(valueNode)) {\n      for (index = 0, quantity = valueNode.length; index < quantity; index += 1) {\n        mergeMappings(state, _result, valueNode[index], overridableKeys);\n      }\n    } else {\n      mergeMappings(state, _result, valueNode, overridableKeys);\n    }\n  } else {\n    if (!state.json &&\n        !_hasOwnProperty.call(overridableKeys, keyNode) &&\n        _hasOwnProperty.call(_result, keyNode)) {\n      state.line = startLine || state.line;\n      state.position = startPos || state.position;\n      throwError(state, 'duplicated mapping key');\n    }\n    _result[keyNode] = valueNode;\n    delete overridableKeys[keyNode];\n  }\n\n  return _result;\n}\n\nfunction readLineBreak(state) {\n  var ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x0A/* LF */) {\n    state.position++;\n  } else if (ch === 0x0D/* CR */) {\n    state.position++;\n    if (state.input.charCodeAt(state.position) === 0x0A/* LF */) {\n      state.position++;\n    }\n  } else {\n    throwError(state, 'a line break is expected');\n  }\n\n  state.line += 1;\n  state.lineStart = state.position;\n}\n\nfunction skipSeparationSpace(state, allowComments, checkIndent) {\n  var lineBreaks = 0,\n      ch = state.input.charCodeAt(state.position);\n\n  while (ch !== 0) {\n    while (is_WHITE_SPACE(ch)) {\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    if (allowComments && ch === 0x23/* # */) {\n      do {\n        ch = state.input.charCodeAt(++state.position);\n      } while (ch !== 0x0A/* LF */ && ch !== 0x0D/* CR */ && ch !== 0);\n    }\n\n    if (is_EOL(ch)) {\n      readLineBreak(state);\n\n      ch = state.input.charCodeAt(state.position);\n      lineBreaks++;\n      state.lineIndent = 0;\n\n      while (ch === 0x20/* Space */) {\n        state.lineIndent++;\n        ch = state.input.charCodeAt(++state.position);\n      }\n    } else {\n      break;\n    }\n  }\n\n  if (checkIndent !== -1 && lineBreaks !== 0 && state.lineIndent < checkIndent) {\n    throwWarning(state, 'deficient indentation');\n  }\n\n  return lineBreaks;\n}\n\nfunction testDocumentSeparator(state) {\n  var _position = state.position,\n      ch;\n\n  ch = state.input.charCodeAt(_position);\n\n  // Condition state.position === state.lineStart is tested\n  // in parent on each call, for efficiency. No needs to test here again.\n  if ((ch === 0x2D/* - */ || ch === 0x2E/* . */) &&\n      ch === state.input.charCodeAt(_position + 1) &&\n      ch === state.input.charCodeAt(_position + 2)) {\n\n    _position += 3;\n\n    ch = state.input.charCodeAt(_position);\n\n    if (ch === 0 || is_WS_OR_EOL(ch)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction writeFoldedLines(state, count) {\n  if (count === 1) {\n    state.result += ' ';\n  } else if (count > 1) {\n    state.result += common.repeat('\\n', count - 1);\n  }\n}\n\n\nfunction readPlainScalar(state, nodeIndent, withinFlowCollection) {\n  var preceding,\n      following,\n      captureStart,\n      captureEnd,\n      hasPendingContent,\n      _line,\n      _lineStart,\n      _lineIndent,\n      _kind = state.kind,\n      _result = state.result,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (is_WS_OR_EOL(ch)      ||\n      is_FLOW_INDICATOR(ch) ||\n      ch === 0x23/* # */    ||\n      ch === 0x26/* & */    ||\n      ch === 0x2A/* * */    ||\n      ch === 0x21/* ! */    ||\n      ch === 0x7C/* | */    ||\n      ch === 0x3E/* > */    ||\n      ch === 0x27/* ' */    ||\n      ch === 0x22/* \" */    ||\n      ch === 0x25/* % */    ||\n      ch === 0x40/* @ */    ||\n      ch === 0x60/* ` */) {\n    return false;\n  }\n\n  if (ch === 0x3F/* ? */ || ch === 0x2D/* - */) {\n    following = state.input.charCodeAt(state.position + 1);\n\n    if (is_WS_OR_EOL(following) ||\n        withinFlowCollection && is_FLOW_INDICATOR(following)) {\n      return false;\n    }\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  captureStart = captureEnd = state.position;\n  hasPendingContent = false;\n\n  while (ch !== 0) {\n    if (ch === 0x3A/* : */) {\n      following = state.input.charCodeAt(state.position + 1);\n\n      if (is_WS_OR_EOL(following) ||\n          withinFlowCollection && is_FLOW_INDICATOR(following)) {\n        break;\n      }\n\n    } else if (ch === 0x23/* # */) {\n      preceding = state.input.charCodeAt(state.position - 1);\n\n      if (is_WS_OR_EOL(preceding)) {\n        break;\n      }\n\n    } else if ((state.position === state.lineStart && testDocumentSeparator(state)) ||\n               withinFlowCollection && is_FLOW_INDICATOR(ch)) {\n      break;\n\n    } else if (is_EOL(ch)) {\n      _line = state.line;\n      _lineStart = state.lineStart;\n      _lineIndent = state.lineIndent;\n      skipSeparationSpace(state, false, -1);\n\n      if (state.lineIndent >= nodeIndent) {\n        hasPendingContent = true;\n        ch = state.input.charCodeAt(state.position);\n        continue;\n      } else {\n        state.position = captureEnd;\n        state.line = _line;\n        state.lineStart = _lineStart;\n        state.lineIndent = _lineIndent;\n        break;\n      }\n    }\n\n    if (hasPendingContent) {\n      captureSegment(state, captureStart, captureEnd, false);\n      writeFoldedLines(state, state.line - _line);\n      captureStart = captureEnd = state.position;\n      hasPendingContent = false;\n    }\n\n    if (!is_WHITE_SPACE(ch)) {\n      captureEnd = state.position + 1;\n    }\n\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  captureSegment(state, captureStart, captureEnd, false);\n\n  if (state.result) {\n    return true;\n  }\n\n  state.kind = _kind;\n  state.result = _result;\n  return false;\n}\n\nfunction readSingleQuotedScalar(state, nodeIndent) {\n  var ch,\n      captureStart, captureEnd;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x27/* ' */) {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  state.position++;\n  captureStart = captureEnd = state.position;\n\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    if (ch === 0x27/* ' */) {\n      captureSegment(state, captureStart, state.position, true);\n      ch = state.input.charCodeAt(++state.position);\n\n      if (ch === 0x27/* ' */) {\n        captureStart = state.position;\n        state.position++;\n        captureEnd = state.position;\n      } else {\n        return true;\n      }\n\n    } else if (is_EOL(ch)) {\n      captureSegment(state, captureStart, captureEnd, true);\n      writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));\n      captureStart = captureEnd = state.position;\n\n    } else if (state.position === state.lineStart && testDocumentSeparator(state)) {\n      throwError(state, 'unexpected end of the document within a single quoted scalar');\n\n    } else {\n      state.position++;\n      captureEnd = state.position;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a single quoted scalar');\n}\n\nfunction readDoubleQuotedScalar(state, nodeIndent) {\n  var captureStart,\n      captureEnd,\n      hexLength,\n      hexResult,\n      tmp,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x22/* \" */) {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  state.position++;\n  captureStart = captureEnd = state.position;\n\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    if (ch === 0x22/* \" */) {\n      captureSegment(state, captureStart, state.position, true);\n      state.position++;\n      return true;\n\n    } else if (ch === 0x5C/* \\ */) {\n      captureSegment(state, captureStart, state.position, true);\n      ch = state.input.charCodeAt(++state.position);\n\n      if (is_EOL(ch)) {\n        skipSeparationSpace(state, false, nodeIndent);\n\n        // TODO: rework to inline fn with no type cast?\n      } else if (ch < 256 && simpleEscapeCheck[ch]) {\n        state.result += simpleEscapeMap[ch];\n        state.position++;\n\n      } else if ((tmp = escapedHexLen(ch)) > 0) {\n        hexLength = tmp;\n        hexResult = 0;\n\n        for (; hexLength > 0; hexLength--) {\n          ch = state.input.charCodeAt(++state.position);\n\n          if ((tmp = fromHexCode(ch)) >= 0) {\n            hexResult = (hexResult << 4) + tmp;\n\n          } else {\n            throwError(state, 'expected hexadecimal character');\n          }\n        }\n\n        state.result += charFromCodepoint(hexResult);\n\n        state.position++;\n\n      } else {\n        throwError(state, 'unknown escape sequence');\n      }\n\n      captureStart = captureEnd = state.position;\n\n    } else if (is_EOL(ch)) {\n      captureSegment(state, captureStart, captureEnd, true);\n      writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));\n      captureStart = captureEnd = state.position;\n\n    } else if (state.position === state.lineStart && testDocumentSeparator(state)) {\n      throwError(state, 'unexpected end of the document within a double quoted scalar');\n\n    } else {\n      state.position++;\n      captureEnd = state.position;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a double quoted scalar');\n}\n\nfunction readFlowCollection(state, nodeIndent) {\n  var readNext = true,\n      _line,\n      _tag     = state.tag,\n      _result,\n      _anchor  = state.anchor,\n      following,\n      terminator,\n      isPair,\n      isExplicitPair,\n      isMapping,\n      overridableKeys = {},\n      keyNode,\n      keyTag,\n      valueNode,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x5B/* [ */) {\n    terminator = 0x5D;/* ] */\n    isMapping = false;\n    _result = [];\n  } else if (ch === 0x7B/* { */) {\n    terminator = 0x7D;/* } */\n    isMapping = true;\n    _result = {};\n  } else {\n    return false;\n  }\n\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n\n  while (ch !== 0) {\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (ch === terminator) {\n      state.position++;\n      state.tag = _tag;\n      state.anchor = _anchor;\n      state.kind = isMapping ? 'mapping' : 'sequence';\n      state.result = _result;\n      return true;\n    } else if (!readNext) {\n      throwError(state, 'missed comma between flow collection entries');\n    }\n\n    keyTag = keyNode = valueNode = null;\n    isPair = isExplicitPair = false;\n\n    if (ch === 0x3F/* ? */) {\n      following = state.input.charCodeAt(state.position + 1);\n\n      if (is_WS_OR_EOL(following)) {\n        isPair = isExplicitPair = true;\n        state.position++;\n        skipSeparationSpace(state, true, nodeIndent);\n      }\n    }\n\n    _line = state.line;\n    composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);\n    keyTag = state.tag;\n    keyNode = state.result;\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if ((isExplicitPair || state.line === _line) && ch === 0x3A/* : */) {\n      isPair = true;\n      ch = state.input.charCodeAt(++state.position);\n      skipSeparationSpace(state, true, nodeIndent);\n      composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);\n      valueNode = state.result;\n    }\n\n    if (isMapping) {\n      storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode);\n    } else if (isPair) {\n      _result.push(storeMappingPair(state, null, overridableKeys, keyTag, keyNode, valueNode));\n    } else {\n      _result.push(keyNode);\n    }\n\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (ch === 0x2C/* , */) {\n      readNext = true;\n      ch = state.input.charCodeAt(++state.position);\n    } else {\n      readNext = false;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a flow collection');\n}\n\nfunction readBlockScalar(state, nodeIndent) {\n  var captureStart,\n      folding,\n      chomping       = CHOMPING_CLIP,\n      didReadContent = false,\n      detectedIndent = false,\n      textIndent     = nodeIndent,\n      emptyLines     = 0,\n      atMoreIndented = false,\n      tmp,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x7C/* | */) {\n    folding = false;\n  } else if (ch === 0x3E/* > */) {\n    folding = true;\n  } else {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n\n  while (ch !== 0) {\n    ch = state.input.charCodeAt(++state.position);\n\n    if (ch === 0x2B/* + */ || ch === 0x2D/* - */) {\n      if (CHOMPING_CLIP === chomping) {\n        chomping = (ch === 0x2B/* + */) ? CHOMPING_KEEP : CHOMPING_STRIP;\n      } else {\n        throwError(state, 'repeat of a chomping mode identifier');\n      }\n\n    } else if ((tmp = fromDecimalCode(ch)) >= 0) {\n      if (tmp === 0) {\n        throwError(state, 'bad explicit indentation width of a block scalar; it cannot be less than one');\n      } else if (!detectedIndent) {\n        textIndent = nodeIndent + tmp - 1;\n        detectedIndent = true;\n      } else {\n        throwError(state, 'repeat of an indentation width identifier');\n      }\n\n    } else {\n      break;\n    }\n  }\n\n  if (is_WHITE_SPACE(ch)) {\n    do { ch = state.input.charCodeAt(++state.position); }\n    while (is_WHITE_SPACE(ch));\n\n    if (ch === 0x23/* # */) {\n      do { ch = state.input.charCodeAt(++state.position); }\n      while (!is_EOL(ch) && (ch !== 0));\n    }\n  }\n\n  while (ch !== 0) {\n    readLineBreak(state);\n    state.lineIndent = 0;\n\n    ch = state.input.charCodeAt(state.position);\n\n    while ((!detectedIndent || state.lineIndent < textIndent) &&\n           (ch === 0x20/* Space */)) {\n      state.lineIndent++;\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    if (!detectedIndent && state.lineIndent > textIndent) {\n      textIndent = state.lineIndent;\n    }\n\n    if (is_EOL(ch)) {\n      emptyLines++;\n      continue;\n    }\n\n    // End of the scalar.\n    if (state.lineIndent < textIndent) {\n\n      // Perform the chomping.\n      if (chomping === CHOMPING_KEEP) {\n        state.result += common.repeat('\\n', didReadContent ? 1 + emptyLines : emptyLines);\n      } else if (chomping === CHOMPING_CLIP) {\n        if (didReadContent) { // i.e. only if the scalar is not empty.\n          state.result += '\\n';\n        }\n      }\n\n      // Break this `while` cycle and go to the funciton's epilogue.\n      break;\n    }\n\n    // Folded style: use fancy rules to handle line breaks.\n    if (folding) {\n\n      // Lines starting with white space characters (more-indented lines) are not folded.\n      if (is_WHITE_SPACE(ch)) {\n        atMoreIndented = true;\n        // except for the first content line (cf. Example 8.1)\n        state.result += common.repeat('\\n', didReadContent ? 1 + emptyLines : emptyLines);\n\n      // End of more-indented block.\n      } else if (atMoreIndented) {\n        atMoreIndented = false;\n        state.result += common.repeat('\\n', emptyLines + 1);\n\n      // Just one line break - perceive as the same line.\n      } else if (emptyLines === 0) {\n        if (didReadContent) { // i.e. only if we have already read some scalar content.\n          state.result += ' ';\n        }\n\n      // Several line breaks - perceive as different lines.\n      } else {\n        state.result += common.repeat('\\n', emptyLines);\n      }\n\n    // Literal style: just add exact number of line breaks between content lines.\n    } else {\n      // Keep all line breaks except the header line break.\n      state.result += common.repeat('\\n', didReadContent ? 1 + emptyLines : emptyLines);\n    }\n\n    didReadContent = true;\n    detectedIndent = true;\n    emptyLines = 0;\n    captureStart = state.position;\n\n    while (!is_EOL(ch) && (ch !== 0)) {\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    captureSegment(state, captureStart, state.position, false);\n  }\n\n  return true;\n}\n\nfunction readBlockSequence(state, nodeIndent) {\n  var _line,\n      _tag      = state.tag,\n      _anchor   = state.anchor,\n      _result   = [],\n      following,\n      detected  = false,\n      ch;\n\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(state.position);\n\n  while (ch !== 0) {\n\n    if (ch !== 0x2D/* - */) {\n      break;\n    }\n\n    following = state.input.charCodeAt(state.position + 1);\n\n    if (!is_WS_OR_EOL(following)) {\n      break;\n    }\n\n    detected = true;\n    state.position++;\n\n    if (skipSeparationSpace(state, true, -1)) {\n      if (state.lineIndent <= nodeIndent) {\n        _result.push(null);\n        ch = state.input.charCodeAt(state.position);\n        continue;\n      }\n    }\n\n    _line = state.line;\n    composeNode(state, nodeIndent, CONTEXT_BLOCK_IN, false, true);\n    _result.push(state.result);\n    skipSeparationSpace(state, true, -1);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if ((state.line === _line || state.lineIndent > nodeIndent) && (ch !== 0)) {\n      throwError(state, 'bad indentation of a sequence entry');\n    } else if (state.lineIndent < nodeIndent) {\n      break;\n    }\n  }\n\n  if (detected) {\n    state.tag = _tag;\n    state.anchor = _anchor;\n    state.kind = 'sequence';\n    state.result = _result;\n    return true;\n  }\n  return false;\n}\n\nfunction readBlockMapping(state, nodeIndent, flowIndent) {\n  var following,\n      allowCompact,\n      _line,\n      _pos,\n      _tag          = state.tag,\n      _anchor       = state.anchor,\n      _result       = {},\n      overridableKeys = {},\n      keyTag        = null,\n      keyNode       = null,\n      valueNode     = null,\n      atExplicitKey = false,\n      detected      = false,\n      ch;\n\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(state.position);\n\n  while (ch !== 0) {\n    following = state.input.charCodeAt(state.position + 1);\n    _line = state.line; // Save the current line.\n    _pos = state.position;\n\n    //\n    // Explicit notation case. There are two separate blocks:\n    // first for the key (denoted by \"?\") and second for the value (denoted by \":\")\n    //\n    if ((ch === 0x3F/* ? */ || ch === 0x3A/* : */) && is_WS_OR_EOL(following)) {\n\n      if (ch === 0x3F/* ? */) {\n        if (atExplicitKey) {\n          storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null);\n          keyTag = keyNode = valueNode = null;\n        }\n\n        detected = true;\n        atExplicitKey = true;\n        allowCompact = true;\n\n      } else if (atExplicitKey) {\n        // i.e. 0x3A/* : */ === character after the explicit key.\n        atExplicitKey = false;\n        allowCompact = true;\n\n      } else {\n        throwError(state, 'incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line');\n      }\n\n      state.position += 1;\n      ch = following;\n\n    //\n    // Implicit notation case. Flow-style node as the key first, then \":\", and the value.\n    //\n    } else if (composeNode(state, flowIndent, CONTEXT_FLOW_OUT, false, true)) {\n\n      if (state.line === _line) {\n        ch = state.input.charCodeAt(state.position);\n\n        while (is_WHITE_SPACE(ch)) {\n          ch = state.input.charCodeAt(++state.position);\n        }\n\n        if (ch === 0x3A/* : */) {\n          ch = state.input.charCodeAt(++state.position);\n\n          if (!is_WS_OR_EOL(ch)) {\n            throwError(state, 'a whitespace character is expected after the key-value separator within a block mapping');\n          }\n\n          if (atExplicitKey) {\n            storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null);\n            keyTag = keyNode = valueNode = null;\n          }\n\n          detected = true;\n          atExplicitKey = false;\n          allowCompact = false;\n          keyTag = state.tag;\n          keyNode = state.result;\n\n        } else if (detected) {\n          throwError(state, 'can not read an implicit mapping pair; a colon is missed');\n\n        } else {\n          state.tag = _tag;\n          state.anchor = _anchor;\n          return true; // Keep the result of `composeNode`.\n        }\n\n      } else if (detected) {\n        throwError(state, 'can not read a block mapping entry; a multiline key may not be an implicit key');\n\n      } else {\n        state.tag = _tag;\n        state.anchor = _anchor;\n        return true; // Keep the result of `composeNode`.\n      }\n\n    } else {\n      break; // Reading is done. Go to the epilogue.\n    }\n\n    //\n    // Common reading code for both explicit and implicit notations.\n    //\n    if (state.line === _line || state.lineIndent > nodeIndent) {\n      if (composeNode(state, nodeIndent, CONTEXT_BLOCK_OUT, true, allowCompact)) {\n        if (atExplicitKey) {\n          keyNode = state.result;\n        } else {\n          valueNode = state.result;\n        }\n      }\n\n      if (!atExplicitKey) {\n        storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, _line, _pos);\n        keyTag = keyNode = valueNode = null;\n      }\n\n      skipSeparationSpace(state, true, -1);\n      ch = state.input.charCodeAt(state.position);\n    }\n\n    if (state.lineIndent > nodeIndent && (ch !== 0)) {\n      throwError(state, 'bad indentation of a mapping entry');\n    } else if (state.lineIndent < nodeIndent) {\n      break;\n    }\n  }\n\n  //\n  // Epilogue.\n  //\n\n  // Special case: last mapping's node contains only the key in explicit notation.\n  if (atExplicitKey) {\n    storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null);\n  }\n\n  // Expose the resulting mapping.\n  if (detected) {\n    state.tag = _tag;\n    state.anchor = _anchor;\n    state.kind = 'mapping';\n    state.result = _result;\n  }\n\n  return detected;\n}\n\nfunction readTagProperty(state) {\n  var _position,\n      isVerbatim = false,\n      isNamed    = false,\n      tagHandle,\n      tagName,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x21/* ! */) return false;\n\n  if (state.tag !== null) {\n    throwError(state, 'duplication of a tag property');\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n\n  if (ch === 0x3C/* < */) {\n    isVerbatim = true;\n    ch = state.input.charCodeAt(++state.position);\n\n  } else if (ch === 0x21/* ! */) {\n    isNamed = true;\n    tagHandle = '!!';\n    ch = state.input.charCodeAt(++state.position);\n\n  } else {\n    tagHandle = '!';\n  }\n\n  _position = state.position;\n\n  if (isVerbatim) {\n    do { ch = state.input.charCodeAt(++state.position); }\n    while (ch !== 0 && ch !== 0x3E/* > */);\n\n    if (state.position < state.length) {\n      tagName = state.input.slice(_position, state.position);\n      ch = state.input.charCodeAt(++state.position);\n    } else {\n      throwError(state, 'unexpected end of the stream within a verbatim tag');\n    }\n  } else {\n    while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n\n      if (ch === 0x21/* ! */) {\n        if (!isNamed) {\n          tagHandle = state.input.slice(_position - 1, state.position + 1);\n\n          if (!PATTERN_TAG_HANDLE.test(tagHandle)) {\n            throwError(state, 'named tag handle cannot contain such characters');\n          }\n\n          isNamed = true;\n          _position = state.position + 1;\n        } else {\n          throwError(state, 'tag suffix cannot contain exclamation marks');\n        }\n      }\n\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    tagName = state.input.slice(_position, state.position);\n\n    if (PATTERN_FLOW_INDICATORS.test(tagName)) {\n      throwError(state, 'tag suffix cannot contain flow indicator characters');\n    }\n  }\n\n  if (tagName && !PATTERN_TAG_URI.test(tagName)) {\n    throwError(state, 'tag name cannot contain such characters: ' + tagName);\n  }\n\n  if (isVerbatim) {\n    state.tag = tagName;\n\n  } else if (_hasOwnProperty.call(state.tagMap, tagHandle)) {\n    state.tag = state.tagMap[tagHandle] + tagName;\n\n  } else if (tagHandle === '!') {\n    state.tag = '!' + tagName;\n\n  } else if (tagHandle === '!!') {\n    state.tag = 'tag:yaml.org,2002:' + tagName;\n\n  } else {\n    throwError(state, 'undeclared tag handle \"' + tagHandle + '\"');\n  }\n\n  return true;\n}\n\nfunction readAnchorProperty(state) {\n  var _position,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x26/* & */) return false;\n\n  if (state.anchor !== null) {\n    throwError(state, 'duplication of an anchor property');\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n  _position = state.position;\n\n  while (ch !== 0 && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  if (state.position === _position) {\n    throwError(state, 'name of an anchor node must contain at least one character');\n  }\n\n  state.anchor = state.input.slice(_position, state.position);\n  return true;\n}\n\nfunction readAlias(state) {\n  var _position, alias,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x2A/* * */) return false;\n\n  ch = state.input.charCodeAt(++state.position);\n  _position = state.position;\n\n  while (ch !== 0 && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  if (state.position === _position) {\n    throwError(state, 'name of an alias node must contain at least one character');\n  }\n\n  alias = state.input.slice(_position, state.position);\n\n  if (!state.anchorMap.hasOwnProperty(alias)) {\n    throwError(state, 'unidentified alias \"' + alias + '\"');\n  }\n\n  state.result = state.anchorMap[alias];\n  skipSeparationSpace(state, true, -1);\n  return true;\n}\n\nfunction composeNode(state, parentIndent, nodeContext, allowToSeek, allowCompact) {\n  var allowBlockStyles,\n      allowBlockScalars,\n      allowBlockCollections,\n      indentStatus = 1, // 1: this>parent, 0: this=parent, -1: this<parent\n      atNewLine  = false,\n      hasContent = false,\n      typeIndex,\n      typeQuantity,\n      type,\n      flowIndent,\n      blockIndent;\n\n  if (state.listener !== null) {\n    state.listener('open', state);\n  }\n\n  state.tag    = null;\n  state.anchor = null;\n  state.kind   = null;\n  state.result = null;\n\n  allowBlockStyles = allowBlockScalars = allowBlockCollections =\n    CONTEXT_BLOCK_OUT === nodeContext ||\n    CONTEXT_BLOCK_IN  === nodeContext;\n\n  if (allowToSeek) {\n    if (skipSeparationSpace(state, true, -1)) {\n      atNewLine = true;\n\n      if (state.lineIndent > parentIndent) {\n        indentStatus = 1;\n      } else if (state.lineIndent === parentIndent) {\n        indentStatus = 0;\n      } else if (state.lineIndent < parentIndent) {\n        indentStatus = -1;\n      }\n    }\n  }\n\n  if (indentStatus === 1) {\n    while (readTagProperty(state) || readAnchorProperty(state)) {\n      if (skipSeparationSpace(state, true, -1)) {\n        atNewLine = true;\n        allowBlockCollections = allowBlockStyles;\n\n        if (state.lineIndent > parentIndent) {\n          indentStatus = 1;\n        } else if (state.lineIndent === parentIndent) {\n          indentStatus = 0;\n        } else if (state.lineIndent < parentIndent) {\n          indentStatus = -1;\n        }\n      } else {\n        allowBlockCollections = false;\n      }\n    }\n  }\n\n  if (allowBlockCollections) {\n    allowBlockCollections = atNewLine || allowCompact;\n  }\n\n  if (indentStatus === 1 || CONTEXT_BLOCK_OUT === nodeContext) {\n    if (CONTEXT_FLOW_IN === nodeContext || CONTEXT_FLOW_OUT === nodeContext) {\n      flowIndent = parentIndent;\n    } else {\n      flowIndent = parentIndent + 1;\n    }\n\n    blockIndent = state.position - state.lineStart;\n\n    if (indentStatus === 1) {\n      if (allowBlockCollections &&\n          (readBlockSequence(state, blockIndent) ||\n           readBlockMapping(state, blockIndent, flowIndent)) ||\n          readFlowCollection(state, flowIndent)) {\n        hasContent = true;\n      } else {\n        if ((allowBlockScalars && readBlockScalar(state, flowIndent)) ||\n            readSingleQuotedScalar(state, flowIndent) ||\n            readDoubleQuotedScalar(state, flowIndent)) {\n          hasContent = true;\n\n        } else if (readAlias(state)) {\n          hasContent = true;\n\n          if (state.tag !== null || state.anchor !== null) {\n            throwError(state, 'alias node should not have any properties');\n          }\n\n        } else if (readPlainScalar(state, flowIndent, CONTEXT_FLOW_IN === nodeContext)) {\n          hasContent = true;\n\n          if (state.tag === null) {\n            state.tag = '?';\n          }\n        }\n\n        if (state.anchor !== null) {\n          state.anchorMap[state.anchor] = state.result;\n        }\n      }\n    } else if (indentStatus === 0) {\n      // Special case: block sequences are allowed to have same indentation level as the parent.\n      // http://www.yaml.org/spec/1.2/spec.html#id2799784\n      hasContent = allowBlockCollections && readBlockSequence(state, blockIndent);\n    }\n  }\n\n  if (state.tag !== null && state.tag !== '!') {\n    if (state.tag === '?') {\n      for (typeIndex = 0, typeQuantity = state.implicitTypes.length; typeIndex < typeQuantity; typeIndex += 1) {\n        type = state.implicitTypes[typeIndex];\n\n        // Implicit resolving is not allowed for non-scalar types, and '?'\n        // non-specific tag is only assigned to plain scalars. So, it isn't\n        // needed to check for 'kind' conformity.\n\n        if (type.resolve(state.result)) { // `state.result` updated in resolver if matched\n          state.result = type.construct(state.result);\n          state.tag = type.tag;\n          if (state.anchor !== null) {\n            state.anchorMap[state.anchor] = state.result;\n          }\n          break;\n        }\n      }\n    } else if (_hasOwnProperty.call(state.typeMap[state.kind || 'fallback'], state.tag)) {\n      type = state.typeMap[state.kind || 'fallback'][state.tag];\n\n      if (state.result !== null && type.kind !== state.kind) {\n        throwError(state, 'unacceptable node kind for !<' + state.tag + '> tag; it should be \"' + type.kind + '\", not \"' + state.kind + '\"');\n      }\n\n      if (!type.resolve(state.result)) { // `state.result` updated in resolver if matched\n        throwError(state, 'cannot resolve a node with !<' + state.tag + '> explicit tag');\n      } else {\n        state.result = type.construct(state.result);\n        if (state.anchor !== null) {\n          state.anchorMap[state.anchor] = state.result;\n        }\n      }\n    } else {\n      throwError(state, 'unknown tag !<' + state.tag + '>');\n    }\n  }\n\n  if (state.listener !== null) {\n    state.listener('close', state);\n  }\n  return state.tag !== null ||  state.anchor !== null || hasContent;\n}\n\nfunction readDocument(state) {\n  var documentStart = state.position,\n      _position,\n      directiveName,\n      directiveArgs,\n      hasDirectives = false,\n      ch;\n\n  state.version = null;\n  state.checkLineBreaks = state.legacy;\n  state.tagMap = {};\n  state.anchorMap = {};\n\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    skipSeparationSpace(state, true, -1);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (state.lineIndent > 0 || ch !== 0x25/* % */) {\n      break;\n    }\n\n    hasDirectives = true;\n    ch = state.input.charCodeAt(++state.position);\n    _position = state.position;\n\n    while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    directiveName = state.input.slice(_position, state.position);\n    directiveArgs = [];\n\n    if (directiveName.length < 1) {\n      throwError(state, 'directive name must not be less than one character in length');\n    }\n\n    while (ch !== 0) {\n      while (is_WHITE_SPACE(ch)) {\n        ch = state.input.charCodeAt(++state.position);\n      }\n\n      if (ch === 0x23/* # */) {\n        do { ch = state.input.charCodeAt(++state.position); }\n        while (ch !== 0 && !is_EOL(ch));\n        break;\n      }\n\n      if (is_EOL(ch)) break;\n\n      _position = state.position;\n\n      while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n        ch = state.input.charCodeAt(++state.position);\n      }\n\n      directiveArgs.push(state.input.slice(_position, state.position));\n    }\n\n    if (ch !== 0) readLineBreak(state);\n\n    if (_hasOwnProperty.call(directiveHandlers, directiveName)) {\n      directiveHandlers[directiveName](state, directiveName, directiveArgs);\n    } else {\n      throwWarning(state, 'unknown document directive \"' + directiveName + '\"');\n    }\n  }\n\n  skipSeparationSpace(state, true, -1);\n\n  if (state.lineIndent === 0 &&\n      state.input.charCodeAt(state.position)     === 0x2D/* - */ &&\n      state.input.charCodeAt(state.position + 1) === 0x2D/* - */ &&\n      state.input.charCodeAt(state.position + 2) === 0x2D/* - */) {\n    state.position += 3;\n    skipSeparationSpace(state, true, -1);\n\n  } else if (hasDirectives) {\n    throwError(state, 'directives end mark is expected');\n  }\n\n  composeNode(state, state.lineIndent - 1, CONTEXT_BLOCK_OUT, false, true);\n  skipSeparationSpace(state, true, -1);\n\n  if (state.checkLineBreaks &&\n      PATTERN_NON_ASCII_LINE_BREAKS.test(state.input.slice(documentStart, state.position))) {\n    throwWarning(state, 'non-ASCII line breaks are interpreted as content');\n  }\n\n  state.documents.push(state.result);\n\n  if (state.position === state.lineStart && testDocumentSeparator(state)) {\n\n    if (state.input.charCodeAt(state.position) === 0x2E/* . */) {\n      state.position += 3;\n      skipSeparationSpace(state, true, -1);\n    }\n    return;\n  }\n\n  if (state.position < (state.length - 1)) {\n    throwError(state, 'end of the stream or a document separator is expected');\n  } else {\n    return;\n  }\n}\n\n\nfunction loadDocuments(input, options) {\n  input = String(input);\n  options = options || {};\n\n  if (input.length !== 0) {\n\n    // Add tailing `\\n` if not exists\n    if (input.charCodeAt(input.length - 1) !== 0x0A/* LF */ &&\n        input.charCodeAt(input.length - 1) !== 0x0D/* CR */) {\n      input += '\\n';\n    }\n\n    // Strip BOM\n    if (input.charCodeAt(0) === 0xFEFF) {\n      input = input.slice(1);\n    }\n  }\n\n  var state = new State(input, options);\n\n  // Use 0 as string terminator. That significantly simplifies bounds check.\n  state.input += '\\0';\n\n  while (state.input.charCodeAt(state.position) === 0x20/* Space */) {\n    state.lineIndent += 1;\n    state.position += 1;\n  }\n\n  while (state.position < (state.length - 1)) {\n    readDocument(state);\n  }\n\n  return state.documents;\n}\n\n\nfunction loadAll(input, iterator, options) {\n  var documents = loadDocuments(input, options), index, length;\n\n  if (typeof iterator !== 'function') {\n    return documents;\n  }\n\n  for (index = 0, length = documents.length; index < length; index += 1) {\n    iterator(documents[index]);\n  }\n}\n\n\nfunction load(input, options) {\n  var documents = loadDocuments(input, options);\n\n  if (documents.length === 0) {\n    /*eslint-disable no-undefined*/\n    return undefined;\n  } else if (documents.length === 1) {\n    return documents[0];\n  }\n  throw new YAMLException('expected a single document in the stream, but found more');\n}\n\n\nfunction safeLoadAll(input, output, options) {\n  if (typeof output === 'function') {\n    loadAll(input, output, common.extend({ schema: DEFAULT_SAFE_SCHEMA }, options));\n  } else {\n    return loadAll(input, common.extend({ schema: DEFAULT_SAFE_SCHEMA }, options));\n  }\n}\n\n\nfunction safeLoad(input, options) {\n  return load(input, common.extend({ schema: DEFAULT_SAFE_SCHEMA }, options));\n}\n\n\nmodule.exports.loadAll     = loadAll;\nmodule.exports.load        = load;\nmodule.exports.safeLoadAll = safeLoadAll;\nmodule.exports.safeLoad    = safeLoad;\n","'use strict';\n\n\nvar common = require('./common');\n\n\nfunction Mark(name, buffer, position, line, column) {\n  this.name     = name;\n  this.buffer   = buffer;\n  this.position = position;\n  this.line     = line;\n  this.column   = column;\n}\n\n\nMark.prototype.getSnippet = function getSnippet(indent, maxLength) {\n  var head, start, tail, end, snippet;\n\n  if (!this.buffer) return null;\n\n  indent = indent || 4;\n  maxLength = maxLength || 75;\n\n  head = '';\n  start = this.position;\n\n  while (start > 0 && '\\x00\\r\\n\\x85\\u2028\\u2029'.indexOf(this.buffer.charAt(start - 1)) === -1) {\n    start -= 1;\n    if (this.position - start > (maxLength / 2 - 1)) {\n      head = ' ... ';\n      start += 5;\n      break;\n    }\n  }\n\n  tail = '';\n  end = this.position;\n\n  while (end < this.buffer.length && '\\x00\\r\\n\\x85\\u2028\\u2029'.indexOf(this.buffer.charAt(end)) === -1) {\n    end += 1;\n    if (end - this.position > (maxLength / 2 - 1)) {\n      tail = ' ... ';\n      end -= 5;\n      break;\n    }\n  }\n\n  snippet = this.buffer.slice(start, end);\n\n  return common.repeat(' ', indent) + head + snippet + tail + '\\n' +\n         common.repeat(' ', indent + this.position - start + head.length) + '^';\n};\n\n\nMark.prototype.toString = function toString(compact) {\n  var snippet, where = '';\n\n  if (this.name) {\n    where += 'in \"' + this.name + '\" ';\n  }\n\n  where += 'at line ' + (this.line + 1) + ', column ' + (this.column + 1);\n\n  if (!compact) {\n    snippet = this.getSnippet();\n\n    if (snippet) {\n      where += ':\\n' + snippet;\n    }\n  }\n\n  return where;\n};\n\n\nmodule.exports = Mark;\n","'use strict';\n\n/*eslint-disable max-len*/\n\nvar common        = require('./common');\nvar YAMLException = require('./exception');\nvar Type          = require('./type');\n\n\nfunction compileList(schema, name, result) {\n  var exclude = [];\n\n  schema.include.forEach(function (includedSchema) {\n    result = compileList(includedSchema, name, result);\n  });\n\n  schema[name].forEach(function (currentType) {\n    result.forEach(function (previousType, previousIndex) {\n      if (previousType.tag === currentType.tag && previousType.kind === currentType.kind) {\n        exclude.push(previousIndex);\n      }\n    });\n\n    result.push(currentType);\n  });\n\n  return result.filter(function (type, index) {\n    return exclude.indexOf(index) === -1;\n  });\n}\n\n\nfunction compileMap(/* lists... */) {\n  var result = {\n        scalar: {},\n        sequence: {},\n        mapping: {},\n        fallback: {}\n      }, index, length;\n\n  function collectType(type) {\n    result[type.kind][type.tag] = result['fallback'][type.tag] = type;\n  }\n\n  for (index = 0, length = arguments.length; index < length; index += 1) {\n    arguments[index].forEach(collectType);\n  }\n  return result;\n}\n\n\nfunction Schema(definition) {\n  this.include  = definition.include  || [];\n  this.implicit = definition.implicit || [];\n  this.explicit = definition.explicit || [];\n\n  this.implicit.forEach(function (type) {\n    if (type.loadKind && type.loadKind !== 'scalar') {\n      throw new YAMLException('There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.');\n    }\n  });\n\n  this.compiledImplicit = compileList(this, 'implicit', []);\n  this.compiledExplicit = compileList(this, 'explicit', []);\n  this.compiledTypeMap  = compileMap(this.compiledImplicit, this.compiledExplicit);\n}\n\n\nSchema.DEFAULT = null;\n\n\nSchema.create = function createSchema() {\n  var schemas, types;\n\n  switch (arguments.length) {\n    case 1:\n      schemas = Schema.DEFAULT;\n      types = arguments[0];\n      break;\n\n    case 2:\n      schemas = arguments[0];\n      types = arguments[1];\n      break;\n\n    default:\n      throw new YAMLException('Wrong number of arguments for Schema.create function');\n  }\n\n  schemas = common.toArray(schemas);\n  types = common.toArray(types);\n\n  if (!schemas.every(function (schema) { return schema instanceof Schema; })) {\n    throw new YAMLException('Specified list of super schemas (or a single Schema object) contains a non-Schema object.');\n  }\n\n  if (!types.every(function (type) { return type instanceof Type; })) {\n    throw new YAMLException('Specified list of YAML types (or a single Type object) contains a non-Type object.');\n  }\n\n  return new Schema({\n    include: schemas,\n    explicit: types\n  });\n};\n\n\nmodule.exports = Schema;\n","// Standard YAML's Core schema.\n// http://www.yaml.org/spec/1.2/spec.html#id2804923\n//\n// NOTE: JS-YAML does not support schema-specific tag resolution restrictions.\n// So, Core schema has no distinctions from JSON schema is JS-YAML.\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = new Schema({\n  include: [\n    require('./json')\n  ]\n});\n","// JS-YAML's default schema for `load` function.\n// It is not described in the YAML specification.\n//\n// This schema is based on JS-YAML's default safe schema and includes\n// JavaScript-specific types: !!js/undefined, !!js/regexp and !!js/function.\n//\n// Also this schema is used as default base schema at `Schema.create` function.\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = Schema.DEFAULT = new Schema({\n  include: [\n    require('./default_safe')\n  ],\n  explicit: [\n    require('../type/js/undefined'),\n    require('../type/js/regexp'),\n    require('../type/js/function')\n  ]\n});\n","// JS-YAML's default schema for `safeLoad` function.\n// It is not described in the YAML specification.\n//\n// This schema is based on standard YAML's Core schema and includes most of\n// extra types described at YAML tag repository. (http://yaml.org/type/)\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = new Schema({\n  include: [\n    require('./core')\n  ],\n  implicit: [\n    require('../type/timestamp'),\n    require('../type/merge')\n  ],\n  explicit: [\n    require('../type/binary'),\n    require('../type/omap'),\n    require('../type/pairs'),\n    require('../type/set')\n  ]\n});\n","// Standard YAML's Failsafe schema.\n// http://www.yaml.org/spec/1.2/spec.html#id2802346\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = new Schema({\n  explicit: [\n    require('../type/str'),\n    require('../type/seq'),\n    require('../type/map')\n  ]\n});\n","// Standard YAML's JSON schema.\n// http://www.yaml.org/spec/1.2/spec.html#id2803231\n//\n// NOTE: JS-YAML does not support schema-specific tag resolution restrictions.\n// So, this schema is not such strict as defined in the YAML specification.\n// It allows numbers in binary notaion, use `Null` and `NULL` as `null`, etc.\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = new Schema({\n  include: [\n    require('./failsafe')\n  ],\n  implicit: [\n    require('../type/null'),\n    require('../type/bool'),\n    require('../type/int'),\n    require('../type/float')\n  ]\n});\n","'use strict';\n\nvar YAMLException = require('./exception');\n\nvar TYPE_CONSTRUCTOR_OPTIONS = [\n  'kind',\n  'resolve',\n  'construct',\n  'instanceOf',\n  'predicate',\n  'represent',\n  'defaultStyle',\n  'styleAliases'\n];\n\nvar YAML_NODE_KINDS = [\n  'scalar',\n  'sequence',\n  'mapping'\n];\n\nfunction compileStyleAliases(map) {\n  var result = {};\n\n  if (map !== null) {\n    Object.keys(map).forEach(function (style) {\n      map[style].forEach(function (alias) {\n        result[String(alias)] = style;\n      });\n    });\n  }\n\n  return result;\n}\n\nfunction Type(tag, options) {\n  options = options || {};\n\n  Object.keys(options).forEach(function (name) {\n    if (TYPE_CONSTRUCTOR_OPTIONS.indexOf(name) === -1) {\n      throw new YAMLException('Unknown option \"' + name + '\" is met in definition of \"' + tag + '\" YAML type.');\n    }\n  });\n\n  // TODO: Add tag format check.\n  this.tag          = tag;\n  this.kind         = options['kind']         || null;\n  this.resolve      = options['resolve']      || function () { return true; };\n  this.construct    = options['construct']    || function (data) { return data; };\n  this.instanceOf   = options['instanceOf']   || null;\n  this.predicate    = options['predicate']    || null;\n  this.represent    = options['represent']    || null;\n  this.defaultStyle = options['defaultStyle'] || null;\n  this.styleAliases = compileStyleAliases(options['styleAliases'] || null);\n\n  if (YAML_NODE_KINDS.indexOf(this.kind) === -1) {\n    throw new YAMLException('Unknown kind \"' + this.kind + '\" is specified for \"' + tag + '\" YAML type.');\n  }\n}\n\nmodule.exports = Type;\n","'use strict';\n\n/*eslint-disable no-bitwise*/\n\nvar NodeBuffer;\n\ntry {\n  // A trick for browserified version, to not include `Buffer` shim\n  var _require = require;\n  NodeBuffer = _require('buffer').Buffer;\n} catch (__) {}\n\nvar Type       = require('../type');\n\n\n// [ 64, 65, 66 ] -> [ padding, CR, LF ]\nvar BASE64_MAP = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\\n\\r';\n\n\nfunction resolveYamlBinary(data) {\n  if (data === null) return false;\n\n  var code, idx, bitlen = 0, max = data.length, map = BASE64_MAP;\n\n  // Convert one by one.\n  for (idx = 0; idx < max; idx++) {\n    code = map.indexOf(data.charAt(idx));\n\n    // Skip CR/LF\n    if (code > 64) continue;\n\n    // Fail on illegal characters\n    if (code < 0) return false;\n\n    bitlen += 6;\n  }\n\n  // If there are any bits left, source was corrupted\n  return (bitlen % 8) === 0;\n}\n\nfunction constructYamlBinary(data) {\n  var idx, tailbits,\n      input = data.replace(/[\\r\\n=]/g, ''), // remove CR/LF & padding to simplify scan\n      max = input.length,\n      map = BASE64_MAP,\n      bits = 0,\n      result = [];\n\n  // Collect by 6*4 bits (3 bytes)\n\n  for (idx = 0; idx < max; idx++) {\n    if ((idx % 4 === 0) && idx) {\n      result.push((bits >> 16) & 0xFF);\n      result.push((bits >> 8) & 0xFF);\n      result.push(bits & 0xFF);\n    }\n\n    bits = (bits << 6) | map.indexOf(input.charAt(idx));\n  }\n\n  // Dump tail\n\n  tailbits = (max % 4) * 6;\n\n  if (tailbits === 0) {\n    result.push((bits >> 16) & 0xFF);\n    result.push((bits >> 8) & 0xFF);\n    result.push(bits & 0xFF);\n  } else if (tailbits === 18) {\n    result.push((bits >> 10) & 0xFF);\n    result.push((bits >> 2) & 0xFF);\n  } else if (tailbits === 12) {\n    result.push((bits >> 4) & 0xFF);\n  }\n\n  // Wrap into Buffer for NodeJS and leave Array for browser\n  if (NodeBuffer) {\n    // Support node 6.+ Buffer API when available\n    return NodeBuffer.from ? NodeBuffer.from(result) : new NodeBuffer(result);\n  }\n\n  return result;\n}\n\nfunction representYamlBinary(object /*, style*/) {\n  var result = '', bits = 0, idx, tail,\n      max = object.length,\n      map = BASE64_MAP;\n\n  // Convert every three bytes to 4 ASCII characters.\n\n  for (idx = 0; idx < max; idx++) {\n    if ((idx % 3 === 0) && idx) {\n      result += map[(bits >> 18) & 0x3F];\n      result += map[(bits >> 12) & 0x3F];\n      result += map[(bits >> 6) & 0x3F];\n      result += map[bits & 0x3F];\n    }\n\n    bits = (bits << 8) + object[idx];\n  }\n\n  // Dump tail\n\n  tail = max % 3;\n\n  if (tail === 0) {\n    result += map[(bits >> 18) & 0x3F];\n    result += map[(bits >> 12) & 0x3F];\n    result += map[(bits >> 6) & 0x3F];\n    result += map[bits & 0x3F];\n  } else if (tail === 2) {\n    result += map[(bits >> 10) & 0x3F];\n    result += map[(bits >> 4) & 0x3F];\n    result += map[(bits << 2) & 0x3F];\n    result += map[64];\n  } else if (tail === 1) {\n    result += map[(bits >> 2) & 0x3F];\n    result += map[(bits << 4) & 0x3F];\n    result += map[64];\n    result += map[64];\n  }\n\n  return result;\n}\n\nfunction isBinary(object) {\n  return NodeBuffer && NodeBuffer.isBuffer(object);\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:binary', {\n  kind: 'scalar',\n  resolve: resolveYamlBinary,\n  construct: constructYamlBinary,\n  predicate: isBinary,\n  represent: representYamlBinary\n});\n","'use strict';\n\nvar Type = require('../type');\n\nfunction resolveYamlBoolean(data) {\n  if (data === null) return false;\n\n  var max = data.length;\n\n  return (max === 4 && (data === 'true' || data === 'True' || data === 'TRUE')) ||\n         (max === 5 && (data === 'false' || data === 'False' || data === 'FALSE'));\n}\n\nfunction constructYamlBoolean(data) {\n  return data === 'true' ||\n         data === 'True' ||\n         data === 'TRUE';\n}\n\nfunction isBoolean(object) {\n  return Object.prototype.toString.call(object) === '[object Boolean]';\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:bool', {\n  kind: 'scalar',\n  resolve: resolveYamlBoolean,\n  construct: constructYamlBoolean,\n  predicate: isBoolean,\n  represent: {\n    lowercase: function (object) { return object ? 'true' : 'false'; },\n    uppercase: function (object) { return object ? 'TRUE' : 'FALSE'; },\n    camelcase: function (object) { return object ? 'True' : 'False'; }\n  },\n  defaultStyle: 'lowercase'\n});\n","'use strict';\n\nvar common = require('../common');\nvar Type   = require('../type');\n\nvar YAML_FLOAT_PATTERN = new RegExp(\n  // 2.5e4, 2.5 and integers\n  '^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?' +\n  // .2e4, .2\n  // special case, seems not from spec\n  '|\\\\.[0-9_]+(?:[eE][-+]?[0-9]+)?' +\n  // 20:59\n  '|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\\\.[0-9_]*' +\n  // .inf\n  '|[-+]?\\\\.(?:inf|Inf|INF)' +\n  // .nan\n  '|\\\\.(?:nan|NaN|NAN))$');\n\nfunction resolveYamlFloat(data) {\n  if (data === null) return false;\n\n  if (!YAML_FLOAT_PATTERN.test(data) ||\n      // Quick hack to not allow integers end with `_`\n      // Probably should update regexp & check speed\n      data[data.length - 1] === '_') {\n    return false;\n  }\n\n  return true;\n}\n\nfunction constructYamlFloat(data) {\n  var value, sign, base, digits;\n\n  value  = data.replace(/_/g, '').toLowerCase();\n  sign   = value[0] === '-' ? -1 : 1;\n  digits = [];\n\n  if ('+-'.indexOf(value[0]) >= 0) {\n    value = value.slice(1);\n  }\n\n  if (value === '.inf') {\n    return (sign === 1) ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY;\n\n  } else if (value === '.nan') {\n    return NaN;\n\n  } else if (value.indexOf(':') >= 0) {\n    value.split(':').forEach(function (v) {\n      digits.unshift(parseFloat(v, 10));\n    });\n\n    value = 0.0;\n    base = 1;\n\n    digits.forEach(function (d) {\n      value += d * base;\n      base *= 60;\n    });\n\n    return sign * value;\n\n  }\n  return sign * parseFloat(value, 10);\n}\n\n\nvar SCIENTIFIC_WITHOUT_DOT = /^[-+]?[0-9]+e/;\n\nfunction representYamlFloat(object, style) {\n  var res;\n\n  if (isNaN(object)) {\n    switch (style) {\n      case 'lowercase': return '.nan';\n      case 'uppercase': return '.NAN';\n      case 'camelcase': return '.NaN';\n    }\n  } else if (Number.POSITIVE_INFINITY === object) {\n    switch (style) {\n      case 'lowercase': return '.inf';\n      case 'uppercase': return '.INF';\n      case 'camelcase': return '.Inf';\n    }\n  } else if (Number.NEGATIVE_INFINITY === object) {\n    switch (style) {\n      case 'lowercase': return '-.inf';\n      case 'uppercase': return '-.INF';\n      case 'camelcase': return '-.Inf';\n    }\n  } else if (common.isNegativeZero(object)) {\n    return '-0.0';\n  }\n\n  res = object.toString(10);\n\n  // JS stringifier can build scientific format without dots: 5e-100,\n  // while YAML requres dot: 5.e-100. Fix it with simple hack\n\n  return SCIENTIFIC_WITHOUT_DOT.test(res) ? res.replace('e', '.e') : res;\n}\n\nfunction isFloat(object) {\n  return (Object.prototype.toString.call(object) === '[object Number]') &&\n         (object % 1 !== 0 || common.isNegativeZero(object));\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:float', {\n  kind: 'scalar',\n  resolve: resolveYamlFloat,\n  construct: constructYamlFloat,\n  predicate: isFloat,\n  represent: representYamlFloat,\n  defaultStyle: 'lowercase'\n});\n","'use strict';\n\nvar common = require('../common');\nvar Type   = require('../type');\n\nfunction isHexCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) ||\n         ((0x41/* A */ <= c) && (c <= 0x46/* F */)) ||\n         ((0x61/* a */ <= c) && (c <= 0x66/* f */));\n}\n\nfunction isOctCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x37/* 7 */));\n}\n\nfunction isDecCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */));\n}\n\nfunction resolveYamlInteger(data) {\n  if (data === null) return false;\n\n  var max = data.length,\n      index = 0,\n      hasDigits = false,\n      ch;\n\n  if (!max) return false;\n\n  ch = data[index];\n\n  // sign\n  if (ch === '-' || ch === '+') {\n    ch = data[++index];\n  }\n\n  if (ch === '0') {\n    // 0\n    if (index + 1 === max) return true;\n    ch = data[++index];\n\n    // base 2, base 8, base 16\n\n    if (ch === 'b') {\n      // base 2\n      index++;\n\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') continue;\n        if (ch !== '0' && ch !== '1') return false;\n        hasDigits = true;\n      }\n      return hasDigits && ch !== '_';\n    }\n\n\n    if (ch === 'x') {\n      // base 16\n      index++;\n\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') continue;\n        if (!isHexCode(data.charCodeAt(index))) return false;\n        hasDigits = true;\n      }\n      return hasDigits && ch !== '_';\n    }\n\n    // base 8\n    for (; index < max; index++) {\n      ch = data[index];\n      if (ch === '_') continue;\n      if (!isOctCode(data.charCodeAt(index))) return false;\n      hasDigits = true;\n    }\n    return hasDigits && ch !== '_';\n  }\n\n  // base 10 (except 0) or base 60\n\n  // value should not start with `_`;\n  if (ch === '_') return false;\n\n  for (; index < max; index++) {\n    ch = data[index];\n    if (ch === '_') continue;\n    if (ch === ':') break;\n    if (!isDecCode(data.charCodeAt(index))) {\n      return false;\n    }\n    hasDigits = true;\n  }\n\n  // Should have digits and should not end with `_`\n  if (!hasDigits || ch === '_') return false;\n\n  // if !base60 - done;\n  if (ch !== ':') return true;\n\n  // base60 almost not used, no needs to optimize\n  return /^(:[0-5]?[0-9])+$/.test(data.slice(index));\n}\n\nfunction constructYamlInteger(data) {\n  var value = data, sign = 1, ch, base, digits = [];\n\n  if (value.indexOf('_') !== -1) {\n    value = value.replace(/_/g, '');\n  }\n\n  ch = value[0];\n\n  if (ch === '-' || ch === '+') {\n    if (ch === '-') sign = -1;\n    value = value.slice(1);\n    ch = value[0];\n  }\n\n  if (value === '0') return 0;\n\n  if (ch === '0') {\n    if (value[1] === 'b') return sign * parseInt(value.slice(2), 2);\n    if (value[1] === 'x') return sign * parseInt(value, 16);\n    return sign * parseInt(value, 8);\n  }\n\n  if (value.indexOf(':') !== -1) {\n    value.split(':').forEach(function (v) {\n      digits.unshift(parseInt(v, 10));\n    });\n\n    value = 0;\n    base = 1;\n\n    digits.forEach(function (d) {\n      value += (d * base);\n      base *= 60;\n    });\n\n    return sign * value;\n\n  }\n\n  return sign * parseInt(value, 10);\n}\n\nfunction isInteger(object) {\n  return (Object.prototype.toString.call(object)) === '[object Number]' &&\n         (object % 1 === 0 && !common.isNegativeZero(object));\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:int', {\n  kind: 'scalar',\n  resolve: resolveYamlInteger,\n  construct: constructYamlInteger,\n  predicate: isInteger,\n  represent: {\n    binary:      function (obj) { return obj >= 0 ? '0b' + obj.toString(2) : '-0b' + obj.toString(2).slice(1); },\n    octal:       function (obj) { return obj >= 0 ? '0'  + obj.toString(8) : '-0'  + obj.toString(8).slice(1); },\n    decimal:     function (obj) { return obj.toString(10); },\n    /* eslint-disable max-len */\n    hexadecimal: function (obj) { return obj >= 0 ? '0x' + obj.toString(16).toUpperCase() :  '-0x' + obj.toString(16).toUpperCase().slice(1); }\n  },\n  defaultStyle: 'decimal',\n  styleAliases: {\n    binary:      [ 2,  'bin' ],\n    octal:       [ 8,  'oct' ],\n    decimal:     [ 10, 'dec' ],\n    hexadecimal: [ 16, 'hex' ]\n  }\n});\n","'use strict';\n\nvar esprima;\n\n// Browserified version does not have esprima\n//\n// 1. For node.js just require module as deps\n// 2. For browser try to require mudule via external AMD system.\n//    If not found - try to fallback to window.esprima. If not\n//    found too - then fail to parse.\n//\ntry {\n  // workaround to exclude package from browserify list.\n  var _require = require;\n  esprima = _require('esprima');\n} catch (_) {\n  /*global window */\n  if (typeof window !== 'undefined') esprima = window.esprima;\n}\n\nvar Type = require('../../type');\n\nfunction resolveJavascriptFunction(data) {\n  if (data === null) return false;\n\n  try {\n    var source = '(' + data + ')',\n        ast    = esprima.parse(source, { range: true });\n\n    if (ast.type                    !== 'Program'             ||\n        ast.body.length             !== 1                     ||\n        ast.body[0].type            !== 'ExpressionStatement' ||\n        (ast.body[0].expression.type !== 'ArrowFunctionExpression' &&\n          ast.body[0].expression.type !== 'FunctionExpression')) {\n      return false;\n    }\n\n    return true;\n  } catch (err) {\n    return false;\n  }\n}\n\nfunction constructJavascriptFunction(data) {\n  /*jslint evil:true*/\n\n  var source = '(' + data + ')',\n      ast    = esprima.parse(source, { range: true }),\n      params = [],\n      body;\n\n  if (ast.type                    !== 'Program'             ||\n      ast.body.length             !== 1                     ||\n      ast.body[0].type            !== 'ExpressionStatement' ||\n      (ast.body[0].expression.type !== 'ArrowFunctionExpression' &&\n        ast.body[0].expression.type !== 'FunctionExpression')) {\n    throw new Error('Failed to resolve function');\n  }\n\n  ast.body[0].expression.params.forEach(function (param) {\n    params.push(param.name);\n  });\n\n  body = ast.body[0].expression.body.range;\n\n  // Esprima's ranges include the first '{' and the last '}' characters on\n  // function expressions. So cut them out.\n  if (ast.body[0].expression.body.type === 'BlockStatement') {\n    /*eslint-disable no-new-func*/\n    return new Function(params, source.slice(body[0] + 1, body[1] - 1));\n  }\n  // ES6 arrow functions can omit the BlockStatement. In that case, just return\n  // the body.\n  /*eslint-disable no-new-func*/\n  return new Function(params, 'return ' + source.slice(body[0], body[1]));\n}\n\nfunction representJavascriptFunction(object /*, style*/) {\n  return object.toString();\n}\n\nfunction isFunction(object) {\n  return Object.prototype.toString.call(object) === '[object Function]';\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:js/function', {\n  kind: 'scalar',\n  resolve: resolveJavascriptFunction,\n  construct: constructJavascriptFunction,\n  predicate: isFunction,\n  represent: representJavascriptFunction\n});\n","'use strict';\n\nvar Type = require('../../type');\n\nfunction resolveJavascriptRegExp(data) {\n  if (data === null) return false;\n  if (data.length === 0) return false;\n\n  var regexp = data,\n      tail   = /\\/([gim]*)$/.exec(data),\n      modifiers = '';\n\n  // if regexp starts with '/' it can have modifiers and must be properly closed\n  // `/foo/gim` - modifiers tail can be maximum 3 chars\n  if (regexp[0] === '/') {\n    if (tail) modifiers = tail[1];\n\n    if (modifiers.length > 3) return false;\n    // if expression starts with /, is should be properly terminated\n    if (regexp[regexp.length - modifiers.length - 1] !== '/') return false;\n  }\n\n  return true;\n}\n\nfunction constructJavascriptRegExp(data) {\n  var regexp = data,\n      tail   = /\\/([gim]*)$/.exec(data),\n      modifiers = '';\n\n  // `/foo/gim` - tail can be maximum 4 chars\n  if (regexp[0] === '/') {\n    if (tail) modifiers = tail[1];\n    regexp = regexp.slice(1, regexp.length - modifiers.length - 1);\n  }\n\n  return new RegExp(regexp, modifiers);\n}\n\nfunction representJavascriptRegExp(object /*, style*/) {\n  var result = '/' + object.source + '/';\n\n  if (object.global) result += 'g';\n  if (object.multiline) result += 'm';\n  if (object.ignoreCase) result += 'i';\n\n  return result;\n}\n\nfunction isRegExp(object) {\n  return Object.prototype.toString.call(object) === '[object RegExp]';\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:js/regexp', {\n  kind: 'scalar',\n  resolve: resolveJavascriptRegExp,\n  construct: constructJavascriptRegExp,\n  predicate: isRegExp,\n  represent: representJavascriptRegExp\n});\n","'use strict';\n\nvar Type = require('../../type');\n\nfunction resolveJavascriptUndefined() {\n  return true;\n}\n\nfunction constructJavascriptUndefined() {\n  /*eslint-disable no-undefined*/\n  return undefined;\n}\n\nfunction representJavascriptUndefined() {\n  return '';\n}\n\nfunction isUndefined(object) {\n  return typeof object === 'undefined';\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:js/undefined', {\n  kind: 'scalar',\n  resolve: resolveJavascriptUndefined,\n  construct: constructJavascriptUndefined,\n  predicate: isUndefined,\n  represent: representJavascriptUndefined\n});\n","'use strict';\n\nvar Type = require('../type');\n\nmodule.exports = new Type('tag:yaml.org,2002:map', {\n  kind: 'mapping',\n  construct: function (data) { return data !== null ? data : {}; }\n});\n","'use strict';\n\nvar Type = require('../type');\n\nfunction resolveYamlMerge(data) {\n  return data === '<<' || data === null;\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:merge', {\n  kind: 'scalar',\n  resolve: resolveYamlMerge\n});\n","'use strict';\n\nvar Type = require('../type');\n\nfunction resolveYamlNull(data) {\n  if (data === null) return true;\n\n  var max = data.length;\n\n  return (max === 1 && data === '~') ||\n         (max === 4 && (data === 'null' || data === 'Null' || data === 'NULL'));\n}\n\nfunction constructYamlNull() {\n  return null;\n}\n\nfunction isNull(object) {\n  return object === null;\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:null', {\n  kind: 'scalar',\n  resolve: resolveYamlNull,\n  construct: constructYamlNull,\n  predicate: isNull,\n  represent: {\n    canonical: function () { return '~';    },\n    lowercase: function () { return 'null'; },\n    uppercase: function () { return 'NULL'; },\n    camelcase: function () { return 'Null'; }\n  },\n  defaultStyle: 'lowercase'\n});\n","'use strict';\n\nvar Type = require('../type');\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\nvar _toString       = Object.prototype.toString;\n\nfunction resolveYamlOmap(data) {\n  if (data === null) return true;\n\n  var objectKeys = [], index, length, pair, pairKey, pairHasKey,\n      object = data;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n    pairHasKey = false;\n\n    if (_toString.call(pair) !== '[object Object]') return false;\n\n    for (pairKey in pair) {\n      if (_hasOwnProperty.call(pair, pairKey)) {\n        if (!pairHasKey) pairHasKey = true;\n        else return false;\n      }\n    }\n\n    if (!pairHasKey) return false;\n\n    if (objectKeys.indexOf(pairKey) === -1) objectKeys.push(pairKey);\n    else return false;\n  }\n\n  return true;\n}\n\nfunction constructYamlOmap(data) {\n  return data !== null ? data : [];\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:omap', {\n  kind: 'sequence',\n  resolve: resolveYamlOmap,\n  construct: constructYamlOmap\n});\n","'use strict';\n\nvar Type = require('../type');\n\nvar _toString = Object.prototype.toString;\n\nfunction resolveYamlPairs(data) {\n  if (data === null) return true;\n\n  var index, length, pair, keys, result,\n      object = data;\n\n  result = new Array(object.length);\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n\n    if (_toString.call(pair) !== '[object Object]') return false;\n\n    keys = Object.keys(pair);\n\n    if (keys.length !== 1) return false;\n\n    result[index] = [ keys[0], pair[keys[0]] ];\n  }\n\n  return true;\n}\n\nfunction constructYamlPairs(data) {\n  if (data === null) return [];\n\n  var index, length, pair, keys, result,\n      object = data;\n\n  result = new Array(object.length);\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n\n    keys = Object.keys(pair);\n\n    result[index] = [ keys[0], pair[keys[0]] ];\n  }\n\n  return result;\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:pairs', {\n  kind: 'sequence',\n  resolve: resolveYamlPairs,\n  construct: constructYamlPairs\n});\n","'use strict';\n\nvar Type = require('../type');\n\nmodule.exports = new Type('tag:yaml.org,2002:seq', {\n  kind: 'sequence',\n  construct: function (data) { return data !== null ? data : []; }\n});\n","'use strict';\n\nvar Type = require('../type');\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction resolveYamlSet(data) {\n  if (data === null) return true;\n\n  var key, object = data;\n\n  for (key in object) {\n    if (_hasOwnProperty.call(object, key)) {\n      if (object[key] !== null) return false;\n    }\n  }\n\n  return true;\n}\n\nfunction constructYamlSet(data) {\n  return data !== null ? data : {};\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:set', {\n  kind: 'mapping',\n  resolve: resolveYamlSet,\n  construct: constructYamlSet\n});\n","'use strict';\n\nvar Type = require('../type');\n\nmodule.exports = new Type('tag:yaml.org,2002:str', {\n  kind: 'scalar',\n  construct: function (data) { return data !== null ? data : ''; }\n});\n","'use strict';\n\nvar Type = require('../type');\n\nvar YAML_DATE_REGEXP = new RegExp(\n  '^([0-9][0-9][0-9][0-9])'          + // [1] year\n  '-([0-9][0-9])'                    + // [2] month\n  '-([0-9][0-9])$');                   // [3] day\n\nvar YAML_TIMESTAMP_REGEXP = new RegExp(\n  '^([0-9][0-9][0-9][0-9])'          + // [1] year\n  '-([0-9][0-9]?)'                   + // [2] month\n  '-([0-9][0-9]?)'                   + // [3] day\n  '(?:[Tt]|[ \\\\t]+)'                 + // ...\n  '([0-9][0-9]?)'                    + // [4] hour\n  ':([0-9][0-9])'                    + // [5] minute\n  ':([0-9][0-9])'                    + // [6] second\n  '(?:\\\\.([0-9]*))?'                 + // [7] fraction\n  '(?:[ \\\\t]*(Z|([-+])([0-9][0-9]?)' + // [8] tz [9] tz_sign [10] tz_hour\n  '(?::([0-9][0-9]))?))?$');           // [11] tz_minute\n\nfunction resolveYamlTimestamp(data) {\n  if (data === null) return false;\n  if (YAML_DATE_REGEXP.exec(data) !== null) return true;\n  if (YAML_TIMESTAMP_REGEXP.exec(data) !== null) return true;\n  return false;\n}\n\nfunction constructYamlTimestamp(data) {\n  var match, year, month, day, hour, minute, second, fraction = 0,\n      delta = null, tz_hour, tz_minute, date;\n\n  match = YAML_DATE_REGEXP.exec(data);\n  if (match === null) match = YAML_TIMESTAMP_REGEXP.exec(data);\n\n  if (match === null) throw new Error('Date resolve error');\n\n  // match: [1] year [2] month [3] day\n\n  year = +(match[1]);\n  month = +(match[2]) - 1; // JS month starts with 0\n  day = +(match[3]);\n\n  if (!match[4]) { // no hour\n    return new Date(Date.UTC(year, month, day));\n  }\n\n  // match: [4] hour [5] minute [6] second [7] fraction\n\n  hour = +(match[4]);\n  minute = +(match[5]);\n  second = +(match[6]);\n\n  if (match[7]) {\n    fraction = match[7].slice(0, 3);\n    while (fraction.length < 3) { // milli-seconds\n      fraction += '0';\n    }\n    fraction = +fraction;\n  }\n\n  // match: [8] tz [9] tz_sign [10] tz_hour [11] tz_minute\n\n  if (match[9]) {\n    tz_hour = +(match[10]);\n    tz_minute = +(match[11] || 0);\n    delta = (tz_hour * 60 + tz_minute) * 60000; // delta in mili-seconds\n    if (match[9] === '-') delta = -delta;\n  }\n\n  date = new Date(Date.UTC(year, month, day, hour, minute, second, fraction));\n\n  if (delta) date.setTime(date.getTime() - delta);\n\n  return date;\n}\n\nfunction representYamlTimestamp(object /*, style*/) {\n  return object.toISOString();\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:timestamp', {\n  kind: 'scalar',\n  resolve: resolveYamlTimestamp,\n  construct: constructYamlTimestamp,\n  instanceOf: Date,\n  represent: representYamlTimestamp\n});\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n"],"sourceRoot":""}