{"version":3,"sources":["webpack:///./src/panels/lovelace/editor/select-view/hui-dialog-select-view.ts"],"names":["HuiDialogSelectView","customElement","property","params","this","_params","updateComplete","changedProps","toggleAttribute","lovelace","config","views","some","view","icon","html","_openedChanged","_selectView","shadowRoot","querySelector","e","detail","viewSelectedCallback","_dialog","close","ev","value","undefined","LitElement"],"mappings":"otFAmBO,IAAMA,E,+1LAAb,EADCC,YAAc,4BACf,kBAAaD,EAAb,kC,4FAAA,0F,qEAAA,gE,kOAAA,qBAAaA,EAAb,6BACGE,eADH,kEAGE,SAAwBC,GAAxB,wFACEC,KAAKC,QAAUF,EADjB,kCAEQC,KAAKE,gBAFb,iDAHF,mCAQE,SAAkBC,GAChB,IATSP,EAST,qCAAcO,GACdC,YACEJ,KACA,cACAA,KAAKC,QAASI,SAAUC,SACnBN,KAAKC,QAASI,SAAUC,OAAOC,MAAMC,MAAK,SAACC,GAAD,OAAUA,EAAKC,WAdpE,kCAmBE,WACE,OAAKV,KAAKC,QAGHU,YAAP,IAIuBX,KAAKY,eAINZ,KAAKC,QAASI,SAASC,OACxBN,KAAKa,aAXjBF,YAAP,OArBN,gCAsCE,WACE,OAAOX,KAAKc,WAAYC,cAAc,qBAvC1C,uCA0CE,SAAoBC,GAClB,IAAMP,EAAeO,EAAEC,OAAOR,KAC9BT,KAAKC,QAASiB,qBAAqBT,GACnCT,KAAKmB,QAAQC,UA7CjB,0CAgDE,SAAuBC,GACfA,EAAGJ,OAAeK,QACtBtB,KAAKC,aAAUsB,SAlDoBC","file":"chunk.e16ef36f59ea17e48a9b.js","sourcesContent":["import {\n  html,\n  LitElement,\n  TemplateResult,\n  customElement,\n  property,\n} from \"lit-element\";\n\nimport \"../../../../components/dialog/ha-paper-dialog\";\nimport { toggleAttribute } from \"../../../../common/dom/toggle_attribute\";\nimport \"../../components/hui-views-list\";\n\n// tslint:disable-next-line:no-duplicate-imports\nimport { HaPaperDialog } from \"../../../../components/dialog/ha-paper-dialog\";\n\nimport { SelectViewDialogParams } from \"./show-select-view-dialog\";\nimport { PolymerChangedEvent } from \"../../../../polymer-types\";\n\n@customElement(\"hui-dialog-select-view\")\nexport class HuiDialogSelectView extends LitElement {\n  @property() private _params?: SelectViewDialogParams;\n\n  public async showDialog(params: SelectViewDialogParams): Promise<void> {\n    this._params = params;\n    await this.updateComplete;\n  }\n\n  protected updated(changedProps) {\n    super.updated(changedProps);\n    toggleAttribute(\n      this,\n      \"hide-icons\",\n      this._params!.lovelace!.config\n        ? !this._params!.lovelace!.config.views.some((view) => view.icon)\n        : true\n    );\n  }\n\n  protected render(): TemplateResult | void {\n    if (!this._params) {\n      return html``;\n    }\n    return html`\n      <ha-paper-dialog\n        with-backdrop\n        opened\n        @opened-changed=\"${this._openedChanged}\"\n      >\n        <h2>Choose a view</h2>\n        <hui-views-list \n        .lovelaceConfig=${this._params!.lovelace.config} \n        @view-selected=${this._selectView}>\n        </hui-view-list>\n      </ha-paper-dialog>\n    `;\n  }\n\n  private get _dialog(): HaPaperDialog {\n    return this.shadowRoot!.querySelector(\"ha-paper-dialog\")!;\n  }\n\n  private _selectView(e: CustomEvent): void {\n    const view: number = e.detail.view;\n    this._params!.viewSelectedCallback(view);\n    this._dialog.close();\n  }\n\n  private _openedChanged(ev: PolymerChangedEvent<boolean>): void {\n    if (!(ev.detail as any).value) {\n      this._params = undefined;\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hui-dialog-select-view\": HuiDialogSelectView;\n  }\n}\n"],"sourceRoot":""}