/*! For license information please see 2c2c562a.js.LICENSE.txt */
(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[16489],{44577:function(e,t,n){"use strict";var r=n(87480),i=n(33310),o=n(61092),a=n(96762);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(n,e);var t=u(n);function n(){return l(this,n),t.apply(this,arguments)}return n}(o.K);h.styles=[a.W],h=(0,r.__decorate)([(0,i.Mo)("mwc-list-item")],h)},60461:function(e){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.exports=function e(n){return Object.freeze(n),Object.getOwnPropertyNames(n).forEach((function(r){!n.hasOwnProperty(r)||null===n[r]||"object"!==t(n[r])&&"function"!=typeof n[r]||Object.isFrozen(n[r])||e(n[r])})),n}},69470:function(e,t,n){"use strict";n.d(t,{j:function(){return i},fs:function(){return o},$y:function(){return a}});var r=function(e,t,n){return new Promise((function(r,i){var o=document.createElement(e),a="src",s="body";switch(o.onload=function(){return r(t)},o.onerror=function(){return i(t)},e){case"script":o.async=!0,n&&(o.type=n);break;case"link":o.type="text/css",o.rel="stylesheet",a="href",s="head"}o[a]=t,document[s].appendChild(o)}))},i=function(e){return r("link",e)},o=function(e){return r("script",e)},a=function(e){return r("script",e,"module")}},86977:function(e,t,n){"use strict";n.d(t,{Q:function(){return r}});var r=function(e){return!(!e.detail.selected||"property"!==e.detail.source)&&(e.currentTarget.selected=!1,!0)}},15493:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Q2:function(){return a},io:function(){return s},ou:function(){return l},j4:function(){return c},pc:function(){return u}});var a=function(){var e,t={},n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}(new URLSearchParams(location.search).entries());try{for(n.s();!(e=n.n()).done;){var o=r(e.value,2),a=o[0],s=o[1];t[a]=s}}catch(l){n.e(l)}finally{n.f()}return t},s=function(e){return new URLSearchParams(window.location.search).get(e)},l=function(e){var t=new URLSearchParams;return Object.entries(e).forEach((function(e){var n=r(e,2),i=n[0],o=n[1];t.append(i,o)})),t.toString()},c=function(e){var t=new URLSearchParams(window.location.search);return Object.entries(e).forEach((function(e){var n=r(e,2),i=n[0],o=n[1];t.set(i,o)})),t.toString()},u=function(e){var t=new URLSearchParams(window.location.search);return t.delete(e),t.toString()}},46167:function(e,t,n){"use strict";n(17931);var r=n(33310);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(){u=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!h(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,i[o])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&r.push(l.finisher);var c=l.extras;if(c){for(var u=0;u<c.length;u++)this.addElementPlacement(c[u],t);n.push.apply(n,c)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=m(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:v(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=v(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function d(e){var t,n=m(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function f(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function h(e){return e.decorators&&e.decorators.length}function p(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function v(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function m(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n){return b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},b(e,t,n||e)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var g,k=customElements.get("paper-tabs");!function(e,t,n,r){var i=u();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(p(o.descriptor)||p(i.descriptor)){if(h(o)||h(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(h(o)){if(h(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}f(o,i)}else t.push(o)}return t}(a.d.map(d)),e);i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}([(0,r.Mo)("ha-tabs")],(function(e,t){var n=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(r,t);var n=s(r);function r(){var t;o(this,r);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=n.call.apply(n,[this].concat(a)),e(c(t)),t}return r}(t);return{F:n,d:[{kind:"field",key:"_firstTabWidth",value:function(){return 0}},{kind:"field",key:"_lastTabWidth",value:function(){return 0}},{kind:"field",key:"_lastLeftHiddenState",value:function(){return!1}},{kind:"get",static:!0,key:"template",value:function(){if(!g){var e=(g=k.template.cloneNode(!0)).content.querySelector("style");g.content.querySelectorAll("paper-icon-button").forEach((function(e){e.setAttribute("noink","")})),e.appendChild(document.createTextNode("\n          #selectionBar {\n            box-sizing: border-box;\n          }\n          .not-visible {\n            display: none;\n          }\n          paper-icon-button {\n            width: 24px;\n            height: 48px;\n            padding: 0;\n            margin: 0;\n          }\n        "))}return g}},{kind:"method",key:"_tabChanged",value:function(e,t){b(w(n.prototype),"_tabChanged",this).call(this,e,t);var r=this.querySelectorAll("paper-tab:not(.hide-tab)");r.length>0&&(this._firstTabWidth=r[0].clientWidth,this._lastTabWidth=r[r.length-1].clientWidth);var i=this.querySelector(".iron-selected");i&&i.scrollIntoView()}},{kind:"method",key:"_affectScroll",value:function(e){if(0!==this._firstTabWidth&&0!==this._lastTabWidth){this.$.tabsContainer.scrollLeft+=e;var t=this.$.tabsContainer.scrollLeft;this._leftHidden=t-this._firstTabWidth<0,this._rightHidden=t+this._lastTabWidth>this._tabContainerScrollSize,this._lastLeftHiddenState!==this._leftHidden&&(this._lastLeftHiddenState=this._leftHidden,this.$.tabsContainer.scrollLeft+=this._leftHidden?-23:23)}}}]}}),k)},15327:function(e,t,n){"use strict";n.d(t,{eL:function(){return r},SN:function(){return i},id:function(){return o},fg:function(){return a},j2:function(){return s},JR:function(){return l},Y:function(){return c},iM:function(){return u},Q2:function(){return d},Oh:function(){return f},vj:function(){return h},Gc:function(){return p}});var r=function(e){return e.sendMessagePromise({type:"lovelace/resources"})},i=function(e,t){return e.callWS(Object.assign({type:"lovelace/resources/create"},t))},o=function(e,t,n){return e.callWS(Object.assign({type:"lovelace/resources/update",resource_id:t},n))},a=function(e,t){return e.callWS({type:"lovelace/resources/delete",resource_id:t})},s=function(e){return e.callWS({type:"lovelace/dashboards/list"})},l=function(e,t){return e.callWS(Object.assign({type:"lovelace/dashboards/create"},t))},c=function(e,t,n){return e.callWS(Object.assign({type:"lovelace/dashboards/update",dashboard_id:t},n))},u=function(e,t){return e.callWS({type:"lovelace/dashboards/delete",dashboard_id:t})},d=function(e,t,n){return e.sendMessagePromise({type:"lovelace/config",url_path:t,force:n})},f=function(e,t,n){return e.callWS({type:"lovelace/config/save",url_path:t,config:n})},h=function(e,t){return e.callWS({type:"lovelace/config/delete",url_path:t})},p=function(e,t,n){return e.subscribeEvents((function(e){e.data.url_path===t&&n()}),"lovelace_updated")}},51444:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=n(47181),i=function(){return Promise.all([n.e(29563),n.e(98985),n.e(85084),n.e(3555),n.e(34821),n.e(72420)]).then(n.bind(n,72420))},o=function(e){(0,r.B)(e,"show-dialog",{dialogTag:"ha-voice-command-dialog",dialogImport:i,dialogParams:{}})}},68500:function(e,t,n){"use strict";n.d(t,{k:function(){return a}});var r=n(69470),i={},o={},a=function(e,t){return e.forEach((function(e){var n=new URL(e.url,t).toString();switch(e.type){case"css":if(n in i)break;i[n]=(0,r.j)(n);break;case"js":if(n in o)break;o[n]=(0,r.fs)(n);break;case"module":(0,r.$y)(n);break;default:console.warn("Unknown resource type specified: ".concat(e.type))}}))}},16489:function(e,t,n){"use strict";n.r(t);n(51187);var r=n(60461),i=n.n(r),o=n(37500),a=n(33310),s=n(15493),l=n(5986),c=n(15327),u=(n(48811),n(15291),n(81796)),d=n(68500),f=n(47181),h="show-save-config",p=!1;n(44577),n(53268),n(72691);(0,n(28393).VA)("waterfall",{run:function(){this.shadow=this.isOnScreen()&&this.isContentBelow()}});n(12730),n(91441),n(17931);var v=n(8636),m=n(51346),y=n(14516),b=n(7323);var w,g=n(86977),k=n(83849),_=n(87744),E=n(38346),C=n(96151);n(81545),n(29925),n(10983);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){return A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},A(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var i=I(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(){j=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!D(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,i[o])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&r.push(l.finisher);var c=l.extras;if(c){for(var u=0;u<c.length;u++)this.addElementPlacement(c[u],t);n.push.apply(n,c)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=L(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:R(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=R(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function V(e){var t,n=L(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function z(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function D(e){return e.decorators&&e.decorators.length}function M(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function R(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function L(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x(t)?t:String(t)}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t,n){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},B(e,t,n||e)}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}var F,U,N,W,Z,q,Q,$,Y,G,J,K,X,ee,te,ne,re,ie,oe,ae,se,le,ce,ue,de,fe,he,pe,ve,me,ye,be,we,ge="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z",ke=(function(e,t,n,r){var i=j();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(M(o.descriptor)||M(i.descriptor)){if(D(o)||D(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(D(o)){if(D(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}z(o,i)}else t.push(o)}return t}(a.d.map(V)),e);i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}([(0,a.Mo)("ha-icon-button-arrow-next")],(function(e,t){var n=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(r,t);var n=P(r);function r(){var t;S(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o)),e(T(t)),t}return r}(t);return{F:n,d:[{kind:"field",decorators:[(0,a.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,a.Cb)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,a.Cb)()],key:"label",value:void 0},{kind:"field",decorators:[(0,a.SB)()],key:"_icon",value:function(){return ge}},{kind:"method",key:"connectedCallback",value:function(){var e=this;B(I(n.prototype),"connectedCallback",this).call(this),setTimeout((function(){e._icon="ltr"===window.getComputedStyle(e).direction?ge:"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"}),100)}},{kind:"method",key:"render",value:function(){var e,t,n;return(0,o.dy)(w||(t=["\n      <ha-icon-button\n        .disabled=","\n        .label=","\n        .path=","\n      ></ha-icon-button>\n    "],n||(n=t.slice(0)),w=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))),this.disabled,this.label||(null===(e=this.hass)||void 0===e?void 0:e.localize("ui.common.next"))||"Next",this._icon)}}]}}),o.oi),n(2315),n(48932),n(52039),n(46167),n(26765)),_e=n(52415),Ee=n(51444),Ce=(n(27849),n(11654)),xe=n(27322),Se=n(54324),Ae=!1,Pe="show-edit-lovelace",Oe=function(e,t){Ae||(Ae=!0,function(e){(0,f.B)(e,"register-dialog",{dialogShowEvent:Pe,dialogTag:"hui-dialog-edit-lovelace",dialogImport:function(){return Promise.all([n.e(29563),n.e(98985),n.e(85084),n.e(3555),n.e(34821),n.e(74764)]).then(n.bind(n,74764))}})}(e)),(0,f.B)(e,Pe,t)},Te=!1,je="show-edit-view",Ve=function(e,t){Te||(Te=!0,function(e){(0,f.B)(e,"register-dialog",{dialogShowEvent:je,dialogTag:"hui-dialog-edit-view",dialogImport:function(){return Promise.all([n.e(29563),n.e(98985),n.e(88278),n.e(41985),n.e(85084),n.e(78874),n.e(45507),n.e(17129),n.e(3555),n.e(86630),n.e(34821),n.e(77576),n.e(12545),n.e(26272),n.e(13701),n.e(25727),n.e(74535),n.e(85316),n.e(23886)]).then(n.bind(n,74102))}})}(e)),(0,f.B)(e,je,t)},ze=(n(71743),n(6936)),De=(n(95611),n(32957));function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function Re(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Le(e,t){return Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Le(e,t)}function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ge(e);if(t){var i=Ge(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Be(this,n)}}function Be(e,t){if(t&&("object"===Me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ie(e)}function Ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(){Fe=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!We(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,i[o])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&r.push(l.finisher);var c=l.extras;if(c){for(var u=0;u<c.length;u++)this.addElementPlacement(c[u],t);n.push.apply(n,c)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$e(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=Qe(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:qe(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=qe(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function Ue(e){var t,n=Qe(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function Ne(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function We(e){return e.decorators&&e.decorators.length}function Ze(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function qe(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function Qe(e){var t=function(e,t){if("object"!==Me(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Me(t)?t:String(t)}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ye(e,t,n){return Ye="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ge(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},Ye(e,t,n||e)}function Ge(e){return Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ge(e)}var Je="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",Ke="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z",Xe="M12,2A3,3 0 0,1 15,5V11A3,3 0 0,1 12,14A3,3 0 0,1 9,11V5A3,3 0 0,1 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7A5,5 0 0,0 12,16A5,5 0 0,0 17,11H19Z",et="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",tt="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z",nt=function(e,t,n,r){var i=Fe();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(Ze(o.descriptor)||Ze(i.descriptor)){if(We(o)||We(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(We(o)){if(We(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}Ne(o,i)}else t.push(o)}return t}(a.d.map(Ue)),e);return i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}(null,(function(e,t){var r=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(r,t);var n=He(r);function r(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=n.call(this),e(Ie(t)),t._debouncedConfigChanged=(0,E.D)((function(){return t._selectView(t._curView,!0)}),100,!1),t}return r}(t);return{F:r,d:[{kind:"field",decorators:[(0,a.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,a.Cb)({attribute:!1})],key:"lovelace",value:void 0},{kind:"field",decorators:[(0,a.Cb)({type:Boolean})],key:"narrow",value:function(){return!1}},{kind:"field",decorators:[(0,a.Cb)({attribute:!1})],key:"route",value:void 0},{kind:"field",decorators:[(0,a.SB)()],key:"_curView",value:void 0},{kind:"field",decorators:[(0,a.IO)("ha-app-layout",!0)],key:"_appLayout",value:void 0},{kind:"field",decorators:[(0,a.Cb)()],key:"_persistentNotifications",value:void 0},{kind:"field",key:"_unsubNotifications",value:void 0},{kind:"field",key:"_viewCache",value:void 0},{kind:"field",key:"_debouncedConfigChanged",value:void 0},{kind:"field",key:"_conversation",value:function(){var e=this;return(0,y.Z)((function(t){return(0,b.p)(e.hass,"conversation")}))}},{kind:"method",key:"connectedCallback",value:function(){var e=this;Ye(Ge(r.prototype),"connectedCallback",this).call(this),this._unsubNotifications=(0,ze.r)(this.hass.connection,(function(t){e._persistentNotifications=t?t.length:0}))}},{kind:"method",key:"disconnectedCallback",value:function(){Ye(Ge(r.prototype),"disconnectedCallback",this).call(this),this._unsubNotifications&&this._unsubNotifications()}},{kind:"method",key:"render",value:function(){var e,t,n,r,i,a,s=this,l=null!==(e=null===(t=this.lovelace)||void 0===t?void 0:t.config.views)&&void 0!==e?e:[],c="number"==typeof this._curView?l[this._curView]:void 0;return(0,o.dy)(F||(F=Re(['\n      \x3c!-- Inserted for IoB --\x3e\n      <notification-drawer .hass="','"></notification-drawer>\n\n      <ha-app-layout\n        class=','\n        id="layout"\n      >\n        <app-header slot="header" effects="waterfall" fixed condenses>\n          ',"\n          ",'\n        </app-header>\n        <div id="view" @ll-rebuild=',"></div>\n      </ha-app-layout>\n    "])),this.hass,(0,v.$)({"edit-mode":this._editMode}),this._editMode?(0,o.dy)(U||(U=Re(['\n                <app-toolbar class="edit-mode">\n                  <div main-title>\n                    ',"\n                    <ha-icon-button\n                      .label=","\n                      .path=",'\n                      class="edit-icon"\n                      @click=','\n                    ></ha-icon-button>\n                  </div>\n                  <mwc-button\n                    outlined\n                    class="exit-edit-mode"\n                    .label=',"\n                    @click=","\n                  ></mwc-button>\n                  <a\n                    href=",'\n                    rel="noreferrer"\n                    class="menu-link"\n                    target="_blank"\n                  >\n                    <ha-icon-button\n                      .label=',"\n                      .path=",'\n                    ></ha-icon-button>\n                  </a>\n                  <ha-button-menu corner="BOTTOM_START">\n                    <ha-icon-button\n                      slot="trigger"\n                      .label=',"\n                      .path=","\n                    ></ha-icon-button>\n                    ",'\n                    <mwc-list-item\n                      graphic="icon"\n                      @request-selected=','\n                    >\n                      <ha-svg-icon\n                        slot="graphic"\n                        .path=',"\n                      ></ha-svg-icon>\n                      ","\n                    </mwc-list-item>\n                    ","\n                  </ha-button-menu>\n                </app-toolbar>\n              "])),this.config.title||this.hass.localize("ui.panel.lovelace.editor.header"),this.hass.localize("ui.panel.lovelace.editor.edit_lovelace.edit_title"),et,this._editLovelace,this.hass.localize("ui.panel.lovelace.menu.exit_edit_mode"),this._editModeDisable,(0,xe.R)(this.hass,"/lovelace/"),this.hass.localize("ui.panel.lovelace.menu.help"),"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z",this.hass.localize("ui.panel.lovelace.editor.menu.open"),Je,(0,o.dy)(N||(N=Re(['\n                          <mwc-list-item\n                            graphic="icon"\n                            aria-label=',"\n                            @request-selected=",'\n                          >\n                            <ha-svg-icon\n                              slot="graphic"\n                              .path=',"\n                            >\n                            </ha-svg-icon>\n                            ","\n                          </mwc-list-item>\n                        "])),this.hass.localize("ui.panel.lovelace.unused_entities.title"),this._handleUnusedEntities,"M5,15.5L7.5,20H2.5L5,15.5M9,19H21V17H9V19M5,9.5L7.5,14H2.5L5,9.5M9,13H21V11H9V13M5,3.5L7.5,8H2.5L5,3.5M9,7H21V5H9V7Z",this.hass.localize("ui.panel.lovelace.unused_entities.title")),this._handleRawEditor,"M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z",this.hass.localize("ui.panel.lovelace.editor.menu.raw_editor"),(0,o.dy)(W||(W=Re(['<mwc-list-item\n                            graphic="icon"\n                            @request-selected=','\n                          >\n                            <ha-svg-icon\n                              slot="graphic"\n                              .path=',"\n                            ></ha-svg-icon>\n                            ","\n                          </mwc-list-item>\n                          "," "])),this._handleManageDashboards,"M13,3V9H21V3M13,21H21V11H13M3,21H11V15H3M3,13H11V3H3V13Z",this.hass.localize("ui.panel.lovelace.editor.menu.manage_dashboards"),null!==(n=this.hass.userData)&&void 0!==n&&n.showAdvanced?(0,o.dy)(Z||(Z=Re(['<mwc-list-item\n                                graphic="icon"\n                                @request-selected=','\n                              >\n                                <ha-svg-icon\n                                  slot="graphic"\n                                  .path=',"\n                                ></ha-svg-icon>\n                                ","\n                              </mwc-list-item>"])),this._handleManageResources,"M15,7H20.5L15,1.5V7M8,0H16L22,6V18A2,2 0 0,1 20,20H8C6.89,20 6,19.1 6,18V2A2,2 0 0,1 8,0M4,4V22H20V24H4A2,2 0 0,1 2,22V4H4Z",this.hass.localize("ui.panel.lovelace.editor.menu.manage_resources")):"")):(0,o.dy)(q||(q=Re(["\n                <app-toolbar>\n                  ","\n                  ","\n                  ","      \n                </app-toolbar>\n              "])),null!=c&&c.subview?(0,o.dy)(Q||(Q=Re(["\n                        <ha-icon-button-arrow-prev\n                          @click=","\n                        ></ha-icon-button-arrow-prev>\n                      "])),this._goBack):(0,o.dy)($||($=Re(["\n                        \x3c!-- Disabled for IoB --\x3e\n                        \x3c!-- ha-menu-button\n                          .hass=","\n                          .narrow=","\n                        ></ha-menu-button --\x3e\n                      "])),this.hass,this.narrow),null!=c&&c.subview?(0,o.dy)(Y||(Y=Re(["<div main-title>","</div>"])),c.title):l.filter((function(e){return!e.subview})).length>1?(0,o.dy)(G||(G=Re(["\n                        <ha-tabs\n                          scrollable\n                          .selected=","\n                          @iron-activate=","\n                          dir=","\n                        >\n                          ","\n                        </ha-tabs>\n                      "])),this._curView,this._handleViewSelected,(0,_.Zu)(this.hass),l.map((function(e){return(0,o.dy)(J||(J=Re(["\n                              <paper-tab\n                                aria-label=","\n                                class=","\n                              >\n                                ","\n                              </paper-tab>\n                            "])),(0,m.o)(e.title),(0,v.$)({"hide-tab":Boolean(e.subview||void 0!==e.visible&&(Array.isArray(e.visible)&&!e.visible.some((function(e){return e.user===s.hass.user.id}))||!1===e.visible))}),e.icon?(0,o.dy)(K||(K=Re(["\n                                      <ha-icon\n                                        title=","\n                                        .icon=","\n                                      ></ha-icon>\n                                    "])),(0,m.o)(e.title),e.icon):e.title||"Unnamed view")}))):(0,o.dy)(X||(X=Re(["<div main-title>","</div>"])),this.config.title),this._hideToolbar?this.renderNotificationButton(!0):(0,o.dy)(ee||(ee=Re(["\n                      \x3c!-- Enabled for IoB - if toolbar, all is normal, but we still need notification button here --\x3e\n                      ","\n                  ","\n                  ","\n                  ","\n                "])),this.renderNotificationButton(!1),this.narrow?"":(0,o.dy)(te||(te=Re(["\n                        <ha-icon-button\n                          .label=","\n                          .path=","\n                          @click=","\n                        ></ha-icon-button>\n                      "])),this.hass.localize("ui.panel.lovelace.menu.search"),Ke,this._showQuickBar),!this.narrow&&this._conversation(this.hass.config.components)?(0,o.dy)(ne||(ne=Re(["\n                        <ha-icon-button\n                          .label=","\n                          .path=","\n                          @click=","\n                        ></ha-icon-button>\n                      "])),this.hass.localize("ui.panel.lovelace.menu.start_conversation"),Xe,this._showVoiceCommandDialog):"",this._showButtonMenu?(0,o.dy)(re||(re=Re(['\n                        <ha-button-menu corner="BOTTOM_START">\n                          <ha-icon-button\n                            slot="trigger"\n                            .label=',"\n                            .path=","\n                          ></ha-icon-button>\n\n                          ","\n                          ","\n                          ","\n                          ","\n                          ","\n                          ","\n                        </ha-button-menu>\n                      "])),this.hass.localize("ui.panel.lovelace.editor.menu.open"),Je,this.narrow?(0,o.dy)(ie||(ie=Re(["\n                                <mwc-list-item\n                                  .label=",'\n                                  graphic="icon"\n                                  @request-selected=',"\n                                >\n                                  <span\n                                    >",'</span\n                                  >\n                                  <ha-svg-icon\n                                    slot="graphic"\n                                    .path=',"\n                                  ></ha-svg-icon>\n                                </mwc-list-item>\n                              "])),this.hass.localize("ui.panel.lovelace.menu.search"),this._showQuickBar,this.hass.localize("ui.panel.lovelace.menu.search"),Ke):"",this.narrow&&this._conversation(this.hass.config.components)?(0,o.dy)(oe||(oe=Re(["\n                                <mwc-list-item\n                                  .label=",'\n                                  graphic="icon"\n                                  @request-selected=',"\n                                >\n                                  <span\n                                    >",'</span\n                                  >\n                                  <ha-svg-icon\n                                    slot="graphic"\n                                    .path=',"\n                                  ></ha-svg-icon>\n                                </mwc-list-item>\n                              "])),this.hass.localize("ui.panel.lovelace.menu.start_conversation"),this._showVoiceCommandDialog,this.hass.localize("ui.panel.lovelace.menu.start_conversation"),Xe):"",this._yamlMode?(0,o.dy)(ae||(ae=Re(["\n                                <mwc-list-item\n                                  aria-label=",'\n                                  graphic="icon"\n                                  @request-selected=',"\n                                >\n                                  <span\n                                    >",'</span\n                                  >\n                                  <ha-svg-icon\n                                    slot="graphic"\n                                    .path=',"\n                                  ></ha-svg-icon>\n                                </mwc-list-item>\n                                <mwc-list-item\n                                  aria-label=",'\n                                  graphic="icon"\n                                  @request-selected=',"\n                                >\n                                  <span\n                                    >",'</span\n                                  >\n                                  <ha-svg-icon\n                                    slot="graphic"\n                                    .path=',"\n                                  ></ha-svg-icon>\n                                </mwc-list-item>\n                              "])),this.hass.localize("ui.common.refresh"),this._handleRefresh,this.hass.localize("ui.common.refresh"),tt,this.hass.localize("ui.panel.lovelace.unused_entities.title"),this._handleUnusedEntities,this.hass.localize("ui.panel.lovelace.unused_entities.title"),"M11,13.5V21.5H3V13.5H11M12,2L17.5,11H6.5L12,2M17.5,13C20,13 22,15 22,17.5C22,20 20,22 17.5,22C15,22 13,20 13,17.5C13,15 15,13 17.5,13Z"):"","yaml"===(null===(r=this.hass.panels.lovelace)||void 0===r||null===(i=r.config)||void 0===i?void 0:i.mode)?(0,o.dy)(se||(se=Re(['\n                                <mwc-list-item\n                                  graphic="icon"\n                                  aria-label=',"\n                                  @request-selected=","\n                                >\n                                  ",'\n                                  <ha-svg-icon\n                                    slot="graphic"\n                                    .path=',"\n                                  ></ha-svg-icon>\n                                </mwc-list-item>\n                              "])),this.hass.localize("ui.panel.lovelace.menu.reload_resources"),this._handleReloadResources,this.hass.localize("ui.panel.lovelace.menu.reload_resources"),tt):"",null!==(a=this.hass.user)&&void 0!==a&&a.is_admin&&!this.hass.config.safe_mode?(0,o.dy)(le||(le=Re(['\n                                <mwc-list-item\n                                  graphic="icon"\n                                  aria-label=',"\n                                  @request-selected=","\n                                >\n                                  ",'\n                                  <ha-svg-icon\n                                    slot="graphic"\n                                    .path=',"\n                                  ></ha-svg-icon>\n                                </mwc-list-item>\n                              "])),this.hass.localize("ui.panel.lovelace.menu.configure_ui"),this._handleEnableEditMode,this.hass.localize("ui.panel.lovelace.menu.configure_ui"),et):"",this._editMode?(0,o.dy)(ce||(ce=Re(["\n                                <a\n                                  href=",'\n                                  rel="noreferrer"\n                                  class="menu-link"\n                                  target="_blank"\n                                >\n                                  <mwc-list-item\n                                    graphic="icon"\n                                    aria-label=',"\n                                  >\n                                    ",'\n                                    <ha-svg-icon\n                                      slot="graphic"\n                                      .path=',"\n                                    ></ha-svg-icon>\n                                  </mwc-list-item>\n                                </a>\n                              "])),(0,xe.R)(this.hass,"/lovelace/"),this.hass.localize("ui.panel.lovelace.menu.help"),this.hass.localize("ui.panel.lovelace.menu.help"),"M10,19H13V22H10V19M12,2C17.35,2.22 19.68,7.62 16.5,11.67C15.67,12.67 14.33,13.33 13.67,14.17C13,15 13,16 13,17H10C10,15.33 10,13.92 10.67,12.92C11.33,11.92 12.67,11.33 13.5,10.67C15.92,8.43 15.32,5.26 12,5A3,3 0 0,0 9,8H6A6,6 0 0,1 12,2Z"):""):"")),this._editMode?(0,o.dy)(ue||(ue=Re(["\n                <div sticky>\n                  <paper-tabs\n                    scrollable\n                    .selected=","\n                    @iron-activate=","\n                    dir=","\n                  >\n                    ","\n                    ","\n                  </paper-tabs>\n                </div>\n              "])),this._curView,this._handleViewSelected,(0,_.Zu)(this.hass),l.map((function(e){return(0,o.dy)(de||(de=Re(["\n                        <paper-tab\n                          aria-label=","\n                          class=","\n                        >\n                          ","\n                          ","\n                          ","\n                        </paper-tab>\n                      "])),(0,m.o)(e.title),(0,v.$)({"hide-tab":Boolean(!s._editMode&&void 0!==e.visible&&(Array.isArray(e.visible)&&!e.visible.some((function(e){return e.user===s.hass.user.id}))||!1===e.visible))}),s._editMode?(0,o.dy)(fe||(fe=Re(["\n                                <ha-icon-button-arrow-prev\n                                  .hass=","\n                                  .label=",'\n                                  class="edit-icon view"\n                                  @click=',"\n                                  ?disabled=","\n                                ></ha-icon-button-arrow-prev>\n                              "])),s.hass,s.hass.localize("ui.panel.lovelace.editor.edit_view.move_left"),s._moveViewLeft,0===s._curView):"",e.icon?(0,o.dy)(he||(he=Re(["\n                                <ha-icon\n                                  class=","\n                                  title=","\n                                  .icon=","\n                                ></ha-icon>\n                              "])),(0,v.$)({"child-view-icon":Boolean(e.subview)}),(0,m.o)(e.title),e.icon):e.title||"Unnamed view",s._editMode?(0,o.dy)(pe||(pe=Re(["\n                                <ha-svg-icon\n                                  title=",'\n                                  class="edit-icon view"\n                                  .path=',"\n                                  @click=","\n                                ></ha-svg-icon>\n                                <ha-icon-button-arrow-next\n                                  .hass=","\n                                  .label=",'\n                                  class="edit-icon view"\n                                  @click=',"\n                                  ?disabled=","\n                                ></ha-icon-button-arrow-next>\n                              "])),s.hass.localize("ui.panel.lovelace.editor.edit_view.edit"),et,s._editView,s.hass,s.hass.localize("ui.panel.lovelace.editor.edit_view.move_right"),s._moveViewRight,s._curView+1===l.length):"")})),this._editMode?(0,o.dy)(ve||(ve=Re(['\n                          <ha-icon-button\n                            id="add-view"\n                            @click=',"\n                            .label=","\n                            .path=","\n                          ></ha-icon-button>\n                        "])),this._addView,this.hass.localize("ui.panel.lovelace.editor.edit_view.add"),"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"):""):"",this._debouncedConfigChanged)}},{kind:"field",key:"_isVisible",value:function(){var e=this;return function(t){return Boolean(e._editMode||void 0===t.visible||!0===t.visible||Array.isArray(t.visible)&&t.visible.some((function(t){var n;return t.user===(null===(n=e.hass.user)||void 0===n?void 0:n.id)})))}}},{kind:"method",key:"firstUpdated",value:function(){"1"===(0,s.io)("edit")&&this.lovelace.setEditMode(!0)}},{kind:"method",key:"updated",value:function(e){var t=this;Ye(Ge(r.prototype),"updated",this).call(this,e);var n,i=this._viewRoot.lastChild;e.has("hass")&&i&&(i.hass=this.hass),e.has("narrow")&&i&&(i.narrow=this.narrow);var o=!1,a=this.route.path.split("/")[1];if(a=a?decodeURI(a):void 0,e.has("route")){var s=this.config.views;if(!a&&s.length)n=s.findIndex(this._isVisible),this._navigateToView(s[n].path||n,!0);else if("hass-unused-entities"===a)n="hass-unused-entities";else if(a){for(var l=a,c=Number(l),u=0,d=0;d<s.length;d++)if(s[d].path===l||d===c){u=d;break}n=u}}if(e.has("lovelace")){var h=e.get("lovelace");if(h&&h.config===this.lovelace.config||(o=!0),!h||h.editMode!==this.lovelace.editMode){var p=this.config&&this.config.views;(0,f.B)(this,"iron-resize"),"storage"===this.lovelace.mode&&"hass-unused-entities"===a&&(n=p.findIndex(this._isVisible),this._navigateToView(p[n].path||n,!0))}!o&&i&&(i.lovelace=this.lovelace)}(void 0!==n||o)&&(o&&void 0===n&&(n=this._curView),(0,C.T)((function(){return t._selectView(n,o)})))}},{kind:"method",key:"renderNotificationButton",value:function(e){return(0,o.dy)(me||(me=Re(['\n      <mwc-icon-button\n        style="cursor: pointer; position: relative;"\n        label="','"\n        @click=',"\n      >\n        <ha-svg-icon path=","></ha-svg-icon>\n        ","\n      </mwc-icon-button>\n      ","\n    "])),this.hass.localize("ui.notification_drawer.title"),this._handleShowNotificationDrawer,"M21,19V20H3V19L5,17V11C5,7.9 7.03,5.17 10,4.29C10,4.19 10,4.1 10,4A2,2 0 0,1 12,2A2,2 0 0,1 14,4C14,4.1 14,4.19 14,4.29C16.97,5.17 19,7.9 19,11V17L21,19M14,21A2,2 0 0,1 12,23A2,2 0 0,1 10,21",this._notificationsCount>0?(0,o.dy)(ye||(ye=Re(['\n              <span\n                style="top: -4px; right: -6px; font-size: 1.0rem; position: absolute; min-width: 20px; box-sizing: border-box; border-radius: 50%; font-weight: 400; background-color: var(--accent-color); line-height: 24px; text-align: center; padding: 0 6px; color: var(--text-primary-color);"\n              >\n                ',"\n              </span>\n            "])),this._notificationsCount):"",e&&this._conversation(this.hass.config.components)?(0,o.dy)(be||(be=Re(['\n            <mwc-icon-button\n              label="Start conversation"\n              @click=',"\n            >\n              <ha-svg-icon path=","></ha-svg-icon>\n            </mwc-icon-button>\n          "])),this._showVoiceCommandDialog,Xe):"")}},{kind:"get",key:"_notificationsCount",value:function(){var e=this.hass.states,t=Object.keys(e).filter((function(e){return"configurator"===e.substr(0,e.indexOf("."))})).map((function(t){return e[t]})).length;return(this._persistentNotifications||0)+t}},{kind:"get",key:"_hideToolbar",value:function(){return!0===this.config.hideToolbar&&-1===window.location.search.indexOf("toolbar")}},{kind:"method",key:"_handleShowNotificationDrawer",value:function(){(0,De.d)(this,{narrow:this.narrow})}},{kind:"get",key:"config",value:function(){return this.lovelace.config}},{kind:"get",key:"_yamlMode",value:function(){return"yaml"===this.lovelace.mode}},{kind:"get",key:"_editMode",value:function(){return this.lovelace.editMode}},{kind:"get",key:"_layout",value:function(){return this.shadowRoot.getElementById("layout")}},{kind:"get",key:"_viewRoot",value:function(){return this.shadowRoot.getElementById("view")}},{kind:"get",key:"_showButtonMenu",value:function(){var e,t,n;return this.narrow&&this._conversation(this.hass.config.components)||this._editMode||(null===(e=this.hass.user)||void 0===e?void 0:e.is_admin)&&!this.hass.config.safe_mode||"yaml"===(null===(t=this.hass.panels.lovelace)||void 0===t||null===(n=t.config)||void 0===n?void 0:n.mode)||this._yamlMode}},{kind:"method",key:"_handleRefresh",value:function(e){(0,g.Q)(e)&&(0,f.B)(this,"config-refresh")}},{kind:"method",key:"_handleReloadResources",value:function(e){(0,g.Q)(e)&&(this.hass.callService("lovelace","reload_resources"),(0,ke.g7)(this,{title:this.hass.localize("ui.panel.lovelace.reload_resources.refresh_header"),text:this.hass.localize("ui.panel.lovelace.reload_resources.refresh_body"),confirmText:this.hass.localize("ui.common.refresh"),dismissText:this.hass.localize("ui.common.not_now"),confirm:function(){return location.reload()}}))}},{kind:"method",key:"_showQuickBar",value:function(){(0,_e.H)(this,{commandMode:!1,hint:this.hass.localize("ui.tips.key_e_hint")})}},{kind:"method",key:"_goBack",value:function(){var e,t,n=null!==(e=null===(t=this.lovelace)||void 0===t?void 0:t.config.views)&&void 0!==e?e:[],r="number"==typeof this._curView?n[this._curView]:void 0;null!=r&&r.back_path?(0,k.c)(r.back_path):history.length>0?history.back():(0,k.c)(n[0].path)}},{kind:"method",key:"_handleRawEditor",value:function(e){(0,g.Q)(e)&&this.lovelace.enableFullEditMode()}},{kind:"method",key:"_handleManageDashboards",value:function(e){(0,g.Q)(e)&&(0,k.c)("/config/lovelace/dashboards")}},{kind:"method",key:"_handleManageResources",value:function(e){(0,g.Q)(e)&&(0,k.c)("/config/lovelace/resources")}},{kind:"method",key:"_handleUnusedEntities",value:function(e){var t;(0,g.Q)(e)&&(0,k.c)("".concat(null===(t=this.route)||void 0===t?void 0:t.prefix,"/hass-unused-entities"))}},{kind:"method",key:"_showVoiceCommandDialog",value:function(){(0,Ee._)(this)}},{kind:"method",key:"_handleEnableEditMode",value:function(e){(0,g.Q)(e)&&(this._yamlMode?(0,ke.Ys)(this,{text:"The edit UI is not available when in YAML mode."}):this.lovelace.setEditMode(!0))}},{kind:"method",key:"_editModeDisable",value:function(){this.lovelace.setEditMode(!1)}},{kind:"method",key:"_editLovelace",value:function(){Oe(this,this.lovelace)}},{kind:"method",key:"_navigateToView",value:function(e,t){this.lovelace.editMode?(0,k.c)("".concat(this.route.prefix,"/").concat(e,"?").concat((0,s.j4)({edit:"1"})),{replace:t}):(0,k.c)("".concat(this.route.prefix,"/").concat(e).concat(location.search),{replace:t})}},{kind:"method",key:"_editView",value:function(){Ve(this,{lovelace:this.lovelace,viewIndex:this._curView})}},{kind:"method",key:"_moveViewLeft",value:function(e){if(e.stopPropagation(),0!==this._curView){var t=this.lovelace,n=this._curView,r=this._curView-1;this._curView=r,t.saveConfig((0,Se.mA)(t.config,n,r))}}},{kind:"method",key:"_moveViewRight",value:function(e){if(e.stopPropagation(),this._curView+1!==this.lovelace.config.views.length){var t=this.lovelace,n=this._curView,r=this._curView+1;this._curView=r,t.saveConfig((0,Se.mA)(t.config,n,r))}}},{kind:"method",key:"_addView",value:function(){var e=this;Ve(this,{lovelace:this.lovelace,saveCallback:function(t,n){var r=n.path||t;e._navigateToView(r)}})}},{kind:"method",key:"_handleViewSelected",value:function(e){var t,n,r,i,o,a,s,l=e.detail.selected;if(l!==this._curView){var c=this.config.views[l].path||l;this._navigateToView(c)}t=this,n=this._layout.header.scrollTarget,r=n,i=Math.random(),o=Date.now(),a=r.scrollTop,s=0-a,t._currentAnimationId=i,function e(){var n,l=Date.now()-o;l>200?r.scrollTop=0:t._currentAnimationId===i&&(r.scrollTop=(n=l,-s*(n/=200)*(n-2)+a),requestAnimationFrame(e.bind(t)))}.call(t)}},{kind:"method",key:"_selectView",value:function(e,t){var r=this;if(t||this._curView!==e){e=void 0===e?0:e,this._curView=e,t&&(this._viewCache={});var i,o=this._viewRoot;if(o.lastChild&&o.removeChild(o.lastChild),"hass-unused-entities"===e){var a=document.createElement("hui-unused-entities");return Promise.all([n.e(29563),n.e(98985),n.e(41985),n.e(9874),n.e(58543),n.e(3555),n.e(65040),n.e(67065),n.e(75405),n.e(511)]).then(n.bind(n,28279)).then((function(){a.hass=r.hass,a.lovelace=r.lovelace,a.narrow=r.narrow})),void o.appendChild(a)}var s=this.config.views[e];if(s){!t&&this._viewCache[e]?i=this._viewCache[e]:((i=document.createElement("hui-view")).index=e,this._viewCache[e]=i),i.lovelace=this.lovelace,i.hass=this.hass,i.narrow=this.narrow;var l=s.background||this.config.background;l?this._appLayout.style.setProperty("--lovelace-background",l):this._appLayout.style.removeProperty("--lovelace-background"),o.appendChild(i),(0,f.B)(this,"iron-resize")}else this.lovelace.setEditMode(!0)}}},{kind:"get",static:!0,key:"styles",value:function(){return[Ce.Qx,(0,o.iv)(we||(we=Re(["\n        :host {\n          -ms-user-select: none;\n          -webkit-user-select: none;\n          -moz-user-select: none;\n        }\n\n        ha-app-layout {\n          min-height: 100%;\n        }\n        ha-tabs {\n          width: 100%;\n          height: 100%;\n          margin-left: 4px;\n        }\n        paper-tabs {\n          margin-left: 12px;\n          margin-left: max(env(safe-area-inset-left), 12px);\n          margin-right: env(safe-area-inset-right);\n        }\n        ha-tabs,\n        paper-tabs {\n          --paper-tabs-selection-bar-color: var(\n            --app-header-selection-bar-color,\n            var(--app-header-text-color, #fff)\n          );\n          text-transform: uppercase;\n        }\n\n        .edit-mode app-header,\n        .edit-mode app-toolbar {\n          background-color: var(--app-header-edit-background-color, #455a64);\n          color: var(--app-header-edit-text-color, #fff);\n        }\n        .edit-mode div[main-title] {\n          pointer-events: auto;\n        }\n        paper-tab.iron-selected .edit-icon {\n          display: inline-flex;\n        }\n        .edit-icon {\n          color: var(--accent-color);\n          padding-left: 8px;\n          padding-inline-start: 8px;\n          vertical-align: middle;\n          --mdc-theme-text-disabled-on-light: var(--disabled-text-color);\n          direction: var(--direction);\n        }\n        .edit-icon.view {\n          display: none;\n        }\n        #add-view {\n          position: absolute;\n          height: 44px;\n        }\n        #add-view ha-svg-icon {\n          background-color: var(--accent-color);\n          border-radius: 4px;\n        }\n        app-toolbar a {\n          color: var(--text-primary-color, white);\n        }\n        mwc-button.warning:not([disabled]) {\n          color: var(--error-color);\n        }\n        #view {\n          min-height: calc(\n            100vh - var(--header-height) - env(safe-area-inset-top) -\n              env(safe-area-inset-bottom)\n          );\n          /**\n          * Since we only set min-height, if child nodes need percentage\n          * heights they must use absolute positioning so we need relative\n          * positioning here.\n          *\n          * https://www.w3.org/TR/CSS2/visudet.html#the-height-property\n          */\n          position: relative;\n          display: flex;\n        }\n        /**\n         * In edit mode we have the tab bar on a new line *\n         */\n        .edit-mode #view {\n          min-height: calc(\n            100vh - var(--header-height) - 48px - env(safe-area-inset-top) -\n              env(safe-area-inset-bottom)\n          );\n        }\n        #view > * {\n          /**\n          * The view could get larger than the window in Firefox\n          * to prevent that we set the max-width to 100%\n          * flex-grow: 1 and flex-basis: 100% should make sure the view\n          * stays full width.\n          *\n          * https://github.com/home-assistant/home-assistant-polymer/pull/3806\n          */\n          flex: 1 1 100%;\n          max-width: 100%;\n        }\n        .hide-tab {\n          display: none;\n        }\n        .menu-link {\n          text-decoration: none;\n        }\n        hui-view {\n          background: var(\n            --lovelace-background,\n            var(--primary-background-color)\n          );\n        }\n        .exit-edit-mode {\n          --mdc-theme-primary: var(--app-header-edit-text-color, #fff);\n          --mdc-button-outline-color: var(--app-header-edit-text-color, #fff);\n          --mdc-typography-button-font-size: 14px;\n        }\n        .child-view-icon {\n          opacity: 0.5;\n        }\n      "])))]}}]}}),o.oi);customElements.define("hui-root",nt);var rt,it,ot,at,st=n(12042);function lt(e){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lt(e)}function ct(e){return function(e){if(Array.isArray(e))return xt(e)}(e)||St(e)||Ct(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function dt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ut(o,r,i,a,s,"next",e)}function s(e){ut(o,r,i,a,s,"throw",e)}a(void 0)}))}}function ft(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ht(e,t){return ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ht(e,t)}function pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pt(e);if(t){var i=Pt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vt(this,n)}}function vt(e,t){if(t&&("object"===lt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mt(e)}function mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(){yt=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!gt(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,i[o])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&r.push(l.finisher);var c=l.extras;if(c){for(var u=0;u<c.length;u++)this.addElementPlacement(c[u],t);n.push.apply(n,c)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||St(t)||Ct(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=Et(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_t(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=_t(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function bt(e){var t,n=Et(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function wt(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function gt(e){return e.decorators&&e.decorators.length}function kt(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _t(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function Et(e){var t=function(e,t){if("object"!==lt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===lt(t)?t:String(t)}function Ct(e,t){if(e){if("string"==typeof e)return xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xt(e,t):void 0}}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function St(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function At(e,t,n){return At="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Pt(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},At(e,t,n||e)}function Pt(e){return Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pt(e)}window.loadCardHelpers=function(){return Promise.all([n.e(98762),n.e(97282),n.e(99810),n.e(49686)]).then(n.bind(n,49686))};var Ot="original-states",Tt=!1,jt=!1,Vt=function(e,t,n,r){var i=yt();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t((function(e){i.initializeInstanceElements(e,s.elements)}),n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(kt(o.descriptor)||kt(i.descriptor)){if(gt(o)||gt(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(gt(o)){if(gt(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}wt(o,i)}else t.push(o)}return t}(a.d.map(bt)),e);return i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}(null,(function(e,t){var r,v,m,y=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(r,t);var n=pt(r);function r(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=n.call(this),e(mt(t)),t._closeEditor=t._closeEditor.bind(mt(t)),t}return r}(t);return{F:y,d:[{kind:"field",decorators:[(0,a.Cb)()],key:"panel",value:void 0},{kind:"field",decorators:[(0,a.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,a.Cb)()],key:"narrow",value:void 0},{kind:"field",decorators:[(0,a.Cb)()],key:"route",value:void 0},{kind:"field",decorators:[(0,a.Cb)()],key:"_panelState",value:function(){return"loading"}},{kind:"field",decorators:[(0,a.SB)()],key:"_errorMsg",value:void 0},{kind:"field",decorators:[(0,a.SB)()],key:"lovelace",value:void 0},{kind:"field",key:"_ignoreNextUpdateEvent",value:function(){return!1}},{kind:"field",key:"_fetchConfigOnConnect",value:function(){return!1}},{kind:"field",key:"_unsubUpdates",value:void 0},{kind:"method",key:"connectedCallback",value:function(){At(Pt(y.prototype),"connectedCallback",this).call(this),this.lovelace&&this.hass&&this.lovelace.locale!==this.hass.locale?this._setLovelaceConfig(this.lovelace.config,this.lovelace.rawConfig,this.lovelace.mode):this.lovelace&&"generated"===this.lovelace.mode?(this._panelState="loading",this._regenerateConfig()):this._fetchConfigOnConnect&&this._fetchConfig(!1)}},{kind:"method",key:"disconnectedCallback",value:function(){At(Pt(y.prototype),"disconnectedCallback",this).call(this),null!==this.urlPath&&this._unsubUpdates&&this._unsubUpdates()}},{kind:"method",key:"render",value:function(){var e=this._panelState;return"loaded"===e?(0,o.dy)(rt||(rt=ft(["\n        <hui-root\n          .hass=","\n          .lovelace=","\n          .route=","\n          .narrow=","\n          @config-refresh=","\n        ></hui-root>\n      "])),this.hass,this.lovelace,this.route,this.narrow,this._forceFetchConfig):"error"===e?(0,o.dy)(it||(it=ft(["\n        <hass-error-screen\n          .hass=","\n          title=","\n          .error=","\n        >\n          <mwc-button raised @click=",">\n            ","\n          </mwc-button>\n        </hass-error-screen>\n      "])),this.hass,(0,l.Lh)(this.hass.localize,"lovelace"),this._errorMsg,this._forceFetchConfig,this.hass.localize("ui.panel.lovelace.reload_lovelace")):"yaml-editor"===e?(0,o.dy)(ot||(ot=ft(["\n        <hui-editor\n          .hass=","\n          .lovelace=","\n          .closeEditor=","\n        ></hui-editor>\n      "])),this.hass,this.lovelace,this._closeEditor):(0,o.dy)(at||(at=ft(["\n      <hass-loading-screen\n        rootnav\n        .hass=","\n        .narrow=","\n      ></hass-loading-screen>\n    "])),this.hass,this.narrow)}},{kind:"method",key:"firstUpdated",value:function(e){var t=this;At(Pt(y.prototype),"firstUpdated",this).call(this,e),this._fetchConfig(!1),this._unsubUpdates||this._subscribeUpdates(),window.addEventListener("connection-status",(function(e){"connected"===e.detail&&t._fetchConfig(!1)}))}},{kind:"method",key:"_regenerateConfig",value:(m=dt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,st.to)({hass:this.hass,narrow:this.narrow},Ot);case 2:t=e.sent,this._setLovelaceConfig(t,void 0,"generated"),this._panelState="loaded";case 5:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{kind:"method",key:"_subscribeUpdates",value:(v=dt(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.Gc)(this.hass.connection,this.urlPath,(function(){return t._lovelaceChanged()}));case 2:this._unsubUpdates=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{kind:"method",key:"_closeEditor",value:function(){this._panelState="loaded"}},{kind:"method",key:"_lovelaceChanged",value:function(){var e=this;this._ignoreNextUpdateEvent?this._ignoreNextUpdateEvent=!1:this.isConnected?(0,u.C)(this,{message:this.hass.localize("ui.panel.lovelace.changed_toast.message"),action:{action:function(){return e._fetchConfig(!1)},text:this.hass.localize("ui.common.refresh")},duration:0,dismissable:!1}):this._fetchConfigOnConnect=!0}},{kind:"get",key:"urlPath",value:function(){return"lovelace"===this.panel.url_path?null:this.panel.url_path}},{kind:"method",key:"_forceFetchConfig",value:function(){this._fetchConfig(!0)}},{kind:"method",key:"_fetchConfig",value:(r=dt(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.panel.config.mode,(a=window).llConfProm&&(o=a.llConfProm,a.llConfProm=void 0),jt||(jt=!0,(a.llConfProm||(0,c.eL)(this.hass.connection)).then((function(e){return(0,d.k)(e,s.hass.auth.data.hassUrl)}))),null===this.urlPath&&o||(this.lovelace&&"yaml"===this.lovelace.mode&&(this._ignoreNextUpdateEvent=!0),o=(0,c.Q2)(this.hass.connection,this.urlPath,t)),e.prev=5,e.next=8,o;case 8:if(!(r=e.sent).strategy){e.next=15;break}return e.next=12,(0,st.to)({config:r,hass:this.hass,narrow:this.narrow});case 12:n=e.sent,e.next=16;break;case 15:n=r;case 16:e.next=29;break;case 18:if(e.prev=18,e.t0=e.catch(5),"config_not_found"===e.t0.code){e.next=25;break}return console.log(e.t0),this._panelState="error",this._errorMsg=e.t0.message,e.abrupt("return");case 25:return e.next=27,(0,st.to)({hass:this.hass,narrow:this.narrow},Ot);case 27:n=e.sent,i="generated";case 29:return e.prev=29,this.lovelace&&"yaml"===this.lovelace.mode&&setTimeout((function(){s._ignoreNextUpdateEvent=!1}),2e3),e.finish(29);case 32:this._panelState="yaml-editor"===this._panelState?this._panelState:"loaded",this._setLovelaceConfig(n,r,i);case 34:case"end":return e.stop()}}),e,this,[[5,18,29,32]])}))),function(e){return r.apply(this,arguments)})},{kind:"method",key:"_checkLovelaceConfig",value:function(e){var t=Object.isFrozen(e)?void 0:e;return e.views.forEach((function(n,r){n.badges&&!n.badges.every(Boolean)&&((t=t||Object.assign({},e,{views:ct(e.views)})).views[r]=Object.assign({},n),t.views[r].badges=n.badges.filter(Boolean))})),t?i()(t):e}},{kind:"method",key:"_setLovelaceConfig",value:function(e,t,r){var i=this;e=this._checkLovelaceConfig(e);var o,a,s=this.urlPath;this.lovelace={config:e,rawConfig:t,mode:r,urlPath:this.urlPath,editMode:!!this.lovelace&&this.lovelace.editMode,locale:this.hass.locale,enableFullEditMode:function(){Tt||(Tt=!0,Promise.all([n.e(77426),n.e(74506),n.e(53822),n.e(95912)]).then(n.bind(n,95912))),i._panelState="yaml-editor"},setEditMode:function(e){var t,r;i.lovelace.rawConfig&&i.lovelace.rawConfig!==i.lovelace.config?i.lovelace.enableFullEditMode():e&&"generated"===i.lovelace.mode?(t=i,r={lovelace:i.lovelace,mode:i.panel.config.mode,narrow:i.narrow},p||(p=!0,(0,f.B)(t,"register-dialog",{dialogShowEvent:h,dialogTag:"hui-dialog-save-config",dialogImport:function(){return Promise.all([n.e(85084),n.e(77426),n.e(34821),n.e(53822),n.e(18900),n.e(78082)]).then(n.bind(n,78082))}})),(0,f.B)(t,h,r)):i._updateLovelace({editMode:e})},saveConfig:(a=dt(regeneratorRuntime.mark((function e(t){var n,r,o,a,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.lovelace,r=n.config,o=n.rawConfig,a=n.mode,!(t=i._checkLovelaceConfig(t)).strategy){e.next=8;break}return e.next=5,(0,st.to)({config:t,hass:i.hass,narrow:i.narrow});case 5:l=e.sent,e.next=9;break;case 8:l=t;case 9:return e.prev=9,i._updateLovelace({config:l,rawConfig:t,mode:"storage"}),i._ignoreNextUpdateEvent=!0,e.next=14,(0,c.Oh)(i.hass,s,t);case 14:e.next=21;break;case 16:throw e.prev=16,e.t0=e.catch(9),console.error(e.t0),i._updateLovelace({config:r,rawConfig:o,mode:a}),e.t0;case 21:case"end":return e.stop()}}),e,null,[[9,16]])}))),function(e){return a.apply(this,arguments)}),deleteConfig:(o=dt(regeneratorRuntime.mark((function e(){var t,n,r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.lovelace,n=t.config,r=t.rawConfig,o=t.mode,e.prev=1,e.next=4,(0,st.to)({hass:i.hass,narrow:i.narrow},Ot);case 4:return a=e.sent,i._updateLovelace({config:a,rawConfig:void 0,mode:"generated",editMode:!1}),i._ignoreNextUpdateEvent=!0,e.next=9,(0,c.vj)(i.hass,s);case 9:e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(1),console.error(e.t0),i._updateLovelace({config:n,rawConfig:r,mode:o}),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,11]])}))),function(){return o.apply(this,arguments)})}}},{kind:"method",key:"_updateLovelace",value:function(e){var t,n;this.lovelace=Object.assign({},this.lovelace,e),"editMode"in e&&window.history.replaceState(null,"",(t=e.editMode?(0,s.j4)({edit:"1"}):(0,s.pc)("edit"),n=window.location.pathname,t?n+"?"+t:n))}}]}}),o.oi);customElements.define("ha-panel-lovelace",Vt)},27322:function(e,t,n){"use strict";n.d(t,{R:function(){return r}});var r=function(e,t){return"https://www.iobroker.net/#".concat(e.language&&e.language.split("-")[0]||"en","/adapters/adapterref/iobroker.lovelace/README.md")}}}]);