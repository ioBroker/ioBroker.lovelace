"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[76622],{7323:function(n,e,t){t.d(e,{p:function(){return o}});var o=function(n,e){return n&&n.config.components.includes(e)}},81582:function(n,e,t){t.d(e,{DJ:function(){return o},RQ:function(){return r},iJ:function(){return a},pB:function(){return i}});var o=function(n,e,t){var o={type:"config_entries/subscribe"};return t&&t.type&&(o.type_filter=t.type),n.connection.subscribeMessage((function(n){return e(n)}),o)},i=function(n,e){var t={};return e&&(e.type&&(t.type_filter=e.type),e.domain&&(t.domain=e.domain)),n.callWS(Object.assign({type:"config_entries/get"},t))},r=function(n,e){return n.callWS({type:"config_entries/get_single",entry_id:e})},a=function(n,e){return n.callApi("DELETE","config/config_entries/entry/".concat(e))}},73728:function(n,e,t){t.d(e,{D4:function(){return l},D7:function(){return u},Ky:function(){return c},V3:function(){return h},WW:function(){return g},XO:function(){return s},ZJ:function(){return p},oi:function(){return d}});var o=t(97330),i=t(38346),r=t(5986),a={"HA-Frontend-Base":"".concat(location.protocol,"//").concat(location.host)},c=function(n,e){var t;return n.callApi("POST","config/config_entries/flow",{handler:e,show_advanced_options:Boolean(null===(t=n.userData)||void 0===t?void 0:t.showAdvanced)},a)},l=function(n,e){return n.callApi("GET","config/config_entries/flow/".concat(e),void 0,a)},s=function(n,e,t){return n.callApi("POST","config/config_entries/flow/".concat(e),t,a)},d=function(n,e){return n.callApi("DELETE","config/config_entries/flow/".concat(e))},u=function(n){return n.sendMessagePromise({type:"config_entries/flow/progress"})},f=function(n,e){return n.subscribeEvents((0,i.D)((function(){return u(n).then((function(n){return e.setState(n,!0)}))}),500,!0),"config_entry_discovered")},p=function(n){return(0,o._)(n,"_configFlowProgress",u,f)},h=function(n,e){return p(n.connection).subscribe(e)},g=function(n,e){return e.context.title_placeholders&&0!==Object.keys(e.context.title_placeholders).length?n("component.".concat(e.handler,".config.flow_title"),e.context.title_placeholders)||("name"in e.context.title_placeholders?e.context.title_placeholders.name:(0,r.Lh)(n,e.handler)):(0,r.Lh)(n,e.handler)}},2852:function(n,e,t){t.d(e,{q:function(){return y},t:function(){return _}});var o,i,r,a,c,l,s,d,u,f=t(88962),p=t(99312),h=t(68990),g=t(81043),v=t(68144),b=t(73728),m=t(5986),k=t(52871),y=k.G,_=function(n,e){return(0,k.w)(n,e,{loadDevicesAndAreas:!0,createFlow:(y=(0,g.Z)((0,p.Z)().mark((function n(e,t){var o,i,r;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([(0,b.Ky)(e,t),e.loadBackendTranslation("config",t),e.loadBackendTranslation("selector",t),e.loadBackendTranslation("title",t)]);case 2:return o=n.sent,i=(0,h.Z)(o,1),r=i[0],n.abrupt("return",r);case 6:case"end":return n.stop()}}),n)}))),function(n,e){return y.apply(this,arguments)}),fetchFlow:(t=(0,g.Z)((0,p.Z)().mark((function n(e,t){var o;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,b.D4)(e,t);case 2:return o=n.sent,n.next=5,e.loadBackendTranslation("config",o.handler);case 5:return n.next=7,e.loadBackendTranslation("selector",o.handler);case 7:return n.abrupt("return",o);case 8:case"end":return n.stop()}}),n)}))),function(n,e){return t.apply(this,arguments)}),handleFlowStep:b.XO,deleteFlow:b.oi,renderAbortDescription:function(n,e){var t=n.localize("component.".concat(e.handler,".config.abort.").concat(e.reason),e.description_placeholders);return t?(0,v.dy)(o||(o=(0,f.Z)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),t):""},renderShowFormStepHeader:function(n,e){return n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".title"),e.description_placeholders)||n.localize("component.".concat(e.handler,".title"))},renderShowFormStepDescription:function(n,e){var t=n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".description"),e.description_placeholders);return t?(0,v.dy)(i||(i=(0,f.Z)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),t):""},renderShowFormStepFieldLabel:function(n,e,t){return n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".data.").concat(t.name))},renderShowFormStepFieldHelper:function(n,e,t){var o=n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".data_description.").concat(t.name),e.description_placeholders);return o?(0,v.dy)(r||(r=(0,f.Z)(['<ha-markdown breaks .content="','"></ha-markdown>'])),o):""},renderShowFormStepFieldError:function(n,e,t){return n.localize("component.".concat(e.handler,".config.error.").concat(t),e.description_placeholders)||t},renderShowFormStepFieldLocalizeValue:function(n,e,t){return n.localize("component.".concat(e.handler,".selector.").concat(t))},renderShowFormStepSubmitButton:function(n,e){return n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".submit"))||n.localize("ui.panel.config.integrations.config_flow.".concat(!1===e.last_step?"next":"submit"))},renderExternalStepHeader:function(n,e){return n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".title"))||n.localize("ui.panel.config.integrations.config_flow.external_step.open_site")},renderExternalStepDescription:function(n,e){var t=n.localize("component.".concat(e.handler,".config.").concat(e.step_id,".description"),e.description_placeholders);return(0,v.dy)(a||(a=(0,f.Z)([" <p> "," </p> "," "])),n.localize("ui.panel.config.integrations.config_flow.external_step.description"),t?(0,v.dy)(c||(c=(0,f.Z)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),t):"")},renderCreateEntryDescription:function(n,e){var t=n.localize("component.".concat(e.handler,".config.create_entry.").concat(e.description||"default"),e.description_placeholders);return(0,v.dy)(l||(l=(0,f.Z)([" "," <p> "," </p> "])),t?(0,v.dy)(s||(s=(0,f.Z)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),t):"",n.localize("ui.panel.config.integrations.config_flow.created_config","name",e.title))},renderShowFormProgressHeader:function(n,e){return n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".title"))||n.localize("component.".concat(e.handler,".title"))},renderShowFormProgressDescription:function(n,e){var t=n.localize("component.".concat(e.handler,".config.progress.").concat(e.progress_action),e.description_placeholders);return t?(0,v.dy)(d||(d=(0,f.Z)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),t):""},renderMenuHeader:function(n,e){return n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".title"))||n.localize("component.".concat(e.handler,".title"))},renderMenuDescription:function(n,e){var t=n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".description"),e.description_placeholders);return t?(0,v.dy)(u||(u=(0,f.Z)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),t):""},renderMenuOption:function(n,e,t){return n.localize("component.".concat(e.handler,".config.step.").concat(e.step_id,".menu_options.").concat(t),e.description_placeholders)},renderLoadingDescription:function(n,e,t,o){if("loading_flow"!==e&&"loading_step"!==e)return"";var i=(null==o?void 0:o.handler)||t;return n.localize("ui.panel.config.integrations.config_flow.loading.".concat(e),{integration:i?(0,m.Lh)(n.localize,i):n.localize("ui.panel.config.integrations.config_flow.loading.fallback_title")})}});var t,y}},52871:function(n,e,t){t.d(e,{G:function(){return i},w:function(){return r}});var o=t(47181),i=function(){return Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(79071),t.e(3298),t.e(28597),t.e(2185),t.e(7270),t.e(33829),t.e(52154),t.e(46750),t.e(81312),t.e(59159)]).then(t.bind(t,59159))},r=function(n,e,t){(0,o.B)(n,"show-dialog",{dialogTag:"dialog-data-entry-flow",dialogImport:i,dialogParams:Object.assign(Object.assign({},e),{},{flowConfig:t,dialogParentElement:n})})}},73826:function(n,e,t){t.d(e,{f:function(){return p}});var o=t(40039),i=t(33368),r=t(71650),a=t(82390),c=t(69205),l=t(70906),s=t(91808),d=t(88771),u=t(47838),f=t(79932),p=function(n){var e=(0,s.Z)(null,(function(n,e){var t=function(e){(0,c.Z)(o,e);var t=(0,l.Z)(o);function o(){var e;(0,r.Z)(this,o);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return e=t.call.apply(t,[this].concat(c)),n((0,a.Z)(e)),e}return(0,i.Z)(o)}(e);return{F:t,d:[{kind:"field",decorators:[(0,f.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",key:"hassSubscribeRequiredHostProps",value:void 0},{kind:"field",key:"__unsubs",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,d.Z)((0,u.Z)(t.prototype),"connectedCallback",this).call(this),this.__checkSubscribed()}},{kind:"method",key:"disconnectedCallback",value:function(){if((0,d.Z)((0,u.Z)(t.prototype),"disconnectedCallback",this).call(this),this.__unsubs){for(;this.__unsubs.length;){var n=this.__unsubs.pop();n instanceof Promise?n.then((function(n){return n()})):n()}this.__unsubs=void 0}}},{kind:"method",key:"updated",value:function(n){if((0,d.Z)((0,u.Z)(t.prototype),"updated",this).call(this,n),n.has("hass"))this.__checkSubscribed();else if(this.hassSubscribeRequiredHostProps){var e,i=(0,o.Z)(n.keys());try{for(i.s();!(e=i.n()).done;){var r=e.value;if(this.hassSubscribeRequiredHostProps.includes(r))return void this.__checkSubscribed()}}catch(a){i.e(a)}finally{i.f()}}}},{kind:"method",key:"hassSubscribe",value:function(){return[]}},{kind:"method",key:"__checkSubscribed",value:function(){var n,e=this;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(n=this.hassSubscribeRequiredHostProps)&&void 0!==n&&n.some((function(n){return void 0===e[n]}))||(this.__unsubs=this.hassSubscribe())}}]}}),n);return e}},76622:function(n,e,t){t.r(e);var o,i,r,a,c,l,s,d,u,f,p=t(99312),h=t(81043),g=t(88962),v=t(53709),b=t(40039),m=t(33368),k=t(71650),y=t(82390),_=t(69205),w=t(70906),Z=t(91808),x=t(88771),S=t(47838),z=(t(53918),t(68144)),F=t(79932),A=t(7323),C=t(47181),B=t(85415),L=t(81582),D=t(73728),P=t(5986),I=t(2852),E=t(73826),T=t(72160),O=(t(52039),(0,Z.Z)([(0,F.Mo)("action-badge")],(function(n,e){var t=function(e){(0,_.Z)(o,e);var t=(0,w.Z)(o);function o(){var e;(0,k.Z)(this,o);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r)),n((0,y.Z)(e)),e}return(0,m.Z)(o)}(e);return{F:t,d:[{kind:"field",decorators:[(0,F.Cb)()],key:"icon",value:void 0},{kind:"field",decorators:[(0,F.Cb)()],key:"title",value:void 0},{kind:"field",decorators:[(0,F.Cb)()],key:"badgeIcon",value:void 0},{kind:"field",decorators:[(0,F.Cb)({type:Boolean,reflect:!0})],key:"clickable",value:function(){return!1}},{kind:"method",key:"render",value:function(){return(0,z.dy)(o||(o=(0,g.Z)([' <div class="icon"> <ha-svg-icon .path="','"></ha-svg-icon> ',' </div> <div class="title">',"</div> "])),this.icon,this.badgeIcon?(0,z.dy)(i||(i=(0,g.Z)(['<ha-svg-icon class="badge" .path="','"></ha-svg-icon>'])),this.badgeIcon):"",this.title)}},{kind:"get",static:!0,key:"styles",value:function(){return(0,z.iv)(r||(r=(0,g.Z)([":host{display:inline-flex;flex-direction:column;text-align:center;color:var(--primary-text-color)}:host([clickable]){color:var(--primary-text-color)}.icon{position:relative;box-sizing:border-box;margin:0 auto 8px;height:40px;width:40px;border-radius:50%;border:1px solid var(--secondary-text-color);display:flex;align-items:center;justify-content:center}:host([clickable]) .icon{border-color:var(--primary-color);border-width:2px}.badge{position:absolute;color:var(--primary-color);bottom:-5px;right:-5px;background-color:#fff;border-radius:50%;width:18px;display:block;height:18px}.title{min-height:2.3em;word-break:break-word}"])))}}]}}),z.oi),t(11254)),M=((0,Z.Z)([(0,F.Mo)("integration-badge")],(function(n,e){var t=function(e){(0,_.Z)(o,e);var t=(0,w.Z)(o);function o(){var e;(0,k.Z)(this,o);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r)),n((0,y.Z)(e)),e}return(0,m.Z)(o)}(e);return{F:t,d:[{kind:"field",decorators:[(0,F.Cb)()],key:"domain",value:void 0},{kind:"field",decorators:[(0,F.Cb)()],key:"title",value:void 0},{kind:"field",decorators:[(0,F.Cb)()],key:"badgeIcon",value:void 0},{kind:"field",decorators:[(0,F.Cb)({type:Boolean})],key:"darkOptimizedIcon",value:void 0},{kind:"field",decorators:[(0,F.Cb)({type:Boolean,reflect:!0})],key:"clickable",value:function(){return!1}},{kind:"method",key:"render",value:function(){return(0,z.dy)(a||(a=(0,g.Z)([' <div class="icon"> <img alt="" src="','" referrerpolicy="no-referrer"> ',' </div> <div class="title">',"</div> "])),(0,O.X1)({domain:this.domain,type:"icon",darkOptimized:this.darkOptimizedIcon}),this.badgeIcon?(0,z.dy)(c||(c=(0,g.Z)(['<ha-svg-icon class="badge" .path="','"></ha-svg-icon>'])),this.badgeIcon):"",this.title)}},{kind:"get",static:!0,key:"styles",value:function(){return(0,z.iv)(l||(l=(0,g.Z)([":host{display:inline-flex;flex-direction:column;text-align:center;color:var(--primary-text-color)}:host([clickable]){color:var(--primary-text-color)}img{max-width:100%;max-height:100%}.icon{position:relative;margin:0 auto 8px;height:40px;width:40px;display:flex;align-items:center;justify-content:center}.badge{position:absolute;color:#fff;bottom:-7px;right:-10px;background-color:var(--label-badge-green);border-radius:50%;display:block;--mdc-icon-size:18px;border:2px solid #fff}.title{min-height:2.3em;word-break:break-word}"])))}}]}}),z.oi),new Set(["hassio","met","radio_browser","rpi_power","sun"]));(0,Z.Z)([(0,F.Mo)("onboarding-integrations")],(function(n,e){var t,o,i=function(e){(0,_.Z)(o,e);var t=(0,w.Z)(o);function o(){var e;(0,k.Z)(this,o);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r)),n((0,y.Z)(e)),e}return(0,m.Z)(o)}(e);return{F:i,d:[{kind:"field",decorators:[(0,F.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,F.Cb)()],key:"onboardingLocalize",value:void 0},{kind:"field",decorators:[(0,F.SB)()],key:"_entries",value:function(){return[]}},{kind:"field",decorators:[(0,F.SB)()],key:"_discovered",value:void 0},{kind:"method",key:"hassSubscribe",value:function(){var n=this;return[(0,D.V3)(this.hass,(function(e){n._discovered=e;var t,o=new Set,i=(0,b.Z)(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;r.context.title_placeholders&&o.add(r.handler)}}catch(a){i.e(a)}finally{i.f()}n.hass.loadBackendTranslation("config",Array.from(o))})),(0,L.DJ)(this.hass,(function(e){var t=!1,o=[];if(e.forEach((function(e){if(null===e.type||"added"===e.type){if(M.has(e.entry.domain))return;o.push(e.entry),null===e.type&&(t=!0)}else if("removed"===e.type)n._entries=n._entries.filter((function(n){return n.entry_id!==e.entry.entry_id}));else if("updated"===e.type){if(M.has(e.entry.domain))return;var i=e.entry;n._entries=n._entries.map((function(n){return n.entry_id===i.entry_id?i:n}))}})),o.length||t){var i=t?[]:n._entries;n._entries=[].concat((0,v.Z)(i),o)}}),{type:["device","hub","service"]})]}},{kind:"method",key:"render",value:function(){var n=this;if(!this._discovered)return z.Ld;var e=this._entries.map((function(e){var t,o=e.title||(0,P.Lh)(n.hass.localize,e.domain)||e.domain;return[o,(0,z.dy)(s||(s=(0,g.Z)([' <integration-badge .domain="','" .title="','" .badgeIcon="','" .darkOptimizedIcon="','"></integration-badge> '])),e.domain,o,"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",null===(t=n.hass.themes)||void 0===t?void 0:t.darkMode)]})),t=this._discovered.map((function(e){var t,o=(0,D.WW)(n.hass.localize,e);return[o,(0,z.dy)(d||(d=(0,g.Z)([' <button .flowId="','" @click="','"> <integration-badge clickable .domain="','" .title="','" .darkOptimizedIcon="','"></integration-badge> </button> '])),e.flow_id,n._continueFlow,e.handler,o,null===(t=n.hass.themes)||void 0===t?void 0:t.darkMode)]})),o=[].concat((0,v.Z)(e),(0,v.Z)(t)).sort((function(e,t){return(0,B.$)(e[0],t[0],n.hass.locale.language)})).map((function(n){return n[1]}));return(0,z.dy)(u||(u=(0,g.Z)([" <p> ",' </p> <div class="badges"> ',' <button @click="','"> <action-badge clickable title="','" .icon="','"></action-badge> </button> </div> <div class="footer"> <mwc-button @click="','"> '," </mwc-button> </div> "])),this.onboardingLocalize("ui.panel.page-onboarding.integration.intro"),o,this._createFlow,this.onboardingLocalize("ui.panel.page-onboarding.integration.more_integrations"),"M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z",this._finish,this.onboardingLocalize("ui.panel.page-onboarding.integration.finish"))}},{kind:"method",key:"firstUpdated",value:function(n){(0,x.Z)((0,S.Z)(i.prototype),"firstUpdated",this).call(this,n),this.hass.loadBackendTranslation("title",void 0,!0),this._scanUSBDevices(),(0,I.q)()}},{kind:"method",key:"_createFlow",value:function(){(0,T.E)(this)}},{kind:"method",key:"_continueFlow",value:function(n){var e=this;(0,I.t)(this,{continueFlowId:n.currentTarget.flowId,dialogClosedCallback:function(){(0,D.ZJ)(e.hass.connection).refresh()}})}},{kind:"method",key:"_scanUSBDevices",value:(o=(0,h.Z)((0,p.Z)().mark((function n(){return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((0,A.p)(this.hass,"usb")){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,this.hass.callWS({type:"usb/scan"});case 4:case"end":return n.stop()}}),n,this)}))),function(){return o.apply(this,arguments)})},{kind:"method",key:"_finish",value:(t=(0,h.Z)((0,p.Z)().mark((function n(){return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(0,C.B)(this,"onboarding-step",{type:"integration"});case 1:case"end":return n.stop()}}),n,this)}))),function(){return t.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return(0,z.iv)(f||(f=(0,g.Z)([".badges{margin-top:24px;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;align-items:flex-start}.badges>*{width:96px;margin-bottom:24px}button{cursor:pointer;padding:0;border:0;background:0;font:inherit}.footer{text-align:right}"])))}}]}}),(0,E.f)(z.oi))},72160:function(n,e,t){t.d(e,{E:function(){return i},u:function(){return r}});var o=t(47181),i=function(n,e){(0,o.B)(n,"show-dialog",{dialogTag:"dialog-add-integration",dialogImport:function(){return Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(79071),t.e(63436),t.e(28597),t.e(52154),t.e(81480),t.e(75814)]).then(t.bind(t,92205))},dialogParams:e})},r=function(n,e){(0,o.B)(n,"show-dialog",{dialogTag:"dialog-yaml-integration",dialogImport:function(){return t.e(64348).then(t.bind(t,64348))},dialogParams:e})}},11254:function(n,e,t){t.d(e,{X1:function(){return o},u4:function(){return i},zC:function(){return r}});var o=function(n){return"https://brands.home-assistant.io/".concat(n.brand?"brands/":"").concat(n.useFallback?"_/":"").concat(n.domain,"/").concat(n.darkOptimized?"dark_":"").concat(n.type,".png")},i=function(n){return n.split("/")[4]},r=function(n){return n.startsWith("https://brands.home-assistant.io/")}}}]);
//# sourceMappingURL=76622-JjJjpOkRxlo.js.map