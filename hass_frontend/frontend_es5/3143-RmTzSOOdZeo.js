"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[3143],{6229:function(t,e,n){n.d(e,{I2:function(){return h},Hh:function(){return l},tD:function(){return f}});var r=n(56007),a=n(73059),i=n(22134),o=n(83447),c=n(58831),s=n(39197),u=new Set(["alarm_control_panel","alert","automation","binary_sensor","calendar","camera","climate","cover","device_tracker","fan","group","humidifier","input_boolean","light","lock","media_player","person","plant","remote","schedule","script","siren","sun","switch","timer","update","vacuum"]),l=function(t,e){if((void 0!==e?e:null==t?void 0:t.state)===r.nZ)return"var(--state-unavailable-color)";var n=f(t,e);return n?(0,i.I)(n):void 0},d=function(t,e,n){var r=void 0!==n?n:e.state,a=(0,s.v)(e,n),i=[],c=(0,o.l)(r,"_"),u=a?"active":"inactive",l=e.attributes.device_class;return l&&i.push("--state-".concat(t,"-").concat(l,"-").concat(c,"-color")),i.push("--state-".concat(t,"-").concat(c,"-color"),"--state-".concat(t,"-").concat(u,"-color"),"--state-".concat(u,"-color")),i},f=function(t,e){var n=void 0!==e?e:null==t?void 0:t.state,r=(0,c.M)(t.entity_id),i=t.attributes.device_class;if("sensor"===r&&"battery"===i){var o=function(t){var e=Number(t);if(!isNaN(e))return e>=70?"--state-sensor-battery-high-color":e>=30?"--state-sensor-battery-medium-color":"--state-sensor-battery-low-color"}(n);if(o)return[o]}if("group"===r){var s=(0,a.W)(t);if(s&&u.has(s))return d(s,t,e)}if(u.has(r))return d(r,t,e)},h=function(t){if(t.attributes.brightness&&"plant"!==(0,c.M)(t.entity_id)){var e=t.attributes.brightness;return"brightness(".concat((e+245)/5,"%)")}return""}},83447:function(t,e,n){n.d(e,{l:function(){return r}});var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_",n="àáäâãåăæąçćčđďèéěėëêęğǵḧìíïîįłḿǹńňñòóöôœøṕŕřßşśšșťțùúüûǘůűūųẃẍÿýźžż·/_,:;",r="aaaaaaaaacccddeeeeeeegghiiiiilmnnnnooooooprrsssssttuuuuuuuuuwxyyzzz".concat(e).concat(e).concat(e).concat(e).concat(e).concat(e),a=new RegExp(n.split("").join("|"),"g");return t.toString().toLowerCase().replace(/\s+/g,e).replace(a,(function(t){return r.charAt(n.indexOf(t))})).replace(/&/g,"".concat(e,"and").concat(e)).replace(/[^\w-]+/g,"").replace(/-/g,e).replace(new RegExp("(".concat(e,")\\1+"),"g"),"$1").replace(new RegExp("^".concat(e,"+")),"").replace(new RegExp("".concat(e,"+$")),"")}},52797:function(t,e,n){n.d(e,{N:function(){return i}});var r,a=n(88962),i=(0,n(68144).iv)(r||(r=(0,a.Z)(["ha-state-icon[data-domain=alarm_control_panel][data-state=arming],ha-state-icon[data-domain=alarm_control_panel][data-state=pending],ha-state-icon[data-domain=alarm_control_panel][data-state=triggered],ha-state-icon[data-domain=lock][data-state=jammed]{animation:pulse 1s infinite}@keyframes pulse{0%{opacity:1}50%{opacity:0}100%{opacity:1}}ha-state-icon[data-state=unavailable]{color:var(--state-unavailable-color)}"])))},43426:function(t,e,n){if(n.d(e,{U:function(){return o}}),98818!=n.j)var r=n(99312);if(98818!=n.j)var a=n(81043);var i,o=98818!=n.j?(i=(0,a.Z)((0,r.Z)().mark((function t(e,n,a,i,o){var c,s,u,l,d,f,h=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(c=h.length,s=new Array(c>5?c-5:0),u=5;u<c;u++)s[u-5]=h[u];if((l=i[e])||(l=i[e]={}),!(d=l[o])){t.next=6;break}return t.abrupt("return",d);case 6:return f=a.apply(void 0,[i,o].concat(s)),l[o]=f,f.then((function(){return setTimeout((function(){l[o]=void 0}),n)}),(function(){l[o]=void 0})),t.abrupt("return",f);case 10:case"end":return t.stop()}}),t)}))),function(t,e,n,r,a){return i.apply(this,arguments)}):null},3143:function(t,e,n){var r,a,i,o=n(76775),c=n(88962),s=n(33368),u=n(71650),l=n(82390),d=n(69205),f=n(70906),h=n(91808),v=n(34541),p=n(47838),b=n(68144),y=n(79932),_=n(30153),g=n(47501),m=n(58831),k=n(22311),E=n(6229),w=n(52797),Z=n(89439),I=n(74674),T=(n(87037),(0,h.Z)(null,(function(t,e){var n=function(e){(0,d.Z)(r,e);var n=(0,f.Z)(r);function r(){var e;(0,u.Z)(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return e=n.call.apply(n,[this].concat(i)),t((0,l.Z)(e)),e}return(0,s.Z)(r)}(e);return{F:n,d:[{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,y.Cb)()],key:"stateObj",value:void 0},{kind:"field",decorators:[(0,y.Cb)()],key:"overrideIcon",value:void 0},{kind:"field",decorators:[(0,y.Cb)()],key:"overrideImage",value:void 0},{kind:"field",decorators:[(0,y.Cb)({type:Boolean})],key:"stateColor",value:void 0},{kind:"field",decorators:[(0,y.Cb)()],key:"color",value:void 0},{kind:"field",decorators:[(0,y.Cb)({type:Boolean,reflect:!0,attribute:"icon"})],key:"_showIcon",value:function(){return!0}},{kind:"field",decorators:[(0,y.SB)()],key:"_iconStyle",value:function(){return{}}},{kind:"method",key:"connectedCallback",value:function(){var t,e;(0,v.Z)((0,p.Z)(n.prototype),"connectedCallback",this).call(this),this.hasUpdated&&void 0===this.overrideImage&&(null!==(t=this.stateObj)&&void 0!==t&&t.attributes.entity_picture||null!==(e=this.stateObj)&&void 0!==e&&e.attributes.entity_picture_local)&&this.requestUpdate("stateObj")}},{kind:"method",key:"disconnectedCallback",value:function(){var t,e;(0,v.Z)((0,p.Z)(n.prototype),"disconnectedCallback",this).call(this),void 0===this.overrideImage&&(null!==(t=this.stateObj)&&void 0!==t&&t.attributes.entity_picture||null!==(e=this.stateObj)&&void 0!==e&&e.attributes.entity_picture_local)&&(this.style.backgroundImage="")}},{kind:"get",key:"_stateColor",value:function(){var t=this.stateObj?(0,k.N)(this.stateObj):void 0;return this.stateColor||"light"===t&&!1!==this.stateColor}},{kind:"method",key:"render",value:function(){var t=this.stateObj;if(!t&&!this.overrideIcon&&!this.overrideImage)return(0,b.dy)(r||(r=(0,c.Z)(['<div class="missing"> <ha-svg-icon .path="','"></ha-svg-icon> </div>'])),"M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z");if(!this._showIcon)return b.Ld;var e=t?(0,k.N)(t):void 0;return(0,b.dy)(a||(a=(0,c.Z)(['<ha-state-icon style="','" data-domain="','" data-state="','" .icon="','" .state="','"></ha-state-icon>'])),(0,g.V)(this._iconStyle),(0,_.o)(e),(0,_.o)(null==t?void 0:t.state),this.overrideIcon,t)}},{kind:"method",key:"willUpdate",value:function(t){if((0,v.Z)((0,p.Z)(n.prototype),"willUpdate",this).call(this,t),t.has("stateObj")||t.has("overrideImage")||t.has("overrideIcon")||t.has("stateColor")||t.has("color")){var e=this.stateObj,r={},a={backgroundImage:""};if(this._showIcon=!0,e&&void 0===this.overrideImage)if(!e.attributes.entity_picture_local&&!e.attributes.entity_picture||this.overrideIcon){if(this.color)r.color=this.color;else if(this._stateColor){var i=(0,E.Hh)(e);if(i&&(r.color=i),e.attributes.rgb_color&&(r.color="rgb(".concat(e.attributes.rgb_color.join(","),")")),e.attributes.brightness){var c=e.attributes.brightness;if("number"!=typeof c){var s="Type error: state-badge expected number, but type of ".concat(e.entity_id,".attributes.brightness is ").concat((0,o.Z)(c)," (").concat(c,")");console.warn(s)}r.filter=(0,E.I2)(e)}if(e.attributes.hvac_action){var u=e.attributes.hvac_action;u in I.cH?r.color=(0,E.Hh)(e,I.cH[u]):delete r.color}}}else{var l=e.attributes.entity_picture_local||e.attributes.entity_picture;this.hass&&(l=this.hass.hassUrl(l)),"camera"===(0,m.M)(e.entity_id)&&(l=(0,Z.Ch)(l,80,80)),a.backgroundImage="url(".concat(l,")"),this._showIcon=!1}else if(this.overrideImage){var d=this.overrideImage;this.hass&&(d=this.hass.hassUrl(d)),a.backgroundImage="url(".concat(d,")"),this._showIcon=!1}this._iconStyle=r,Object.assign(this.style,a)}}},{kind:"get",static:!0,key:"styles",value:function(){return[w.N,(0,b.iv)(i||(i=(0,c.Z)([":host{position:relative;display:inline-block;width:40px;color:var(--paper-item-icon-color,#44739e);border-radius:50%;height:40px;text-align:center;background-size:cover;line-height:40px;vertical-align:middle;box-sizing:border-box;--state-inactive-color:initial}:host(:focus){outline:0}:host(:not([icon]):focus){border:2px solid var(--divider-color)}:host([icon]:focus){background:var(--divider-color)}ha-state-icon{transition:color .3s ease-in-out,filter .3s ease-in-out}.missing{color:#fce588}"])))]}}]}}),b.oi));customElements.define("state-badge",T)},89439:function(t,e,n){if(n.d(e,{B:function(){return w},Ch:function(){return v},Lr:function(){return _},Mw:function(){return k},Xn:function(){return m},i4:function(){return b},jU:function(){return h},kU:function(){return f},nk:function(){return p},qW:function(){return d},sF:function(){return l},tb:function(){return g},zj:function(){return Z}}),98818!=n.j)var r=n(99312);if(98818!=n.j)var a=n(81043);if(98818!=n.j)var i=n(43426);var o,c,s,u=n(22814),l=98818!=n.j?[1,2,3,4,6,8]:null,d=2,f="hls",h="web_rtc",v=function(t,e,n){return"".concat(t,"&width=").concat(e,"&height=").concat(n)},p=function(t){return"/api/camera_proxy_stream/".concat(t.entity_id,"?token=").concat(t.attributes.access_token)},b=98818!=n.j?(o=(0,a.Z)((0,r.Z)().mark((function t(e,n,a,o){var c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.U)("_cameraTmbUrl",9e3,y,e,n);case 2:return c=t.sent,t.abrupt("return",v(c,a,o));case 4:case"end":return t.stop()}}),t)}))),function(t,e,n,r){return o.apply(this,arguments)}):null,y=98818!=n.j?(c=(0,a.Z)((0,r.Z)().mark((function t(e,n){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.iI)(e,"/api/camera_proxy/".concat(n));case 2:return a=t.sent,t.abrupt("return",e.hassUrl(a.path));case 4:case"end":return t.stop()}}),t)}))),function(t,e){return c.apply(this,arguments)}):null,_=98818!=n.j?(s=(0,a.Z)((0,r.Z)().mark((function t(e,n,a){var i,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={type:"camera/stream",entity_id:n},a&&(i.format=a),t.next=4,e.callWS(i);case 4:return(o=t.sent).url=e.hassUrl(o.url),t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)}))),function(t,e,n){return s.apply(this,arguments)}):null,g=function(t,e,n){return t.callWS({type:"camera/web_rtc_offer",entity_id:e,offer:n})},m=function(t,e){return t.callWS({type:"camera/get_prefs",entity_id:e})},k=function(t,e,n){return t.callWS(Object.assign({type:"camera/update_prefs",entity_id:e},n))},E="media-source://camera/",w=function(t){return t.startsWith(E)},Z=function(t){return t.substring(22)}},74674:function(t,e,n){n.d(e,{T1:function(){return r},ZS:function(){return o},cH:function(){return c},pi:function(){return a}});var r="none",a=function(t){return t[t.TARGET_TEMPERATURE=1]="TARGET_TEMPERATURE",t[t.TARGET_TEMPERATURE_RANGE=2]="TARGET_TEMPERATURE_RANGE",t[t.TARGET_HUMIDITY=4]="TARGET_HUMIDITY",t[t.FAN_MODE=8]="FAN_MODE",t[t.PRESET_MODE=16]="PRESET_MODE",t[t.SWING_MODE=32]="SWING_MODE",t[t.AUX_HEAT=64]="AUX_HEAT",t}({}),i={auto:1,heat_cool:2,heat:3,cool:4,dry:5,fan_only:6,off:7},o=function(t,e){return i[t]-i[e]},c={cooling:"cool",drying:"dry",fan:"fan_only",preheating:"heat",heating:"heat",idle:"off",off:"off"}},73059:function(t,e,n){n.d(e,{W:function(){return i}});var r=n(53709),a=n(58831),i=function(t){var e=t.attributes.entity_id||[],n=(0,r.Z)(new Set(e.map((function(t){return(0,a.M)(t)}))));return 1===n.length?n[0]:void 0}},22134:function(t,e,n){if(n.d(e,{I:function(){return a},g:function(){return i}}),98818!=n.j)var r=n(40039);function a(t){return Array.isArray(t)?t.reverse().reduce((function(t,e){return"var(".concat(e).concat(t?", ".concat(t):"",")")}),void 0):"var(".concat(t,")")}function i(t,e){if(Array.isArray(t)){var n,a=(0,r.Z)(t);try{for(a.s();!(n=a.n()).done;){var o=i(n.value,e);if(o)return o}}catch(c){a.e(c)}finally{a.f()}}else if(t.endsWith("-color"))return e.getPropertyValue(t).trim()||void 0}}}]);
//# sourceMappingURL=3143-RmTzSOOdZeo.js.map