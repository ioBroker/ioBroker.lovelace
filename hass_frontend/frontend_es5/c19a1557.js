"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[49686],{55422:function(e,t,n){n.d(t,{jV:function(){return d},sS:function(){return m},Yc:function(){return h},tf:function(){return p},o1:function(){return g},hb:function(){return v},ri:function(){return w},MY:function(){return y}});var r=n(49706),i=n(58831),c=n(55816),a=n(22311),o=n(56007);function u(e,t,n,r,i,c,a){try{var o=e[c](a),u=o.value}catch(s){return void n(s)}o.done?t(u):Promise.resolve(u).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var c=e.apply(t,n);function a(e){u(c,r,i,a,o,"next",e)}function o(e){u(c,r,i,a,o,"throw",e)}a(void 0)}))}}var l="ui.components.logbook.messages",d=["counter","proximity","sensor","zone"],f={"numeric state of":"triggered_by_numeric_state_of","state of":"triggered_by_state_of",event:"triggered_by_event",time:"triggered_by_time","time pattern":"triggered_by_time_pattern","ioBroker stopping":"triggered_by_homeassistant_stopping","ioBroker starting":"triggered_by_homeassistant_starting"},_={},m=function(){var e=s(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadBackendTranslation("device_class");case 2:return e.abrupt("return",b(t,n,void 0,void 0,r));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),b=function(e,t,n,r,i,c){if((r||c)&&(!r||0===r.length)&&(!c||0===c.length))return Promise.resolve([]);var a={type:"logbook/get_events",start_time:t};return n&&(a.end_time=n),null!=r&&r.length&&(a.entity_ids=r),null!=c&&c.length&&(a.device_ids=c),i&&(a.context_id=i),e.callWS(a)},h=function(e,t,n,r,i,c){if((i||c)&&(!i||0===i.length)&&(!c||0===c.length))return Promise.reject("No entities or devices");var a={type:"logbook/event_stream",start_time:n,end_time:r};return null!=i&&i.length&&(a.entity_ids=i),null!=c&&c.length&&(a.device_ids=c),e.connection.subscribeMessage((function(e){return t(e)}),a)},p=function(e,t){_["".concat(e).concat(t)]={}},g=function(e,t){return{entity_id:e.entity_id,state:t,attributes:{device_class:null==e?void 0:e.attributes.device_class,source_type:null==e?void 0:e.attributes.source_type,has_date:null==e?void 0:e.attributes.has_date,has_time:null==e?void 0:e.attributes.has_time,entity_picture_local:r.iY.has((0,i.M)(e.entity_id))||null==e?void 0:e.attributes.entity_picture_local,entity_picture:r.iY.has((0,i.M)(e.entity_id))||null==e?void 0:e.attributes.entity_picture}}},v=function(e,t){for(var n in f)if(t.startsWith(n))return t.replace(n,"".concat(e("ui.components.logbook.".concat(f[n]))));return t},w=function(e,t,n,i,a){switch(a){case"device_tracker":case"person":return"not_home"===n?t("".concat(l,".was_away")):"home"===n?t("".concat(l,".was_at_home")):t("".concat(l,".was_at_state"),"state",n);case"sun":return t("".concat(l,"above_horizon"===n?".rose":".set"));case"binary_sensor":var u=n===r.uo,s=n===r.lC,d=i.attributes.device_class;switch(d){case"battery":if(u)return t("".concat(l,".was_low"));if(s)return t("".concat(l,".was_normal"));break;case"connectivity":if(u)return t("".concat(l,".was_connected"));if(s)return t("".concat(l,".was_disconnected"));break;case"door":case"garage_door":case"opening":case"window":if(u)return t("".concat(l,".was_opened"));if(s)return t("".concat(l,".was_closed"));break;case"lock":if(u)return t("".concat(l,".was_unlocked"));if(s)return t("".concat(l,".was_locked"));break;case"plug":if(u)return t("".concat(l,".was_plugged_in"));if(s)return t("".concat(l,".was_unplugged"));break;case"presence":if(u)return t("".concat(l,".was_at_home"));if(s)return t("".concat(l,".was_away"));break;case"safety":if(u)return t("".concat(l,".was_unsafe"));if(s)return t("".concat(l,".was_safe"));break;case"cold":case"gas":case"heat":case"moisture":case"motion":case"occupancy":case"power":case"problem":case"smoke":case"sound":case"vibration":if(u)return t("".concat(l,".detected_device_class"),{device_class:t("component.binary_sensor.device_class.".concat(d))});if(s)return t("".concat(l,".cleared_device_class"),{device_class:t("component.binary_sensor.device_class.".concat(d))});break;case"tamper":if(u)return t("".concat(l,".detected_tampering"));if(s)return t("".concat(l,".cleared_tampering"))}break;case"cover":switch(n){case"open":return t("".concat(l,".was_opened"));case"opening":return t("".concat(l,".is_opening"));case"closing":return t("".concat(l,".is_closing"));case"closed":return t("".concat(l,".was_closed"))}break;case"lock":if("unlocked"===n)return t("".concat(l,".was_unlocked"));if("locked"===n)return t("".concat(l,".was_locked"))}return n===r.uo?t("".concat(l,".turned_on")):n===r.lC?t("".concat(l,".turned_off")):o.V_.includes(n)?t("".concat(l,".became_unavailable")):e.localize("".concat(l,".changed_to_state"),"state",i?(0,c.D)(t,i,e.locale,n):n)},y=function(e){return"sensor"!==(0,a.N)(e)||void 0===e.attributes.unit_of_measurement&&void 0===e.attributes.state_class}},79339:function(e,t,n){n.d(t,{kh:function(){return o},oA:function(){return u},z9:function(){return s},l:function(){return l},tm:function(){return d},PG:function(){return _},Fb:function(){return m}});var r=n(7323),i=n(58831),c=n(55422),a=n(75692),o=["camera","configurator","weather"],u=["scene","automation"],s=["script"],l=["alarm_control_panel","automation","camera","climate","configurator","counter","cover","fan","group","humidifier","input_datetime","light","lock","media_player","person","remote","script","scene","sun","timer","update","vacuum","water_heater","weather"],d=["input_number","input_select","input_text","number","scene","update","select"],f=["camera","configurator"],_=function(e,t){if("weather"===(0,i.M)(t)){var n=e.states[t];if(n&&(0,a.M0)(n.state))return!1}return(0,r.p)(e,"history")&&!f.includes((0,i.M)(t))},m=function(e,t){if(!(0,r.p)(e,"logbook"))return!1;var n=e.states[t];if(!n||n.attributes.unit_of_measurement)return!1;var a=(0,i.M)(t);return!c.jV.includes(a)&&!f.includes(a)}},82791:function(e,t,n){n.d(t,{S:function(){return a},n3:function(){return o},ST:function(){return u}});var r=n(79339),i=n(22311),c={alarm_control_panel:function(){return Promise.all([n.e(29563),n.e(98985),n.e(3555),n.e(79116)]).then(n.bind(n,79116))},automation:function(){return n.e(35513).then(n.bind(n,35513))},camera:function(){return n.e(14920).then(n.bind(n,14920))},climate:function(){return Promise.all([n.e(29563),n.e(88278),n.e(86630),n.e(9823)]).then(n.bind(n,9823))},configurator:function(){return Promise.all([n.e(29563),n.e(98985),n.e(3555),n.e(4940),n.e(8793)]).then(n.bind(n,70375))},counter:function(){return n.e(6850).then(n.bind(n,6850))},cover:function(){return Promise.all([n.e(46583),n.e(31811),n.e(69448),n.e(97148)]).then(n.bind(n,97148))},fan:function(){return Promise.all([n.e(29563),n.e(88278),n.e(86630),n.e(46583),n.e(31811),n.e(947)]).then(n.bind(n,947))},group:function(){return Promise.all([n.e(29563),n.e(98985),n.e(88278),n.e(3555),n.e(86630),n.e(69448),n.e(65992),n.e(35794),n.e(3545)]).then(n.bind(n,39902))},humidifier:function(){return Promise.all([n.e(29563),n.e(88278),n.e(86630),n.e(35317)]).then(n.bind(n,35317))},input_datetime:function(){return Promise.all([n.e(29563),n.e(98985),n.e(88278),n.e(3555),n.e(86630),n.e(12545),n.e(74329),n.e(56127)]).then(n.bind(n,56127))},light:function(){return Promise.all([n.e(29563),n.e(88278),n.e(86630),n.e(46583),n.e(31811),n.e(36016)]).then(n.bind(n,36016))},lock:function(){return Promise.all([n.e(29563),n.e(98985),n.e(3555),n.e(46583),n.e(31811),n.e(50534)]).then(n.bind(n,50534))},media_player:function(){return Promise.all([n.e(29563),n.e(88278),n.e(86630),n.e(46684)]).then(n.bind(n,46684))},person:function(){return Promise.all([n.e(46583),n.e(31811),n.e(23956),n.e(95993)]).then(n.bind(n,95993))},remote:function(){return Promise.all([n.e(46583),n.e(31811),n.e(6907)]).then(n.bind(n,6907))},script:function(){return n.e(71593).then(n.bind(n,71593))},sun:function(){return n.e(66369).then(n.bind(n,66369))},timer:function(){return Promise.all([n.e(46583),n.e(31811),n.e(69491)]).then(n.bind(n,69491))},update:function(){return Promise.all([n.e(41985),n.e(62744),n.e(4940),n.e(44222)]).then(n.bind(n,27894))},vacuum:function(){return Promise.all([n.e(29563),n.e(88278),n.e(86630),n.e(46583),n.e(31811),n.e(31790)]).then(n.bind(n,31790))},water_heater:function(){return Promise.all([n.e(29563),n.e(88278),n.e(86630),n.e(52994)]).then(n.bind(n,52994))},weather:function(){return n.e(8914).then(n.bind(n,8914))}},a=function(e){var t=(0,i.N)(e);return o(t)},o=function(e){return r.l.includes(e)?e:r.tm.includes(e)?"hidden":"default"},u=function(e){e in c&&c[e]()}},83320:function(e,t,n){n.d(t,{w:function(){return c}});n(7355),n(26602),n(93479),n(51432),n(73089),n(8864),n(17875);var r=n(7778),i=new Set(["conditional","icon","image","service-button","state-badge","state-icon","state-label"]),c=function(e){return(0,r.Tw)("element",e,i)}},49686:function(e,t,n){n.r(t),n.d(t,{importMoreInfoControl:function(){return r.ST},createBadgeElement:function(){return i.J},createCardElement:function(){return c.Z6},createHeaderFooterElement:function(){return a.t},createHuiElement:function(){return o.w},createRowElement:function(){return u.m}});var r=n(82791),i=n(89172),c=n(51153),a=n(89026),o=n(83320),u=n(37482)}}]);