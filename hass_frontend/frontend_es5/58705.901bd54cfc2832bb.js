"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["58705"],{10685:function(e,s,a){a.r(s),a.d(s,{CloudForgotPassword:()=>f});var o=a(61701),t=(a(71695),a(40251),a(47021),a(57243)),r=a(50778),i=a(36522),n=(a(29095),a(99426),a(54977),a(83166),a(94616)),d=(a(87979),a(28008));let l,c,u,h=e=>e,f=(0,o.Z)([(0,r.Mo)("cloud-forgot-password")],(function(e,s){return{F:class extends s{constructor(...s){super(...s),e(this)}},d:[{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"narrow",value(){return!1}},{kind:"field",decorators:[(0,r.Cb)()],key:"email",value:void 0},{kind:"field",decorators:[(0,r.SB)()],key:"_requestInProgress",value(){return!1}},{kind:"field",decorators:[(0,r.SB)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,r.IO)("#email",!0)],key:"_emailField",value:void 0},{kind:"method",key:"render",value:function(){return(0,t.dy)(l||(l=h` <hass-subpage .hass="${0}" .narrow="${0}" .header="${0}"> <div class="content"> <ha-card outlined .header="${0}"> <div class="card-content"> <p> ${0} </p> ${0} <ha-textfield autofocus id="email" label="${0}" .value="${0}" type="email" required @keydown="${0}" .validationMessage="${0}"></ha-textfield> </div> <div class="card-actions"> <ha-progress-button @click="${0}" .progress="${0}"> ${0} </ha-progress-button> </div> </ha-card> </div> </hass-subpage> `),this.hass,this.narrow,this.hass.localize("ui.panel.config.cloud.forgot_password.title"),this.hass.localize("ui.panel.config.cloud.forgot_password.subtitle"),this.hass.localize("ui.panel.config.cloud.forgot_password.instructions"),this._error?(0,t.dy)(c||(c=h`<ha-alert alert-type="error">${0}</ha-alert>`),this._error):"",this.hass.localize("ui.panel.config.cloud.forgot_password.email"),this.email,this._keyDown,this.hass.localize("ui.panel.config.cloud.forgot_password.email_error_msg"),this._handleEmailPasswordReset,this._requestInProgress,this.hass.localize("ui.panel.config.cloud.forgot_password.send_reset_email"))}},{kind:"method",key:"_keyDown",value:function(e){"Enter"===e.key&&this._handleEmailPasswordReset()}},{kind:"method",key:"_handleEmailPasswordReset",value:async function(){const e=this._emailField,s=e.value;if(!e.reportValidity())return void e.focus();this._requestInProgress=!0;const a=async e=>{try{await(0,n.u_)(this.hass,e),(0,i.B)(this,"email-changed",{value:e}),this._requestInProgress=!1,(0,i.B)(this,"cloud-done",{flashMessage:this.hass.localize("ui.panel.config.cloud.forgot_password.check_your_email")})}catch(s){this._requestInProgress=!1;"usernotfound"===(s&&s.body&&s.body.code)&&e!==e.toLowerCase()?await a(e.toLowerCase()):this._error=s&&s.body&&s.body.message?s.body.message:"Unknown error"}};await a(s)}},{kind:"get",static:!0,key:"styles",value:function(){return[d.Qx,(0,t.iv)(u||(u=h`.content{padding-bottom:24px}ha-card{max-width:600px;margin:0 auto;margin-top:24px}h1{margin:0}ha-textfield{width:100%}.card-actions{display:flex;justify-content:space-between;align-items:center}.card-actions a{color:var(--primary-text-color)}`))]}}]}}),t.oi)}}]);
//# sourceMappingURL=58705.901bd54cfc2832bb.js.map