{"version":3,"sources":["webpack:///./src/common/entity/compute_state_name.ts","webpack:///./src/common/entity/domain_icon.ts","webpack:///./src/components/ha-icon.ts","webpack:///./src/common/entity/compute_object_id.ts","webpack:///./src/common/util/debounce.ts","webpack:///./src/common/entity/sensor_icon.ts","webpack:///./src/common/entity/state_icon.ts","webpack:///./src/common/entity/binary_sensor_icon.ts","webpack:///./src/common/entity/cover_icon.ts","webpack:///./src/common/entity/input_dateteime_icon.ts","webpack:///./src/components/ha-switch.ts","webpack:///./src/data/entity_registry.ts","webpack:///./src/common/search/search-input.ts","webpack:///./src/common/util/render-status.ts","webpack:///./src/components/data-table/sort_filter_worker.ts","webpack:///./src/components/ha-checkbox.ts","webpack:///./src/components/data-table/ha-data-table.ts","webpack:///./src/panels/config/entity_registry/show-dialog-entity-registry-detail.ts","webpack:///./src/panels/config/entity_registry/ha-config-entity-registry.ts"],"names":["computeStateName","stateObj","undefined","attributes","friendly_name","computeObjectId","entity_id","replace","fixedIcons","alert","alexa","automation","calendar","camera","climate","configurator","conversation","counter","device_tracker","fan","google_assistant","group","history_graph","homeassistant","homekit","image_processing","input_boolean","input_datetime","input_number","input_select","input_text","light","mailbox","notify","persistent_notification","person","plant","proximity","remote","scene","script","sensor","simple_alarm","sun","switch","timer","updater","vacuum","water_heater","weather","weblink","zone","domainIcon","domain","state","console","warn","DEFAULT_DOMAIN_ICON","ironIconClass","customElements","get","loaded","HaIcon","node","eventName","methodName","this","_iconsetName","define","entityId","substr","indexOf","debounce","func","wait","timeout","immediate","args","context","later","apply","callNow","clearTimeout","setTimeout","fixedDeviceClassIcons","humidity","illuminance","temperature","pressure","power","signal_strength","domainIcons","binary_sensor","activated","device_class","cover","open","dclass","battery","Number","isNaN","batteryRound","Math","round","unit","unit_of_measurement","UNIT_C","UNIT_F","has_date","has_time","stateIcon","icon","computeDomain","MwcSwitch","customElement","HaSwitch","query","style","setProperty","classList","toggle","Boolean","_slot","assignedNodes","length","css","computeEntityRegistryName","hass","entry","name","states","updateEntityRegistryEntry","updates","callWS","type","removeEntityRegistryEntry","fetchEntityRegistry","conn","sendMessagePromise","subscribeEntityRegistryUpdates","store","subscribeEvents","then","entities","setState","subscribeEntityRegistry","onChange","createCollection","property","html","filter","_filterInputChanged","_clearSearch","value","fireEvent","String","e","_filterChanged","target","LitElement","afterNextRender","cb","requestAnimationFrame","nextRender","Promise","resolve","addMethods","methods","module","exports","w","Worker","MwcCheckbox","HaCheckbox","HaDataTable","Object","Array","MDCDataTableFoundation","queryAll","ev","_filter","detail","_worker","sortFilterWorker","properties","has","columnId","_filterable","values","columns","some","column","filterable","direction","_sortDirection","_sortColumn","clonedColumns","deepClone","forEach","title","template","_sortColumns","_filterData","_handleSearchChange","selectable","_handleHeaderRowCheckboxChange","_headerIndeterminate","_headerChecked","entries","map","columnEntry","key","sorted","classes","sortable","classMap","_handleHeaderClick","repeat","_filteredData","row","id","_handleRowClick","_handleRowCheckboxChange","_checkedRows","includes","addClassAtRowIndex","rowIndex","cssClasses","rowElements","add","getRowCount","data","getRowElements","getRowIdAtIndex","_getRowIdAtIndex","getRowIndexByChildElement","el","prototype","call","closest","getSelectedRowCount","isCheckboxAtRowIndexChecked","isHeaderRowCheckboxChecked","isRowsSelectable","notifyRowSelectionChanged","notifySelectedAll","notifyUnselectedAll","registerHeaderRowCheckbox","registerRowCheckboxes","removeClassAtRowIndex","remove","setAttributeAtRowIndex","attr","setAttribute","setHeaderRowCheckboxChecked","checked","setHeaderRowCheckboxIndeterminate","indeterminate","setRowCheckboxCheckedAtIndex","_setRowChecked","startTime","Date","getTime","curRequest","filterProm","filterSortData","all","curTime","elapsed","getAttribute","_headerCheckbox","mdcFoundation","handleHeaderRowCheckboxChange","checkbox","rowId","handleRowCheckboxChange","bubbles","index","splice","selected","_debounceSearch","BaseElement","loadEntityRegistryDetailDialog","showEntityRegistryDetailDialog","element","systemLogDetailParams","dialogTag","dialogImport","dialogParams","HaConfigEntityRegistry","memoize","_language","localize","platform","disabled_by","disabledBy","showDisabled","entity","_unsubEntities","_entities","_showDisabled","_showDisabledChanged","_columns","language","_filteredEntities","_openEditEntry","changedProps","connection","entryId","find"],"mappings":"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","file":"chunk.b157247c453e48873f47.js","sourcesContent":["import { HassEntity } from \"home-assistant-js-websocket\";\nimport { computeObjectId } from \"./compute_object_id\";\n\nexport const computeStateName = (stateObj: HassEntity): string => {\n  return stateObj.attributes.friendly_name === undefined\n    ? computeObjectId(stateObj.entity_id).replace(/_/g, \" \")\n    : stateObj.attributes.friendly_name || \"\";\n};\n","/**\n * Return the icon to be used for a domain.\n *\n * Optionally pass in a state to influence the domain icon.\n */\nimport { DEFAULT_DOMAIN_ICON } from \"../const\";\n\nconst fixedIcons = {\n  alert: \"hass:alert\",\n  alexa: \"hass:amazon-alexa\",\n  automation: \"hass:playlist-play\",\n  calendar: \"hass:calendar\",\n  camera: \"hass:video\",\n  climate: \"hass:thermostat\",\n  configurator: \"hass:settings\",\n  conversation: \"hass:text-to-speech\",\n  counter: \"hass:counter\",\n  device_tracker: \"hass:account\",\n  fan: \"hass:fan\",\n  google_assistant: \"hass:google-assistant\",\n  group: \"hass:google-circles-communities\",\n  history_graph: \"hass:chart-line\",\n  homeassistant: \"hass:home-assistant\",\n  homekit: \"hass:home-automation\",\n  image_processing: \"hass:image-filter-frames\",\n  input_boolean: \"hass:drawing\",\n  input_datetime: \"hass:calendar-clock\",\n  input_number: \"hass:ray-vertex\",\n  input_select: \"hass:format-list-bulleted\",\n  input_text: \"hass:textbox\",\n  light: \"hass:lightbulb\",\n  mailbox: \"hass:mailbox\",\n  notify: \"hass:comment-alert\",\n  persistent_notification: \"hass:bell\",\n  person: \"hass:account\",\n  plant: \"hass:flower\",\n  proximity: \"hass:apple-safari\",\n  remote: \"hass:remote\",\n  scene: \"hass:google-pages\",\n  script: \"hass:file-document\",\n  sensor: \"hass:eye\",\n  simple_alarm: \"hass:bell\",\n  sun: \"hass:white-balance-sunny\",\n  switch: \"hass:flash\",\n  timer: \"hass:timer\",\n  updater: \"hass:cloud-upload\",\n  vacuum: \"hass:robot-vacuum\",\n  water_heater: \"hass:thermometer\",\n  weather: \"hass:weather-cloudy\",\n  weblink: \"hass:open-in-new\",\n  zone: \"hass:map-marker\",\n};\n\nexport const domainIcon = (domain: string, state?: string): string => {\n  if (domain in fixedIcons) {\n    return fixedIcons[domain];\n  }\n\n  switch (domain) {\n    case \"alarm_control_panel\":\n      switch (state) {\n        case \"armed_home\":\n          return \"hass:bell-plus\";\n        case \"armed_night\":\n          return \"hass:bell-sleep\";\n        case \"disarmed\":\n          return \"hass:bell-outline\";\n        case \"triggered\":\n          return \"hass:bell-ring\";\n        default:\n          return \"hass:bell\";\n      }\n\n    case \"binary_sensor\":\n      return state && state === \"off\"\n        ? \"hass:radiobox-blank\"\n        : \"hass:checkbox-marked-circle\";\n\n    case \"cover\":\n      return state === \"closed\" ? \"hass:window-closed\" : \"hass:window-open\";\n\n    case \"lock\":\n      return state && state === \"unlocked\" ? \"hass:lock-open\" : \"hass:lock\";\n\n    case \"media_player\":\n      return state && state !== \"off\" && state !== \"idle\"\n        ? \"hass:cast-connected\"\n        : \"hass:cast\";\n\n    case \"zwave\":\n      switch (state) {\n        case \"dead\":\n          return \"hass:emoticon-dead\";\n        case \"sleeping\":\n          return \"hass:sleep\";\n        case \"initializing\":\n          return \"hass:timer-sand\";\n        default:\n          return \"hass:z-wave\";\n      }\n\n    default:\n      // tslint:disable-next-line\n      console.warn(\n        \"Unable to find icon for domain \" + domain + \" (\" + state + \")\"\n      );\n      return DEFAULT_DOMAIN_ICON;\n  }\n};\n","import { Constructor } from \"../types\";\n\nimport \"@polymer/iron-icon/iron-icon\";\n// Not duplicate, this is for typing.\n// tslint:disable-next-line\nimport { IronIconElement } from \"@polymer/iron-icon/iron-icon\";\n\nconst ironIconClass = customElements.get(\"iron-icon\") as Constructor<\n  IronIconElement\n>;\n\nlet loaded = false;\n\nexport class HaIcon extends ironIconClass {\n  private _iconsetName?: string;\n\n  public listen(\n    node: EventTarget | null,\n    eventName: string,\n    methodName: string\n  ): void {\n    super.listen(node, eventName, methodName);\n\n    if (!loaded && this._iconsetName === \"mdi\") {\n      loaded = true;\n      import(/* webpackChunkName: \"mdi-icons\" */ \"../resources/mdi-icons\");\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-icon\": HaIcon;\n  }\n}\n\ncustomElements.define(\"ha-icon\", HaIcon);\n","/** Compute the object ID of a state. */\nexport const computeObjectId = (entityId: string): string => {\n  return entityId.substr(entityId.indexOf(\".\") + 1);\n};\n","// From: https://davidwalsh.name/javascript-debounce-function\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\n// tslint:disable-next-line: ban-types\nexport const debounce = <T extends Function>(\n  func: T,\n  wait,\n  immediate = false\n): T => {\n  let timeout;\n  // @ts-ignore\n  return function(...args) {\n    // tslint:disable:no-this-assignment\n    // @ts-ignore\n    const context = this;\n    const later = () => {\n      timeout = null;\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n};\n","/** Return an icon representing a sensor state. */\nimport { HassEntity } from \"home-assistant-js-websocket\";\nimport { UNIT_C, UNIT_F } from \"../const\";\nimport { domainIcon } from \"./domain_icon\";\n\nconst fixedDeviceClassIcons = {\n  humidity: \"hass:water-percent\",\n  illuminance: \"hass:brightness-5\",\n  temperature: \"hass:thermometer\",\n  pressure: \"hass:gauge\",\n  power: \"hass:flash\",\n  signal_strength: \"hass:wifi\",\n};\n\nexport const sensorIcon = (state: HassEntity) => {\n  const dclass = state.attributes.device_class;\n\n  if (dclass && dclass in fixedDeviceClassIcons) {\n    return fixedDeviceClassIcons[dclass];\n  }\n  if (dclass === \"battery\") {\n    const battery = Number(state.state);\n    if (isNaN(battery)) {\n      return \"hass:battery-unknown\";\n    }\n    const batteryRound = Math.round(battery / 10) * 10;\n    if (batteryRound >= 100) {\n      return \"hass:battery\";\n    }\n    if (batteryRound <= 0) {\n      return \"hass:battery-alert\";\n    }\n    // Will return one of the following icons: (listed so extractor picks up)\n    // hass:battery-10\n    // hass:battery-20\n    // hass:battery-30\n    // hass:battery-40\n    // hass:battery-50\n    // hass:battery-60\n    // hass:battery-70\n    // hass:battery-80\n    // hass:battery-90\n    // We obscure 'hass' in iconname so this name does not get picked up\n    return `${\"hass\"}:battery-${batteryRound}`;\n  }\n\n  const unit = state.attributes.unit_of_measurement;\n  if (unit === UNIT_C || unit === UNIT_F) {\n    return \"hass:thermometer\";\n  }\n  return domainIcon(\"sensor\");\n};\n","/** Return an icon representing a state. */\nimport { HassEntity } from \"home-assistant-js-websocket\";\nimport { DEFAULT_DOMAIN_ICON } from \"../const\";\nimport { binarySensorIcon } from \"./binary_sensor_icon\";\n\nimport { computeDomain } from \"./compute_domain\";\nimport { domainIcon } from \"./domain_icon\";\nimport { coverIcon } from \"./cover_icon\";\nimport { sensorIcon } from \"./sensor_icon\";\nimport { inputDateTimeIcon } from \"./input_dateteime_icon\";\n\nconst domainIcons = {\n  binary_sensor: binarySensorIcon,\n  cover: coverIcon,\n  sensor: sensorIcon,\n  input_datetime: inputDateTimeIcon,\n};\n\nexport const stateIcon = (state: HassEntity) => {\n  if (!state) {\n    return DEFAULT_DOMAIN_ICON;\n  }\n  if (state.attributes.icon) {\n    return state.attributes.icon;\n  }\n\n  const domain = computeDomain(state.entity_id);\n\n  if (domain in domainIcons) {\n    return domainIcons[domain](state);\n  }\n  return domainIcon(domain, state.state);\n};\n","import { HassEntity } from \"home-assistant-js-websocket\";\n\n/** Return an icon representing a binary sensor state. */\n\nexport const binarySensorIcon = (state: HassEntity) => {\n  const activated = state.state && state.state === \"off\";\n  switch (state.attributes.device_class) {\n    case \"battery\":\n      return activated ? \"hass:battery\" : \"hass:battery-outline\";\n    case \"cold\":\n      return activated ? \"hass:thermometer\" : \"hass:snowflake\";\n    case \"connectivity\":\n      return activated ? \"hass:server-network-off\" : \"hass:server-network\";\n    case \"door\":\n      return activated ? \"hass:door-closed\" : \"hass:door-open\";\n    case \"garage_door\":\n      return activated ? \"hass:garage\" : \"hass:garage-open\";\n    case \"gas\":\n    case \"power\":\n    case \"problem\":\n    case \"safety\":\n    case \"smoke\":\n      return activated ? \"hass:shield-check\" : \"hass:alert\";\n    case \"heat\":\n      return activated ? \"hass:thermometer\" : \"hass:fire\";\n    case \"light\":\n      return activated ? \"hass:brightness-5\" : \"hass:brightness-7\";\n    case \"lock\":\n      return activated ? \"hass:lock\" : \"hass:lock-open\";\n    case \"moisture\":\n      return activated ? \"hass:water-off\" : \"hass:water\";\n    case \"motion\":\n      return activated ? \"hass:walk\" : \"hass:run\";\n    case \"occupancy\":\n      return activated ? \"hass:home-outline\" : \"hass:home\";\n    case \"opening\":\n      return activated ? \"hass:square\" : \"hass:square-outline\";\n    case \"plug\":\n      return activated ? \"hass:power-plug-off\" : \"hass:power-plug\";\n    case \"presence\":\n      return activated ? \"hass:home-outline\" : \"hass:home\";\n    case \"sound\":\n      return activated ? \"hass:music-note-off\" : \"hass:music-note\";\n    case \"vibration\":\n      return activated ? \"hass:crop-portrait\" : \"hass:vibrate\";\n    case \"window\":\n      return activated ? \"hass:window-closed\" : \"hass:window-open\";\n    default:\n      return activated ? \"hass:radiobox-blank\" : \"hass:checkbox-marked-circle\";\n  }\n};\n","/** Return an icon representing a cover state. */\nimport { HassEntity } from \"home-assistant-js-websocket\";\nimport { domainIcon } from \"./domain_icon\";\n\nexport const coverIcon = (state: HassEntity): string => {\n  const open = state.state !== \"closed\";\n  switch (state.attributes.device_class) {\n    case \"garage\":\n      return open ? \"hass:garage-open\" : \"hass:garage\";\n    case \"door\":\n      return open ? \"hass:door-open\" : \"hass:door-closed\";\n    case \"shutter\":\n      return open ? \"hass:window-shutter-open\" : \"hass:window-shutter\";\n    case \"blind\":\n      return open ? \"hass:blinds-open\" : \"hass:blinds\";\n    case \"window\":\n      return open ? \"hass:window-open\" : \"hass:window-closed\";\n    default:\n      return domainIcon(\"cover\", state.state);\n  }\n};\n","/** Return an icon representing an input datetime state. */\nimport { domainIcon } from \"./domain_icon\";\nimport { HassEntity } from \"home-assistant-js-websocket\";\n\nexport const inputDateTimeIcon = (state: HassEntity): string => {\n  if (!state.attributes.has_date) {\n    return \"hass:clock\";\n  }\n  if (!state.attributes.has_time) {\n    return \"hass:calendar\";\n  }\n  return domainIcon(\"input_datetime\");\n};\n","import { customElement, CSSResult, css, query } from \"lit-element\";\nimport \"@material/mwc-switch\";\nimport { style } from \"@material/mwc-switch/mwc-switch-css\";\n// tslint:disable-next-line\nimport { Switch } from \"@material/mwc-switch\";\nimport { Constructor } from \"../types\";\n// tslint:disable-next-line\nconst MwcSwitch = customElements.get(\"mwc-switch\") as Constructor<Switch>;\n\n@customElement(\"ha-switch\")\nexport class HaSwitch extends MwcSwitch {\n  @query(\"slot\") private _slot!: HTMLSlotElement;\n\n  protected firstUpdated() {\n    super.firstUpdated();\n    this.style.setProperty(\n      \"--mdc-theme-secondary\",\n      \"var(--switch-checked-color)\"\n    );\n    this.classList.toggle(\n      \"slotted\",\n      Boolean(this._slot.assignedNodes().length)\n    );\n  }\n\n  protected static get styles(): CSSResult[] {\n    return [\n      style,\n      css`\n        :host {\n          display: flex;\n          flex-direction: row;\n          align-items: center;\n        }\n        .mdc-switch.mdc-switch--checked .mdc-switch__thumb {\n          background-color: var(--switch-checked-button-color);\n          border-color: var(--switch-checked-button-color);\n        }\n        .mdc-switch.mdc-switch--checked .mdc-switch__track {\n          background-color: var(--switch-checked-track-color);\n          border-color: var(--switch-checked-track-color);\n        }\n        .mdc-switch:not(.mdc-switch--checked) .mdc-switch__thumb {\n          background-color: var(--switch-unchecked-button-color);\n          border-color: var(--switch-unchecked-button-color);\n        }\n        .mdc-switch:not(.mdc-switch--checked) .mdc-switch__track {\n          background-color: var(--switch-unchecked-track-color);\n          border-color: var(--switch-unchecked-track-color);\n        }\n        :host(.slotted) .mdc-switch {\n          margin-right: 24px;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-switch\": HaSwitch;\n  }\n}\n","import { createCollection, Connection } from \"home-assistant-js-websocket\";\nimport { HomeAssistant } from \"../types\";\nimport { computeStateName } from \"../common/entity/compute_state_name\";\nimport { debounce } from \"../common/util/debounce\";\n\nexport interface EntityRegistryEntry {\n  entity_id: string;\n  name: string;\n  platform: string;\n  config_entry_id?: string;\n  device_id?: string;\n  disabled_by: string | null;\n}\n\nexport interface EntityRegistryEntryUpdateParams {\n  name?: string | null;\n  disabled_by?: string | null;\n  new_entity_id?: string;\n}\n\nexport const computeEntityRegistryName = (\n  hass: HomeAssistant,\n  entry: EntityRegistryEntry\n): string | null => {\n  if (entry.name) {\n    return entry.name;\n  }\n  const state = hass.states[entry.entity_id];\n  return state ? computeStateName(state) : null;\n};\n\nexport const updateEntityRegistryEntry = (\n  hass: HomeAssistant,\n  entityId: string,\n  updates: Partial<EntityRegistryEntryUpdateParams>\n): Promise<EntityRegistryEntry> =>\n  hass.callWS<EntityRegistryEntry>({\n    type: \"config/entity_registry/update\",\n    entity_id: entityId,\n    ...updates,\n  });\n\nexport const removeEntityRegistryEntry = (\n  hass: HomeAssistant,\n  entityId: string\n): Promise<void> =>\n  hass.callWS({\n    type: \"config/entity_registry/remove\",\n    entity_id: entityId,\n  });\n\nconst fetchEntityRegistry = (conn) =>\n  conn.sendMessagePromise({\n    type: \"config/entity_registry/list\",\n  });\n\nconst subscribeEntityRegistryUpdates = (conn, store) =>\n  conn.subscribeEvents(\n    debounce(\n      () =>\n        fetchEntityRegistry(conn).then((entities) =>\n          store.setState(entities, true)\n        ),\n      500,\n      true\n    ),\n    \"entity_registry_updated\"\n  );\n\nexport const subscribeEntityRegistry = (\n  conn: Connection,\n  onChange: (entities: EntityRegistryEntry[]) => void\n) =>\n  createCollection<EntityRegistryEntry[]>(\n    \"_entityRegistry\",\n    fetchEntityRegistry,\n    subscribeEntityRegistryUpdates,\n    conn,\n    onChange\n  );\n","import { TemplateResult, html } from \"lit-html\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  LitElement,\n  property,\n} from \"lit-element\";\nimport { fireEvent } from \"../dom/fire_event\";\nimport \"@polymer/iron-icon/iron-icon\";\nimport \"@polymer/paper-input/paper-input\";\nimport \"@polymer/paper-icon-button/paper-icon-button\";\nimport \"@material/mwc-button\";\n\n@customElement(\"search-input\")\nclass SearchInput extends LitElement {\n  @property() private filter?: string;\n\n  protected render(): TemplateResult | void {\n    return html`\n      <div class=\"search-container\">\n        <paper-input\n          autofocus\n          label=\"Search\"\n          .value=${this.filter}\n          @value-changed=${this._filterInputChanged}\n        >\n          <iron-icon\n            icon=\"hass:magnify\"\n            slot=\"prefix\"\n            class=\"prefix\"\n          ></iron-icon>\n          ${this.filter &&\n            html`\n              <paper-icon-button\n                slot=\"suffix\"\n                class=\"suffix\"\n                @click=${this._clearSearch}\n                icon=\"hass:close\"\n                alt=\"Clear\"\n                title=\"Clear\"\n              ></paper-icon-button>\n            `}\n        </paper-input>\n      </div>\n    `;\n  }\n\n  private async _filterChanged(value: string) {\n    fireEvent(this, \"value-changed\", { value: String(value) });\n  }\n\n  private async _filterInputChanged(e) {\n    this._filterChanged(e.target.value);\n  }\n\n  private async _clearSearch() {\n    this._filterChanged(\"\");\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      paper-input {\n        flex: 1 1 auto;\n        margin: 0 16px;\n      }\n      .search-container {\n        display: inline-flex;\n        width: 100%;\n        align-items: center;\n      }\n      .prefix {\n        margin: 8px;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"search-input\": SearchInput;\n  }\n}\n","export const afterNextRender = (cb: () => void): void => {\n  requestAnimationFrame(() => setTimeout(cb, 0));\n};\n\nexport const nextRender = () => {\n  return new Promise((resolve) => {\n    afterNextRender(resolve);\n  });\n};\n","\n\t\t\t\tvar addMethods = require(\"../../../node_modules/workerize-loader/dist/rpc-wrapper.js\")\n\t\t\t\tvar methods = [\"filterSortData\",\"filterData\",\"sortData\"]\n\t\t\t\tmodule.exports = function() {\n\t\t\t\t\tvar w = new Worker(__webpack_public_path__ + \"cc942aac2c181bb444ae.worker.js\", { name: \"[hash].worker.js\" })\n\t\t\t\t\taddMethods(w, methods)\n\t\t\t\t\t\n\t\t\t\t\treturn w\n\t\t\t\t}\n\t\t\t","import { customElement, CSSResult, css } from \"lit-element\";\nimport \"@material/mwc-checkbox\";\n// tslint:disable-next-line\nimport { Checkbox } from \"@material/mwc-checkbox\";\nimport { style } from \"@material/mwc-checkbox/mwc-checkbox-css\";\nimport { Constructor } from \"../types\";\n// tslint:disable-next-line\nconst MwcCheckbox = customElements.get(\"mwc-checkbox\") as Constructor<Checkbox>;\n\n@customElement(\"ha-checkbox\")\nexport class HaCheckbox extends MwcCheckbox {\n  protected firstUpdated() {\n    super.firstUpdated();\n    this.style.setProperty(\"--mdc-theme-secondary\", \"var(--primary-color)\");\n  }\n\n  protected static get styles(): CSSResult[] {\n    return [\n      style,\n      css`\n        .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate)\n          ~ .mdc-checkbox__background {\n          border-color: rgba(var(--rgb-primary-text-color), 0.54);\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-checkbox\": HaCheckbox;\n  }\n}\n","import { repeat } from \"lit-html/directives/repeat\";\nimport deepClone from \"deep-clone-simple\";\n\nimport {\n  MDCDataTableAdapter,\n  MDCDataTableFoundation,\n} from \"@material/data-table\";\n\nimport { classMap } from \"lit-html/directives/class-map\";\n\nimport {\n  html,\n  query,\n  queryAll,\n  CSSResult,\n  css,\n  customElement,\n  property,\n  TemplateResult,\n  PropertyValues,\n} from \"lit-element\";\n\nimport { BaseElement } from \"@material/mwc-base/base-element\";\n\n// eslint-disable-next-line import/no-webpack-loader-syntax\n// @ts-ignore\n// tslint:disable-next-line: no-implicit-dependencies\nimport sortFilterWorker from \"workerize-loader!./sort_filter_worker\";\n\nimport \"../ha-icon\";\nimport \"../../common/search/search-input\";\nimport \"../ha-checkbox\";\n// tslint:disable-next-line\nimport { HaCheckbox } from \"../ha-checkbox\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport { nextRender } from \"../../common/util/render-status\";\nimport { debounce } from \"../../common/util/debounce\";\n\ndeclare global {\n  // for fire event\n  interface HASSDomEvents {\n    \"selection-changed\": SelectionChangedEvent;\n    \"row-click\": RowClickedEvent;\n    \"sorting-changed\": SortingChangedEvent;\n  }\n}\n\nexport interface RowClickedEvent {\n  id: string;\n}\n\nexport interface SelectionChangedEvent {\n  id: string;\n  selected: boolean;\n}\n\nexport interface SortingChangedEvent {\n  column: string;\n  direction: SortingDirection;\n}\n\nexport type SortingDirection = \"desc\" | \"asc\" | null;\n\nexport interface DataTableColumnContainer {\n  [key: string]: DataTableColumnData;\n}\n\nexport interface DataTableSortColumnData {\n  sortable?: boolean;\n  filterable?: boolean;\n  filterKey?: string;\n  direction?: SortingDirection;\n}\n\nexport interface DataTableColumnData extends DataTableSortColumnData {\n  title: string;\n  type?: \"numeric\" | \"icon\";\n  template?: <T>(data: any, row: T) => TemplateResult;\n}\n\nexport interface DataTableRowData {\n  [key: string]: any;\n}\n\n@customElement(\"ha-data-table\")\nexport class HaDataTable extends BaseElement {\n  @property({ type: Object }) public columns: DataTableColumnContainer = {};\n  @property({ type: Array }) public data: DataTableRowData[] = [];\n  @property({ type: Boolean }) public selectable = false;\n  @property({ type: String }) public id = \"id\";\n  protected mdcFoundation!: MDCDataTableFoundation;\n  protected readonly mdcFoundationClass = MDCDataTableFoundation;\n  @query(\".mdc-data-table\") protected mdcRoot!: HTMLElement;\n  @queryAll(\".mdc-data-table__row\") protected rowElements!: HTMLElement[];\n  @query(\"#header-checkbox\") private _headerCheckbox!: HaCheckbox;\n  @property({ type: Boolean }) private _filterable = false;\n  @property({ type: Boolean }) private _headerChecked = false;\n  @property({ type: Boolean }) private _headerIndeterminate = false;\n  @property({ type: Array }) private _checkedRows: string[] = [];\n  @property({ type: String }) private _filter = \"\";\n  @property({ type: String }) private _sortColumn?: string;\n  @property({ type: String }) private _sortDirection: SortingDirection = null;\n  @property({ type: Array }) private _filteredData: DataTableRowData[] = [];\n  private _sortColumns: {\n    [key: string]: DataTableSortColumnData;\n  } = {};\n  private curRequest = 0;\n  private _worker: any | undefined;\n\n  private _debounceSearch = debounce(\n    (ev) => {\n      this._filter = ev.detail.value;\n    },\n    200,\n    false\n  );\n\n  protected firstUpdated() {\n    super.firstUpdated();\n    this._worker = sortFilterWorker();\n  }\n\n  protected updated(properties: PropertyValues) {\n    super.updated(properties);\n\n    if (properties.has(\"columns\")) {\n      this._filterable = Object.values(this.columns).some(\n        (column) => column.filterable\n      );\n\n      for (const columnId in this.columns) {\n        if (this.columns[columnId].direction) {\n          this._sortDirection = this.columns[columnId].direction!;\n          this._sortColumn = columnId;\n          break;\n        }\n      }\n\n      const clonedColumns: DataTableColumnContainer = deepClone(this.columns);\n      Object.values(clonedColumns).forEach((column: DataTableColumnData) => {\n        delete column.title;\n        delete column.type;\n        delete column.template;\n      });\n\n      this._sortColumns = clonedColumns;\n    }\n\n    if (\n      properties.has(\"data\") ||\n      properties.has(\"columns\") ||\n      properties.has(\"_filter\") ||\n      properties.has(\"_sortColumn\") ||\n      properties.has(\"_sortDirection\")\n    ) {\n      this._filterData();\n    }\n  }\n\n  protected render() {\n    return html`\n      ${this._filterable\n        ? html`\n            <search-input\n              @value-changed=${this._handleSearchChange}\n            ></search-input>\n          `\n        : \"\"}\n      <div class=\"mdc-data-table\">\n        <table class=\"mdc-data-table__table\">\n          <thead>\n            <tr class=\"mdc-data-table__header-row\">\n              ${this.selectable\n                ? html`\n                    <th\n                      class=\"mdc-data-table__header-cell mdc-data-table__header-cell--checkbox\"\n                      role=\"columnheader\"\n                      scope=\"col\"\n                    >\n                      <ha-checkbox\n                        id=\"header-checkbox\"\n                        class=\"mdc-data-table__row-checkbox\"\n                        @change=${this._handleHeaderRowCheckboxChange}\n                        .indeterminate=${this._headerIndeterminate}\n                        .checked=${this._headerChecked}\n                      >\n                      </ha-checkbox>\n                    </th>\n                  `\n                : \"\"}\n              ${Object.entries(this.columns).map((columnEntry) => {\n                const [key, column] = columnEntry;\n                const sorted = key === this._sortColumn;\n                const classes = {\n                  \"mdc-data-table__header-cell--numeric\": Boolean(\n                    column.type && column.type === \"numeric\"\n                  ),\n                  \"mdc-data-table__header-cell--icon\": Boolean(\n                    column.type && column.type === \"icon\"\n                  ),\n                  sortable: Boolean(column.sortable),\n                  \"not-sorted\": Boolean(column.sortable && !sorted),\n                };\n                return html`\n                  <th\n                    class=\"mdc-data-table__header-cell ${classMap(classes)}\"\n                    role=\"columnheader\"\n                    scope=\"col\"\n                    @click=${this._handleHeaderClick}\n                    data-column-id=\"${key}\"\n                  >\n                    ${column.sortable\n                      ? html`\n                          <ha-icon\n                            .icon=${sorted && this._sortDirection === \"desc\"\n                              ? \"hass:arrow-down\"\n                              : \"hass:arrow-up\"}\n                          ></ha-icon>\n                        `\n                      : \"\"}\n                    <span>${column.title}</span>\n                  </th>\n                `;\n              })}\n            </tr>\n          </thead>\n          <tbody class=\"mdc-data-table__content\">\n            ${repeat(\n              this._filteredData!,\n              (row: DataTableRowData) => row[this.id],\n              (row: DataTableRowData) => html`\n                <tr\n                  data-row-id=\"${row[this.id]}\"\n                  @click=${this._handleRowClick}\n                  class=\"mdc-data-table__row\"\n                >\n                  ${this.selectable\n                    ? html`\n                        <td\n                          class=\"mdc-data-table__cell mdc-data-table__cell--checkbox\"\n                        >\n                          <ha-checkbox\n                            class=\"mdc-data-table__row-checkbox\"\n                            @change=${this._handleRowCheckboxChange}\n                            .checked=${this._checkedRows.includes(row[this.id])}\n                          >\n                          </ha-checkbox>\n                        </td>\n                      `\n                    : \"\"}\n                  ${Object.entries(this.columns).map((columnEntry) => {\n                    const [key, column] = columnEntry;\n                    return html`\n                      <td\n                        class=\"mdc-data-table__cell ${classMap({\n                          \"mdc-data-table__cell--numeric\": Boolean(\n                            column.type && column.type === \"numeric\"\n                          ),\n                          \"mdc-data-table__cell--icon\": Boolean(\n                            column.type && column.type === \"icon\"\n                          ),\n                        })}\"\n                      >\n                        ${column.template\n                          ? column.template(row[key], row)\n                          : row[key]}\n                      </td>\n                    `;\n                  })}\n                </tr>\n              `\n            )}\n          </tbody>\n        </table>\n      </div>\n    `;\n  }\n\n  protected createAdapter(): MDCDataTableAdapter {\n    return {\n      addClassAtRowIndex: (rowIndex: number, cssClasses: string) => {\n        this.rowElements[rowIndex].classList.add(cssClasses);\n      },\n      getRowCount: () => this.data.length,\n      getRowElements: () => this.rowElements,\n      getRowIdAtIndex: (rowIndex: number) => this._getRowIdAtIndex(rowIndex),\n      getRowIndexByChildElement: (el: Element) =>\n        Array.prototype.indexOf.call(this.rowElements, el.closest(\"tr\")),\n      getSelectedRowCount: () => this._checkedRows.length,\n      isCheckboxAtRowIndexChecked: (rowIndex: number) =>\n        this._checkedRows.includes(this._getRowIdAtIndex(rowIndex)),\n      isHeaderRowCheckboxChecked: () => this._headerChecked,\n      isRowsSelectable: () => true,\n      notifyRowSelectionChanged: () => undefined,\n      notifySelectedAll: () => undefined,\n      notifyUnselectedAll: () => undefined,\n      registerHeaderRowCheckbox: () => undefined,\n      registerRowCheckboxes: () => undefined,\n      removeClassAtRowIndex: (rowIndex: number, cssClasses: string) => {\n        this.rowElements[rowIndex].classList.remove(cssClasses);\n      },\n      setAttributeAtRowIndex: (\n        rowIndex: number,\n        attr: string,\n        value: string\n      ) => {\n        this.rowElements[rowIndex].setAttribute(attr, value);\n      },\n      setHeaderRowCheckboxChecked: (checked: boolean) => {\n        this._headerChecked = checked;\n      },\n      setHeaderRowCheckboxIndeterminate: (indeterminate: boolean) => {\n        this._headerIndeterminate = indeterminate;\n      },\n      setRowCheckboxCheckedAtIndex: (rowIndex: number, checked: boolean) => {\n        this._setRowChecked(this._getRowIdAtIndex(rowIndex), checked);\n      },\n    };\n  }\n\n  private async _filterData() {\n    const startTime = new Date().getTime();\n    this.curRequest++;\n    const curRequest = this.curRequest;\n\n    const filterProm = this._worker.filterSortData(\n      this.data,\n      this._sortColumns,\n      this._filter,\n      this._sortDirection,\n      this._sortColumn\n    );\n\n    const [data] = await Promise.all([filterProm, nextRender]);\n\n    const curTime = new Date().getTime();\n    const elapsed = curTime - startTime;\n\n    if (elapsed < 100) {\n      await new Promise((resolve) => setTimeout(resolve, 100 - elapsed));\n    }\n    if (this.curRequest !== curRequest) {\n      return;\n    }\n    this._filteredData = data;\n  }\n\n  private _getRowIdAtIndex(rowIndex: number): string {\n    return this.rowElements[rowIndex].getAttribute(\"data-row-id\")!;\n  }\n\n  private _handleHeaderClick(ev: Event) {\n    const columnId = (ev.target as HTMLElement)\n      .closest(\"th\")!\n      .getAttribute(\"data-column-id\")!;\n    if (!this.columns[columnId].sortable) {\n      return;\n    }\n    if (!this._sortDirection || this._sortColumn !== columnId) {\n      this._sortDirection = \"asc\";\n    } else if (this._sortDirection === \"asc\") {\n      this._sortDirection = \"desc\";\n    } else {\n      this._sortDirection = null;\n    }\n\n    this._sortColumn = this._sortDirection === null ? undefined : columnId;\n\n    fireEvent(this, \"sorting-changed\", {\n      column: columnId,\n      direction: this._sortDirection,\n    });\n  }\n\n  private _handleHeaderRowCheckboxChange() {\n    this._headerChecked = this._headerCheckbox.checked;\n    this._headerIndeterminate = this._headerCheckbox.indeterminate;\n    this.mdcFoundation.handleHeaderRowCheckboxChange();\n  }\n\n  private _handleRowCheckboxChange(ev: Event) {\n    const checkbox = ev.target as HaCheckbox;\n    const rowId = checkbox.closest(\"tr\")!.getAttribute(\"data-row-id\");\n\n    this._setRowChecked(rowId!, checkbox.checked);\n    this.mdcFoundation.handleRowCheckboxChange(ev);\n  }\n\n  private _handleRowClick(ev: Event) {\n    const rowId = (ev.target as HTMLElement)\n      .closest(\"tr\")!\n      .getAttribute(\"data-row-id\")!;\n    fireEvent(this, \"row-click\", { id: rowId }, { bubbles: false });\n  }\n\n  private _setRowChecked(rowId: string, checked: boolean) {\n    if (checked && !this._checkedRows.includes(rowId)) {\n      this._checkedRows = [...this._checkedRows, rowId];\n    } else if (!checked) {\n      const index = this._checkedRows.indexOf(rowId);\n      if (index !== -1) {\n        this._checkedRows.splice(index, 1);\n      }\n    }\n    fireEvent(this, \"selection-changed\", {\n      id: rowId,\n      selected: checked,\n    });\n  }\n\n  private _handleSearchChange(ev: CustomEvent): void {\n    this._debounceSearch(ev);\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      /* default mdc styles, colors changed, without checkbox styles */\n\n      .mdc-data-table__content {\n        font-family: Roboto, sans-serif;\n        -moz-osx-font-smoothing: grayscale;\n        -webkit-font-smoothing: antialiased;\n        font-size: 0.875rem;\n        line-height: 1.25rem;\n        font-weight: 400;\n        letter-spacing: 0.0178571429em;\n        text-decoration: inherit;\n        text-transform: inherit;\n      }\n\n      .mdc-data-table {\n        background-color: var(--data-table-background-color);\n        border-radius: 4px;\n        border-width: 1px;\n        border-style: solid;\n        border-color: rgba(var(--rgb-primary-text-color), 0.12);\n        display: inline-flex;\n        flex-direction: column;\n        box-sizing: border-box;\n        overflow-x: auto;\n      }\n\n      .mdc-data-table__row--selected {\n        background-color: rgba(var(--rgb-primary-color), 0.04);\n      }\n\n      .mdc-data-table__row {\n        border-top-color: rgba(var(--rgb-primary-text-color), 0.12);\n      }\n\n      .mdc-data-table__row {\n        border-top-width: 1px;\n        border-top-style: solid;\n      }\n\n      .mdc-data-table__row:not(.mdc-data-table__row--selected):hover {\n        background-color: rgba(var(--rgb-primary-text-color), 0.04);\n      }\n\n      .mdc-data-table__header-cell {\n        color: var(--primary-text-color);\n      }\n\n      .mdc-data-table__cell {\n        color: var(--primary-text-color);\n      }\n\n      .mdc-data-table__header-row {\n        height: 56px;\n      }\n\n      .mdc-data-table__row {\n        height: 52px;\n      }\n\n      .mdc-data-table__cell,\n      .mdc-data-table__header-cell {\n        padding-right: 16px;\n        padding-left: 16px;\n      }\n\n      .mdc-data-table__header-cell--checkbox,\n      .mdc-data-table__cell--checkbox {\n        /* @noflip */\n        padding-left: 16px;\n        /* @noflip */\n        padding-right: 0;\n      }\n      [dir=\"rtl\"] .mdc-data-table__header-cell--checkbox,\n      .mdc-data-table__header-cell--checkbox[dir=\"rtl\"],\n      [dir=\"rtl\"] .mdc-data-table__cell--checkbox,\n      .mdc-data-table__cell--checkbox[dir=\"rtl\"] {\n        /* @noflip */\n        padding-left: 0;\n        /* @noflip */\n        padding-right: 16px;\n      }\n\n      .mdc-data-table__table {\n        width: 100%;\n        border: 0;\n        white-space: nowrap;\n        border-collapse: collapse;\n      }\n\n      .mdc-data-table__cell {\n        font-family: Roboto, sans-serif;\n        -moz-osx-font-smoothing: grayscale;\n        -webkit-font-smoothing: antialiased;\n        font-size: 0.875rem;\n        line-height: 1.25rem;\n        font-weight: 400;\n        letter-spacing: 0.0178571429em;\n        text-decoration: inherit;\n        text-transform: inherit;\n      }\n\n      .mdc-data-table__cell--numeric {\n        text-align: right;\n      }\n      [dir=\"rtl\"] .mdc-data-table__cell--numeric,\n      .mdc-data-table__cell--numeric[dir=\"rtl\"] {\n        /* @noflip */\n        text-align: left;\n      }\n\n      .mdc-data-table__cell--icon {\n        color: var(--secondary-text-color);\n        text-align: center;\n      }\n\n      .mdc-data-table__header-cell {\n        font-family: Roboto, sans-serif;\n        -moz-osx-font-smoothing: grayscale;\n        -webkit-font-smoothing: antialiased;\n        font-size: 0.875rem;\n        line-height: 1.375rem;\n        font-weight: 500;\n        letter-spacing: 0.0071428571em;\n        text-decoration: inherit;\n        text-transform: inherit;\n        text-align: left;\n      }\n      [dir=\"rtl\"] .mdc-data-table__header-cell,\n      .mdc-data-table__header-cell[dir=\"rtl\"] {\n        /* @noflip */\n        text-align: right;\n      }\n\n      .mdc-data-table__header-cell--numeric {\n        text-align: right;\n      }\n      [dir=\"rtl\"] .mdc-data-table__header-cell--numeric,\n      .mdc-data-table__header-cell--numeric[dir=\"rtl\"] {\n        /* @noflip */\n        text-align: left;\n      }\n\n      .mdc-data-table__header-cell--icon {\n        text-align: center;\n      }\n\n      /* custom from here */\n\n      .mdc-data-table {\n        display: block;\n      }\n      .mdc-data-table__header-cell {\n        overflow: hidden;\n      }\n      .mdc-data-table__header-cell.sortable {\n        cursor: pointer;\n      }\n      .mdc-data-table__header-cell.not-sorted:not(.mdc-data-table__header-cell--numeric):not(.mdc-data-table__header-cell--icon)\n        span {\n        position: relative;\n        left: -24px;\n      }\n      .mdc-data-table__header-cell.not-sorted > * {\n        transition: left 0.2s ease 0s;\n      }\n      .mdc-data-table__header-cell.not-sorted ha-icon {\n        left: -36px;\n      }\n      .mdc-data-table__header-cell.not-sorted:not(.mdc-data-table__header-cell--numeric):not(.mdc-data-table__header-cell--icon):hover\n        span {\n        left: 0px;\n      }\n      .mdc-data-table__header-cell:hover.not-sorted ha-icon {\n        left: 0px;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-data-table\": HaDataTable;\n  }\n}\n","import { fireEvent } from \"../../../common/dom/fire_event\";\nimport { EntityRegistryEntry } from \"../../../data/entity_registry\";\n\nexport interface EntityRegistryDetailDialogParams {\n  entry: EntityRegistryEntry;\n}\n\nexport const loadEntityRegistryDetailDialog = () =>\n  import(\n    /* webpackChunkName: \"entity-registry-detail-dialog\" */ \"./dialog-entity-registry-detail\"\n  );\n\nexport const showEntityRegistryDetailDialog = (\n  element: HTMLElement,\n  systemLogDetailParams: EntityRegistryDetailDialogParams\n): void => {\n  fireEvent(element, \"show-dialog\", {\n    dialogTag: \"dialog-entity-registry-detail\",\n    dialogImport: loadEntityRegistryDetailDialog,\n    dialogParams: systemLogDetailParams,\n  });\n};\n","import {\n  LitElement,\n  TemplateResult,\n  html,\n  css,\n  CSSResult,\n  property,\n} from \"lit-element\";\n\nimport { HomeAssistant } from \"../../../types\";\nimport {\n  EntityRegistryEntry,\n  computeEntityRegistryName,\n  subscribeEntityRegistry,\n} from \"../../../data/entity_registry\";\nimport \"../../../layouts/hass-subpage\";\nimport \"../../../layouts/hass-loading-screen\";\nimport \"../../../components/data-table/ha-data-table\";\nimport \"../../../components/ha-icon\";\nimport \"../../../components/ha-switch\";\nimport { domainIcon } from \"../../../common/entity/domain_icon\";\nimport { stateIcon } from \"../../../common/entity/state_icon\";\nimport { computeDomain } from \"../../../common/entity/compute_domain\";\nimport {\n  showEntityRegistryDetailDialog,\n  loadEntityRegistryDetailDialog,\n} from \"./show-dialog-entity-registry-detail\";\nimport { UnsubscribeFunc } from \"home-assistant-js-websocket\";\n// tslint:disable-next-line\nimport { HaSwitch } from \"../../../components/ha-switch\";\nimport memoize from \"memoize-one\";\n// tslint:disable-next-line\nimport {\n  DataTableColumnContainer,\n  RowClickedEvent,\n} from \"../../../components/data-table/ha-data-table\";\n\nclass HaConfigEntityRegistry extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public isWide?: boolean;\n  @property() private _entities?: EntityRegistryEntry[];\n  @property() private _showDisabled = false;\n  private _unsubEntities?: UnsubscribeFunc;\n\n  private _columns = memoize(\n    (_language): DataTableColumnContainer => {\n      return {\n        icon: {\n          title: \"\",\n          type: \"icon\",\n          template: (icon) => html`\n            <ha-icon slot=\"item-icon\" .icon=${icon}></ha-icon>\n          `,\n        },\n        name: {\n          title: this.hass.localize(\n            \"ui.panel.config.entity_registry.picker.headers.name\"\n          ),\n          sortable: true,\n          filterable: true,\n          direction: \"asc\",\n        },\n        entity_id: {\n          title: this.hass.localize(\n            \"ui.panel.config.entity_registry.picker.headers.entity_id\"\n          ),\n          sortable: true,\n          filterable: true,\n        },\n        platform: {\n          title: this.hass.localize(\n            \"ui.panel.config.entity_registry.picker.headers.integration\"\n          ),\n          sortable: true,\n          filterable: true,\n          template: (platform) =>\n            html`\n              ${this.hass.localize(`component.${platform}.config.title`) ||\n                platform}\n            `,\n        },\n        disabled_by: {\n          title: this.hass.localize(\n            \"ui.panel.config.entity_registry.picker.headers.enabled\"\n          ),\n          type: \"icon\",\n          template: (disabledBy) => html`\n            <ha-icon\n              slot=\"item-icon\"\n              .icon=${disabledBy ? \"hass:cancel\" : \"hass:check-circle\"}\n            ></ha-icon>\n          `,\n        },\n      };\n    }\n  );\n\n  private _filteredEntities = memoize(\n    (entities: EntityRegistryEntry[], showDisabled: boolean) =>\n      (showDisabled\n        ? entities\n        : entities.filter((entity) => !Boolean(entity.disabled_by))\n      ).map((entry) => {\n        const state = this.hass!.states[entry.entity_id];\n        return {\n          ...entry,\n          icon: state\n            ? stateIcon(state)\n            : domainIcon(computeDomain(entry.entity_id)),\n          name:\n            computeEntityRegistryName(this.hass!, entry) ||\n            this.hass!.localize(\"state.default.unavailable\"),\n        };\n      })\n  );\n\n  public disconnectedCallback() {\n    super.disconnectedCallback();\n    if (this._unsubEntities) {\n      this._unsubEntities();\n    }\n  }\n\n  protected render(): TemplateResult | void {\n    if (!this.hass || this._entities === undefined) {\n      return html`\n        <hass-loading-screen></hass-loading-screen>\n      `;\n    }\n    return html`\n      <hass-subpage\n        header=\"${this.hass.localize(\n          \"ui.panel.config.entity_registry.caption\"\n        )}\"\n      >\n      <div class=\"content\">\n        <div class=\"intro\">\n          <h2>\n            ${this.hass.localize(\n              \"ui.panel.config.entity_registry.picker.header\"\n            )}\n          </h2>\n          <p>\n            ${this.hass.localize(\n              \"ui.panel.config.entity_registry.picker.introduction\"\n            )}\n            <p>\n              ${this.hass.localize(\n                \"ui.panel.config.entity_registry.picker.introduction2\"\n              )}\n            </p>\n            <a href=\"/config/integrations\">\n              ${this.hass.localize(\n                \"ui.panel.config.entity_registry.picker.integrations_page\"\n              )}\n            </a>\n            <ha-switch\n              ?checked=${this._showDisabled}\n              @change=${this._showDisabledChanged}\n              >${this.hass.localize(\n                \"ui.panel.config.entity_registry.picker.show_disabled\"\n              )}\n            </ha-switch>\n          </div>\n        </p>\n        <ha-data-table\n          .columns=${this._columns(this.hass.language)}\n          .data=${this._filteredEntities(this._entities, this._showDisabled)}\n          @row-click=${this._openEditEntry}\n          id=\"entity_id\"\n        >\n        </ha-data-table>\n        </div>\n      </hass-subpage>\n    `;\n  }\n\n  protected firstUpdated(changedProps): void {\n    super.firstUpdated(changedProps);\n    loadEntityRegistryDetailDialog();\n  }\n\n  protected updated(changedProps) {\n    super.updated(changedProps);\n    if (!this._unsubEntities) {\n      this._unsubEntities = subscribeEntityRegistry(\n        this.hass.connection,\n        (entities) => {\n          this._entities = entities;\n        }\n      );\n    }\n  }\n\n  private _showDisabledChanged(ev: Event) {\n    this._showDisabled = (ev.target as HaSwitch).checked;\n  }\n\n  private _openEditEntry(ev: CustomEvent): void {\n    const entryId = (ev.detail as RowClickedEvent).id;\n    const entry = this._entities!.find(\n      (entity) => entity.entity_id === entryId\n    );\n    if (!entry) {\n      return;\n    }\n    showEntityRegistryDetailDialog(this, {\n      entry,\n    });\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      a {\n        color: var(--primary-color);\n      }\n      h2 {\n        margin-top: 0;\n        font-family: var(--paper-font-display1_-_font-family);\n        -webkit-font-smoothing: var(\n          --paper-font-display1_-_-webkit-font-smoothing\n        );\n        font-size: var(--paper-font-display1_-_font-size);\n        font-weight: var(--paper-font-display1_-_font-weight);\n        letter-spacing: var(--paper-font-display1_-_letter-spacing);\n        line-height: var(--paper-font-display1_-_line-height);\n        opacity: var(--dark-primary-opacity);\n      }\n      p {\n        font-family: var(--paper-font-subhead_-_font-family);\n        -webkit-font-smoothing: var(\n          --paper-font-subhead_-_-webkit-font-smoothing\n        );\n        font-size: var(--paper-font-subhead_-_font-size);\n        font-weight: var(--paper-font-subhead_-_font-weight);\n        line-height: var(--paper-font-subhead_-_line-height);\n        opacity: var(--dark-primary-opacity);\n      }\n      .intro {\n        padding: 24px 16px 0;\n      }\n      .content {\n        padding: 4px;\n      }\n      ha-data-table {\n        margin-bottom: 24px;\n        margin-top: 0px;\n      }\n      ha-switch {\n        margin-top: 16px;\n      }\n    `;\n  }\n}\n\ncustomElements.define(\"ha-config-entity-registry\", HaConfigEntityRegistry);\n"],"sourceRoot":""}