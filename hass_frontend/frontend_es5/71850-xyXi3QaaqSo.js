"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[71850],{71850:function(t,i,e){e.r(i);var s,n,a,o,c,r,h,d,l=e(88962),u=e(99312),f=e(81043),_=e(33368),v=e(71650),p=e(82390),b=e(69205),y=e(70906),k=e(91808),g=e(34541),m=e(47838),x=e(68144),Z=e(79932),w=e(83448),C=e(30153),E=e(41826),F=e(91741),A=e(18457),H=(e(3143),e(56007)),z=e(75692),D=e(93491),$=e(17616),B=e(22193),K=e(53658),S=(e(91476),e(75502));(0,k.Z)([(0,Z.Mo)("hui-weather-entity-row")],(function(t,i){var e,k=function(i){(0,b.Z)(s,i);var e=(0,y.Z)(s);function s(){var i;(0,v.Z)(this,s);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return i=e.call.apply(e,[this].concat(a)),t((0,p.Z)(i)),i}return(0,_.Z)(s)}(i);return{F:k,d:[{kind:"field",decorators:[(0,Z.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,Z.SB)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,Z.SB)()],key:"_forecastEvent",value:void 0},{kind:"field",decorators:[(0,Z.SB)()],key:"_subscribed",value:void 0},{kind:"method",key:"_unsubscribeForecastEvents",value:function(){this._subscribed&&(this._subscribed.then((function(t){return t()})),this._subscribed=void 0)}},{kind:"method",key:"_subscribeForecastEvents",value:(e=(0,f.Z)((0,u.Z)().mark((function t(){var i,e,s=this;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._unsubscribeForecastEvents(),this.hass&&this._config&&this.isConnected){t.next=3;break}return t.abrupt("return");case 3:i=this.hass.states[this._config.entity],(e=(0,z.k5)(i))&&(this._subscribed=(0,z.MC)(this.hass,i.entity_id,e,(function(t){s._forecastEvent=t})));case 6:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{kind:"method",key:"connectedCallback",value:function(){(0,g.Z)((0,m.Z)(k.prototype),"connectedCallback",this).call(this),this.hasUpdated&&this._subscribeForecastEvents()}},{kind:"method",key:"disconnectedCallback",value:function(){(0,g.Z)((0,m.Z)(k.prototype),"disconnectedCallback",this).call(this),this._unsubscribeForecastEvents()}},{kind:"method",key:"setConfig",value:function(t){if(null==t||!t.entity)throw new Error("Entity must be specified");this._config=t}},{kind:"method",key:"shouldUpdate",value:function(t){return(0,K.G2)(this,t)}},{kind:"method",key:"updated",value:function(t){(0,g.Z)((0,m.Z)(k.prototype),"updated",this).call(this,t),!t.has("_config")&&this._subscribed||this._subscribeForecastEvents()}},{kind:"method",key:"render",value:function(){if(!this.hass||!this._config)return x.Ld;var t=this.hass.states[this._config.entity];if(!t)return(0,x.dy)(s||(s=(0,l.Z)([" <hui-warning> "," </hui-warning> "])),(0,S.i)(this.hass,this._config.entity));var i=!(this._config.tap_action&&"none"!==this._config.tap_action.action),e=this._config.secondary_info,d=(0,z.Cq)(t.state,this,!1,this.hass.auth.accessToken),u=(0,z.Rt)(t.attributes,this._forecastEvent),f=null==u?void 0:u.forecast;return(0,x.dy)(n||(n=(0,l.Z)([' <div class="icon-image ','" @action="','" .actionHandler="','" tabindex="','"> ',' </div> <div class="info ','" @action="','" .actionHandler="','"> '," ",' </div> <div class="attributes ','" @action="','" .actionHandler="','"> <div> ',' </div> <div class="secondary"> '," </div> </div> "])),(0,w.$)({pointer:i}),this._handleAction,(0,D.K)({hasHold:(0,B._)(this._config.hold_action),hasDoubleClick:(0,B._)(this._config.double_tap_action)}),(0,C.o)(i?"0":void 0),d||(0,x.dy)(a||(a=(0,l.Z)([' <ha-state-icon class="weather-icon" .state="','"></ha-state-icon> '])),t),(0,w.$)({pointer:i,"text-content":!e}),this._handleAction,(0,D.K)({hasHold:(0,B._)(this._config.hold_action),hasDoubleClick:(0,B._)(this._config.double_tap_action)}),this._config.name||(0,F.C)(t),e?(0,x.dy)(o||(o=(0,l.Z)([' <div class="secondary"> '," </div> "])),"entity-id"===this._config.secondary_info?t.entity_id:"last-changed"===this._config.secondary_info?(0,x.dy)(c||(c=(0,l.Z)([' <ha-relative-time .hass="','" .datetime="','" capitalize></ha-relative-time> '])),this.hass,t.last_changed):"last-updated"===this._config.secondary_info?(0,x.dy)(r||(r=(0,l.Z)([' <ha-relative-time .hass="','" .datetime="','" capitalize></ha-relative-time> '])),this.hass,t.last_updated):""):"",(0,w.$)({pointer:i}),this._handleAction,(0,D.K)({hasHold:(0,B._)(this._config.hold_action),hasDoubleClick:(0,B._)(this._config.double_tap_action)}),(0,H.rk)(t.state)||void 0===t.attributes.temperature||null===t.attributes.temperature?(0,E.D1)(this.hass.localize,t,this.hass.locale,this.hass.config,this.hass.entities):(0,x.dy)(h||(h=(0,l.Z)([" "," "," "])),(0,A.uf)(t.attributes.temperature,this.hass.locale),(0,z.pv)(this.hass,t,"temperature")),(0,z.k2)(this.hass,t,f))}},{kind:"method",key:"_handleAction",value:function(t){(0,$.G)(this,this.hass,this._config,t.detail.action)}},{kind:"get",static:!0,key:"styles",value:function(){return[z.A$,(0,x.iv)(d||(d=(0,l.Z)([":host{display:flex;align-items:center;flex-direction:row}.info{margin-left:16px;flex:1 0 60px}.info,.info>*{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.icon-image{display:flex;align-items:center;min-width:40px}.icon-image>*{flex:0 0 40px;height:40px}.icon-image:focus{outline:0;background-color:var(--divider-color);border-radius:50%}.weather-icon{--mdc-icon-size:40px}:host([rtl]) .flex{margin-left:0;margin-right:16px}.pointer{cursor:pointer}.attributes{display:flex;flex-direction:column;justify-content:center;text-align:right;margin-left:8px}.secondary{color:var(--secondary-text-color)}"])))]}}]}}),x.oi)}}]);
//# sourceMappingURL=71850-xyXi3QaaqSo.js.map