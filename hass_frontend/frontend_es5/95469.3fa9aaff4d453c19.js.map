{"version":3,"file":"95469.3fa9aaff4d453c19.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20250401.0/src/panels/lovelace/cards/energy/hui-energy-solar-graph-card.ts","/unknown/node_modules/date-fns/constructNow.js","/unknown/node_modules/date-fns/isSameDay.js","/unknown/node_modules/date-fns/isToday.js"],"names":["HuiEnergySolarGraphCard","_decorate","customElement","_initialize","_SubscribeMixin","F","constructor","args","d","kind","decorators","property","attribute","key","value","state","startOfToday","endOfToday","_this$_config","getEnergyDataCollection","this","hass","_config","collection_key","subscribe","data","_getStatistics","config","changedProps","hasConfigChanged","size","has","html","_t","_","title","_t2","classMap","_chartData","_createOptions","_start","_end","locale","_compareStart","_compareEnd","length","_t3","isToday","localize","nothing","total","num","formatNumber","memoizeOne","start","end","compareStart","compareEnd","getCommonOptions","_formatTotal","energyData","startCompare","endCompare","solarSources","prefs","energy_sources","filter","source","type","forecasts","some","_source$config_entry_","config_entry_solar_forecast","getEnergySolarForecasts","_e","datasets","computedStyles","getComputedStyle","statsCompare","push","_processDataSet","statsMetadata","_solarSources$0$stat_","_solarSources$","firstId","stat_energy_from","id","stack","stats","fillDataGapsAndRoundCaps","_processForecast","getPropertyValue","statistics","statisticsMetaData","compare","compareTransform","getCompareTransform","forEach","idx","prevStart","solarProductionData","point","change","undefined","dataPoint","Date","cursor","name","getStatisticLabel","barMaxWidth","itemStyle","borderColor","getEnergyColor","themes","darkMode","color","dayDifference","differenceInDays","forecastsData","configEntryId","Object","entries","wh_hours","date","dateObj","setDate","setHours","setMinutes","time","getTime","solarForecastData","Number","step","lineStyle","width","symbol","static","css","_t4","SubscribeMixin","LitElement","constructNow","constructFrom","now","isSameDay","laterDate","earlierDate","options","dateLeft_","dateRight_","normalizeDates","in","startOfDay"],"mappings":"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"}