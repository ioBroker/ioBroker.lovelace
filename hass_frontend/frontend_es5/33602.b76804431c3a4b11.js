"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["33602"],{74617:function(a,t,i){i.d(t,{Cl:()=>r,TF:()=>c,ap:()=>d,eX:()=>e,gp:()=>u,mw:()=>o,rE:()=>l,wc:()=>n,xM:()=>s});i(40251);let o=function(a){return a.BIND="bind",a.CIFS="cifs",a.NFS="nfs",a}({}),e=function(a){return a.BACKUP="backup",a.MEDIA="media",a.SHARE="share",a}({}),n=function(a){return a.ACTIVE="active",a.FAILED="failed",a.UNKNOWN="unknown",a}({});const l=async a=>a.callWS({type:"supervisor/api",endpoint:"/mounts",method:"get",timeout:null}),s=async(a,t)=>a.callWS({type:"supervisor/api",endpoint:"/mounts",method:"post",timeout:null,data:t}),c=async(a,t)=>a.callWS({type:"supervisor/api",endpoint:`/mounts/${t.name}`,method:"put",timeout:null,data:t}),d=async(a,t)=>a.callWS({type:"supervisor/api",endpoint:`/mounts/${t}`,method:"delete",timeout:null}),u=async(a,t)=>a.callWS({type:"supervisor/api",endpoint:`/mounts/${t.name}/reload`,method:"post",timeout:null}),r=async(a,t)=>a.callWS({type:"supervisor/api",endpoint:"/mounts/options",method:"post",timeout:null,data:t})},74136:function(a,t,i){i.r(t);var o=i(61701),e=(i(71695),i(40251),i(47021),i(57243)),n=i(50778),l=i(36522),s=(i(59826),i(73729)),c=(i(29073),i(99426),i(56785)),d=i(74617),u=i(28008);let r,h,p,m=a=>a;const k=[{name:"default_backup_mount",required:!0,selector:{backup_location:{}}}];(0,o.Z)([(0,n.Mo)("dialog-local-backup-location")],(function(a,t){return{F:class extends t{constructor(...t){super(...t),a(this)}},d:[{kind:"field",decorators:[(0,n.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_dialogParams",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_data",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_waiting",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_error",value:void 0},{kind:"method",key:"showDialog",value:async function(a){this._dialogParams=a}},{kind:"method",key:"closeDialog",value:function(){this._data=void 0,this._error=void 0,this._waiting=void 0,this._dialogParams=void 0,(0,l.B)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){return this._dialogParams?(0,e.dy)(r||(r=m` <ha-dialog open scrimClickAction escapeKeyAction .heading="${0}" @closed="${0}"> ${0} <p> ${0} </p> <ha-form .hass="${0}" .data="${0}" .schema="${0}" .computeLabel="${0}" @value-changed="${0}" dialogInitialFocus></ha-form> <ha-alert alert-type="info"> ${0} </ha-alert> <ha-button slot="secondaryAction" @click="${0}" dialogInitialFocus> ${0} </ha-button> <ha-button .disabled="${0}" slot="primaryAction" @click="${0}"> ${0} </ha-button> </ha-dialog> `),(0,s.i)(this.hass,this.hass.localize("ui.panel.config.backup.dialogs.local_backup_location.title")),this.closeDialog,this._error?(0,e.dy)(h||(h=m`<ha-alert alert-type="error">${0}</ha-alert>`),this._error):e.Ld,this.hass.localize("ui.panel.config.backup.dialogs.local_backup_location.description"),this.hass,this._data,k,this._computeLabelCallback,this._valueChanged,this.hass.localize("ui.panel.config.backup.dialogs.local_backup_location.note"),this.closeDialog,this.hass.localize("ui.common.cancel"),this._waiting||!this._data,this._changeMount,this.hass.localize("ui.common.save")):e.Ld}},{kind:"field",key:"_computeLabelCallback",value(){return a=>this.hass.localize(`ui.panel.config.backup.dialogs.local_backup_location.options.${a.name}.name`)||a.name}},{kind:"method",key:"_valueChanged",value:function(a){const t=a.detail.value.default_backup_mount;this._data={default_backup_mount:"/backup"===t?null:t}}},{kind:"method",key:"_changeMount",value:async function(){if(this._data){this._error=void 0,this._waiting=!0;try{await(0,d.Cl)(this.hass,this._data)}catch(a){return this._error=(0,c.js)(a),void(this._waiting=!1)}this.closeDialog()}}},{kind:"get",static:!0,key:"styles",value:function(){return[u.Qx,u.yu,(0,e.iv)(p||(p=m`ha-dialog{--mdc-dialog-max-width:500px}ha-form{display:block;margin-bottom:16px}`))]}}]}}),e.oi)}}]);
//# sourceMappingURL=33602.b76804431c3a4b11.js.map