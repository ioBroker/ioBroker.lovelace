/*! For license information please see chunk.866fad1059292a1febda.js.LICENSE */
(self.webpackJsonp=self.webpackJsonp||[]).push([[87],{120:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(5);var a=n(55),r=n(35);const i=[a.a,r.a,{hostAttributes:{role:"option",tabindex:"0"}}]},143:function(e,t,n){"use strict";n(5),n(45),n(145);var a=n(6),r=n(4),i=n(120);Object(a.a)({_template:r.a`
    <style include="paper-item-shared-styles">
      :host {
        @apply --layout-horizontal;
        @apply --layout-center;
        @apply --paper-font-subhead;

        @apply --paper-item;
      }
    </style>
    <slot></slot>
`,is:"paper-item",behaviors:[i.a]})},145:function(e,t,n){"use strict";n(45),n(68),n(42),n(54);const a=document.createElement("template");a.setAttribute("style","display: none;"),a.innerHTML="<dom-module id=\"paper-item-shared-styles\">\n  <template>\n    <style>\n      :host, .paper-item {\n        display: block;\n        position: relative;\n        min-height: var(--paper-item-min-height, 48px);\n        padding: 0px 16px;\n      }\n\n      .paper-item {\n        @apply --paper-font-subhead;\n        border:none;\n        outline: none;\n        background: white;\n        width: 100%;\n        text-align: left;\n      }\n\n      :host([hidden]), .paper-item[hidden] {\n        display: none !important;\n      }\n\n      :host(.iron-selected), .paper-item.iron-selected {\n        font-weight: var(--paper-item-selected-weight, bold);\n\n        @apply --paper-item-selected;\n      }\n\n      :host([disabled]), .paper-item[disabled] {\n        color: var(--paper-item-disabled-color, var(--disabled-text-color));\n\n        @apply --paper-item-disabled;\n      }\n\n      :host(:focus), .paper-item:focus {\n        position: relative;\n        outline: 0;\n\n        @apply --paper-item-focused;\n      }\n\n      :host(:focus):before, .paper-item:focus:before {\n        @apply --layout-fit;\n\n        background: currentColor;\n        content: '';\n        opacity: var(--dark-divider-opacity);\n        pointer-events: none;\n\n        @apply --paper-item-focused-before;\n      }\n    </style>\n  </template>\n</dom-module>",document.head.appendChild(a.content)},177:function(e,t,n){"use strict";var a,r,i,o,s=n(0),c=n(1),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.d)(t,e),Object.defineProperty(t,"styles",{get:function(){return Object(c.c)(a||(a=Object(s.f)(["\n      :host {\n        background: var(\n          --ha-card-background,\n          var(--paper-card-background-color, white)\n        );\n        border-radius: var(--ha-card-border-radius, 2px);\n        box-shadow: var(\n          --ha-card-box-shadow,\n          0 2px 2px 0 rgba(0, 0, 0, 0.14),\n          0 1px 5px 0 rgba(0, 0, 0, 0.12),\n          0 3px 1px -2px rgba(0, 0, 0, 0.2)\n        );\n        color: var(--primary-text-color);\n        display: block;\n        transition: all 0.3s ease-out;\n        position: relative;\n      }\n\n      .card-header,\n      :host ::slotted(.card-header) {\n        color: var(--ha-card-header-color, --primary-text-color);\n        font-family: var(--ha-card-header-font-family, inherit);\n        font-size: var(--ha-card-header-font-size, 24px);\n        letter-spacing: -0.012em;\n        line-height: 32px;\n        padding: 24px 16px 16px;\n        display: block;\n      }\n\n      :host ::slotted(.card-content:not(:first-child)),\n      slot:not(:first-child)::slotted(.card-content) {\n        padding-top: 0px;\n        margin-top: -8px;\n      }\n\n      :host ::slotted(.card-content) {\n        padding: 16px;\n      }\n\n      :host ::slotted(.card-actions) {\n        border-top: 1px solid #e8e8e8;\n        padding: 5px 16px;\n      }\n    "],["\n      :host {\n        background: var(\n          --ha-card-background,\n          var(--paper-card-background-color, white)\n        );\n        border-radius: var(--ha-card-border-radius, 2px);\n        box-shadow: var(\n          --ha-card-box-shadow,\n          0 2px 2px 0 rgba(0, 0, 0, 0.14),\n          0 1px 5px 0 rgba(0, 0, 0, 0.12),\n          0 3px 1px -2px rgba(0, 0, 0, 0.2)\n        );\n        color: var(--primary-text-color);\n        display: block;\n        transition: all 0.3s ease-out;\n        position: relative;\n      }\n\n      .card-header,\n      :host ::slotted(.card-header) {\n        color: var(--ha-card-header-color, --primary-text-color);\n        font-family: var(--ha-card-header-font-family, inherit);\n        font-size: var(--ha-card-header-font-size, 24px);\n        letter-spacing: -0.012em;\n        line-height: 32px;\n        padding: 24px 16px 16px;\n        display: block;\n      }\n\n      :host ::slotted(.card-content:not(:first-child)),\n      slot:not(:first-child)::slotted(.card-content) {\n        padding-top: 0px;\n        margin-top: -8px;\n      }\n\n      :host ::slotted(.card-content) {\n        padding: 16px;\n      }\n\n      :host ::slotted(.card-actions) {\n        border-top: 1px solid #e8e8e8;\n        padding: 5px 16px;\n      }\n    "])))},enumerable:!0,configurable:!0}),t.prototype.render=function(){return Object(c.f)(o||(o=Object(s.f)(["\n      ","\n      <slot></slot>\n    "],["\n      ","\n      <slot></slot>\n    "])),this.header?Object(c.f)(r||(r=Object(s.f)(['\n            <div class="card-header">',"</div>\n          "],['\n            <div class="card-header">',"</div>\n          "])),this.header):Object(c.f)(i||(i=Object(s.f)([""],[""]))))},Object(s.c)([Object(c.g)()],t.prototype,"header",void 0),t}(c.a);customElements.define("ha-card",d)},181:function(e,t,n){"use strict";n(5),n(45),n(42),n(54);var a=n(6),r=n(4);Object(a.a)({_template:r.a`
    <style>
      :host {
        overflow: hidden; /* needed for text-overflow: ellipsis to work on ff */
        @apply --layout-vertical;
        @apply --layout-center-justified;
        @apply --layout-flex;
      }

      :host([two-line]) {
        min-height: var(--paper-item-body-two-line-min-height, 72px);
      }

      :host([three-line]) {
        min-height: var(--paper-item-body-three-line-min-height, 88px);
      }

      :host > ::slotted(*) {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      :host > ::slotted([secondary]) {
        @apply --paper-font-body1;

        color: var(--paper-item-body-secondary-color, var(--secondary-text-color));

        @apply --paper-item-body-secondary;
      }
    </style>

    <slot></slot>
`,is:"paper-item-body"})},195:function(e,t,n){"use strict";var a=n(4),r=n(30);n(95);customElements.define("ha-config-section",class extends r.a{static get template(){return a.a`
      <style include="iron-flex ha-style">
        .content {
          padding: 28px 20px 0;
          max-width: 1040px;
          margin: 0 auto;
        }

        .header {
          @apply --paper-font-display1;
          opacity: var(--dark-primary-opacity);
        }

        .together {
          margin-top: 32px;
        }

        .intro {
          @apply --paper-font-subhead;
          width: 100%;
          max-width: 400px;
          margin-right: 40px;
          opacity: var(--dark-primary-opacity);
        }

        .panel {
          margin-top: -24px;
        }

        .panel ::slotted(*) {
          margin-top: 24px;
          display: block;
        }

        .narrow.content {
          max-width: 640px;
        }
        .narrow .together {
          margin-top: 20px;
        }
        .narrow .header {
          @apply --paper-font-headline;
        }
        .narrow .intro {
          font-size: 14px;
          padding-bottom: 20px;
          margin-right: 0;
          max-width: 500px;
        }
      </style>
      <div class$="[[computeContentClasses(isWide)]]">
        <div class="header"><slot name="header"></slot></div>
        <div class$="[[computeClasses(isWide)]]">
          <div class="intro"><slot name="introduction"></slot></div>
          <div class="panel flex-auto"><slot></slot></div>
        </div>
      </div>
    `}static get properties(){return{hass:{type:Object},narrow:{type:Boolean},isWide:{type:Boolean,value:!1}}}computeContentClasses(e){return e?"content ":"content narrow"}computeClasses(e){return"together layout "+(e?"horizontal":"vertical narrow")}})},198:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e,t){return e<t?-1:e>t?1:0},r=function(e,t){return a(e.toLowerCase(),t.toLowerCase())}},232:function(e,t,n){"use strict";var a,r,i=n(0),o=n(14),s=n(74);n(239),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(i.d)(t,e),t.prototype.render=function(){var e={"mdc-fab--mini":this.mini,"mdc-fab--exited":this.exited,"mdc-fab--extended":this.extended},t=""!==this.label&&this.extended;return Object(o.g)(r||(r=Object(i.f)(['\n      <button\n        .ripple="','"\n        class="mdc-fab ','"\n        ?disabled="','"\n        aria-label="','"\n      >\n        ',"\n        ","\n        ","\n      </button>\n    "],['\n      <button\n        .ripple="','"\n        class="mdc-fab ','"\n        ?disabled="','"\n        aria-label="','"\n      >\n        ',"\n        ","\n        ","\n      </button>\n    "])),Object(s.a)(),Object(o.d)(e),this.disabled,this.label||this.icon,t&&this.showIconAtEnd?this.label:"",this.icon?Object(o.g)(a||(a=Object(i.f)(["\n              <ha-icon .icon=","></ha-icon>\n            "],["\n              <ha-icon .icon=","></ha-icon>\n            "])),this.icon):"",t&&!this.showIconAtEnd?this.label:"")},t=Object(i.c)([Object(o.f)("ha-fab")],t)}(customElements.get("mwc-fab"))},239:function(e,t,n){"use strict";var a=n(0),r=n(14),i=n(74);class o extends r.b{constructor(){super(...arguments),this.mini=!1,this.exited=!1,this.disabled=!1,this.extended=!1,this.showIconAtEnd=!1,this.icon="",this.label=""}createRenderRoot(){return this.attachShadow({mode:"open",delegatesFocus:!0})}render(){const e={"mdc-fab--mini":this.mini,"mdc-fab--exited":this.exited,"mdc-fab--extended":this.extended},t=""!==this.label&&this.extended;return r.g`
      <button
          .ripple="${Object(i.a)()}"
          class="mdc-fab ${Object(r.d)(e)}"
          ?disabled="${this.disabled}"
          aria-label="${this.label||this.icon}">
        ${t&&this.showIconAtEnd?this.label:""}
        ${this.icon?r.g`
          <span class="material-icons mdc-fab__icon">${this.icon}</span>`:""}
        ${t&&!this.showIconAtEnd?this.label:""}
      </button>`}}Object(a.c)([Object(r.i)({type:Boolean})],o.prototype,"mini",void 0),Object(a.c)([Object(r.i)({type:Boolean})],o.prototype,"exited",void 0),Object(a.c)([Object(r.i)({type:Boolean})],o.prototype,"disabled",void 0),Object(a.c)([Object(r.i)({type:Boolean})],o.prototype,"extended",void 0),Object(a.c)([Object(r.i)({type:Boolean})],o.prototype,"showIconAtEnd",void 0),Object(a.c)([Object(r.i)()],o.prototype,"icon",void 0),Object(a.c)([Object(r.i)()],o.prototype,"label",void 0);const s=r.e`.material-icons{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}.mdc-fab{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 6px 10px 0px rgba(0, 0, 0, 0.14),0px 1px 18px 0px rgba(0,0,0,.12);display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:hidden;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);background-color:#018786;color:#fff;color:var(--mdc-theme-on-secondary, #fff)}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab:hover,.mdc-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0,0,0,.12)}.mdc-fab:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2),0px 12px 17px 2px rgba(0, 0, 0, 0.14),0px 5px 22px 4px rgba(0,0,0,.12)}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}@supports not (-ms-ime-align: auto){.mdc-fab{background-color:var(--mdc-theme-secondary, #018786)}}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{font-family:Roboto, sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:2.25rem;font-weight:500;letter-spacing:.0892857143em;text-decoration:none;text-transform:uppercase;border-radius:24px;padding:0 20px;width:auto;max-width:100%;height:48px}.mdc-fab--extended .mdc-fab__icon{margin-left:-8px;margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:-8px}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:-8px}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:-8px;margin-right:12px}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}.mdc-ripple-surface--test-edge-var-bug{--mdc-ripple-surface-test-edge-var: 1px solid #000;visibility:hidden}.mdc-ripple-surface--test-edge-var-bug::before{border:var(--mdc-ripple-surface-test-edge-var)}.mdc-fab{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-fab::before,.mdc-fab::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}.mdc-fab::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1}.mdc-fab.mdc-ripple-upgraded::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-fab.mdc-ripple-upgraded::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-fab.mdc-ripple-upgraded--unbounded::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-fab.mdc-ripple-upgraded--foreground-activation::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-fab.mdc-ripple-upgraded--foreground-deactivation::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-fab::before,.mdc-fab::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-fab.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-fab::before,.mdc-fab::after{background-color:#fff}@supports not (-ms-ime-align: auto){.mdc-fab::before,.mdc-fab::after{background-color:var(--mdc-theme-on-secondary, #fff)}}.mdc-fab:hover::before{opacity:.08}.mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mdc-fab.mdc-ripple-upgraded--background-focused::before{transition-duration:75ms;opacity:.24}.mdc-fab:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-fab:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:.24}.mdc-fab.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.24}:host{outline:none}`;let c=class extends o{};c.styles=s,c=Object(a.c)([Object(r.f)("mwc-fab")],c)},338:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return c}));var a=n(0),r="system-admin",i="system-users",o=function(e){return Object(a.b)(void 0,void 0,void 0,(function(){return Object(a.e)(this,(function(t){return[2,e.callWS({type:"config/auth/list"})]}))}))},s=function(e,t,n){return Object(a.b)(void 0,void 0,void 0,(function(){return Object(a.e)(this,(function(r){return[2,e.callWS(Object(a.a)(Object(a.a)({},n),{type:"config/auth/update",user_id:t}))]}))}))},c=function(e,t){return Object(a.b)(void 0,void 0,void 0,(function(){return Object(a.e)(this,(function(n){return[2,e.callWS({type:"config/auth/delete",user_id:t})]}))}))}},736:function(e,t,n){"use strict";n.r(t);var a,r,i,o,s,c,d,p,l,f=n(0),m=n(1),b=(n(143),n(181),function(e,t){return e.callWS(Object(f.a)({type:"person/create"},t))}),h=(n(177),n(232),n(152),n(159),n(198)),u=(n(195),n(18)),g=function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(105)]).then(n.bind(null,729))},x=n(338),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(f.d)(t,e),Object.defineProperty(t,"properties",{get:function(){return{hass:{},isWide:{},_storageItems:{},_configItems:{}}},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this;return this.hass&&void 0!==this._storageItems&&void 0!==this._configItems?Object(m.f)(p||(p=Object(f.f)(['\n      <hass-subpage header="Persons">\n        <ha-config-section .isWide=','>\n          <span slot="header">Persons</span>\n          <span slot="introduction">\n            Here you can define each person of interest in ioBroker.\n            ','\n          </span>\n          <ha-card class="storage">\n            ',"\n            ","\n          </ha-card>\n          ","\n        </ha-config-section>\n      </hass-subpage>\n\n      <ha-fab\n        ?is-wide=",'\n        icon="hass:plus"\n        title="Add Person"\n        @click=',"\n      ></ha-fab>\n    "],['\n      <hass-subpage header="Persons">\n        <ha-config-section .isWide=','>\n          <span slot="header">Persons</span>\n          <span slot="introduction">\n            Here you can define each person of interest in ioBroker.\n            ','\n          </span>\n          <ha-card class="storage">\n            ',"\n            ","\n          </ha-card>\n          ","\n        </ha-config-section>\n      </hass-subpage>\n\n      <ha-fab\n        ?is-wide=",'\n        icon="hass:plus"\n        title="Add Person"\n        @click=',"\n      ></ha-fab>\n    "])),this.isWide,this._configItems.length>0?Object(m.f)(r||(r=Object(f.f)(["\n                  <p>\n                    Note: persons configured via configuration.yaml cannot be\n                    edited via the UI.\n                  </p>\n                "],["\n                  <p>\n                    Note: persons configured via configuration.yaml cannot be\n                    edited via the UI.\n                  </p>\n                "]))):"",this._storageItems.map((function(t){return Object(m.f)(i||(i=Object(f.f)(["\n                <paper-item @click="," .entry=",">\n                  <paper-item-body>\n                    ","\n                  </paper-item-body>\n                </paper-item>\n              "],["\n                <paper-item @click="," .entry=",">\n                  <paper-item-body>\n                    ","\n                  </paper-item-body>\n                </paper-item>\n              "])),e._openEditEntry,t,t.name)})),0===this._storageItems.length?Object(m.f)(o||(o=Object(f.f)(['\n                  <div class="empty">\n                    Looks like you have not created any persons yet.\n                    <mwc-button @click=',">\n                      CREATE PERSON</mwc-button\n                    >\n                  </div>\n                "],['\n                  <div class="empty">\n                    Looks like you have not created any persons yet.\n                    <mwc-button @click=',">\n                      CREATE PERSON</mwc-button\n                    >\n                  </div>\n                "])),this._createPerson):Object(m.f)(s||(s=Object(f.f)([""],[""]))),this._configItems.length>0?Object(m.f)(d||(d=Object(f.f)(['\n                <ha-card header="Configuration.yaml persons">\n                  ',"\n                </ha-card>\n              "],['\n                <ha-card header="Configuration.yaml persons">\n                  ',"\n                </ha-card>\n              "])),this._configItems.map((function(e){return Object(m.f)(c||(c=Object(f.f)(["\n                      <paper-item>\n                        <paper-item-body>\n                          ","\n                        </paper-item-body>\n                      </paper-item>\n                    "],["\n                      <paper-item>\n                        <paper-item-body>\n                          ","\n                        </paper-item-body>\n                      </paper-item>\n                    "])),e.name)}))):"",this.isWide,this._createPerson):Object(m.f)(a||(a=Object(f.f)(["\n        <hass-loading-screen></hass-loading-screen>\n      "],["\n        <hass-loading-screen></hass-loading-screen>\n      "])))},t.prototype.firstUpdated=function(t){e.prototype.firstUpdated.call(this,t),this._fetchData(),g()},t.prototype._fetchData=function(){return Object(f.b)(this,void 0,void 0,(function(){var e;return Object(f.e)(this,(function(t){switch(t.label){case 0:return this._usersLoad=Object(x.d)(this.hass),[4,(n=this.hass,n.callWS({type:"person/list"}))];case 1:return e=t.sent(),this._storageItems=e.storage.sort((function(e,t){return Object(h.b)(e.name,t.name)})),this._configItems=e.config.sort((function(e,t){return Object(h.b)(e.name,t.name)})),[2]}var n}))}))},t.prototype._createPerson=function(){this._openDialog()},t.prototype._openEditEntry=function(e){var t=e.currentTarget.entry;this._openDialog(t)},t.prototype._allowedUsers=function(e,t){for(var n=new Set,a=0,r=[this._configItems,this._storageItems];a<r.length;a++)for(var i=0,o=r[a];i<o.length;i++){var s=o[i];s.user_id&&n.add(s.user_id)}var c=t?t.user_id:void 0;return e.filter((function(e){return e.id===c||!n.has(e.id)}))},t.prototype._openDialog=function(e){return Object(f.b)(this,void 0,void 0,(function(){var t,n=this;return Object(f.e)(this,(function(a){switch(a.label){case 0:return[4,this._usersLoad];case 1:return t=a.sent(),r=this,i={entry:e,users:this._allowedUsers(t,e),createEntry:function(e){return Object(f.b)(n,void 0,void 0,(function(){var t;return Object(f.e)(this,(function(n){switch(n.label){case 0:return[4,b(this.hass,e)];case 1:return t=n.sent(),this._storageItems=this._storageItems.concat(t).sort((function(e,t){return Object(h.b)(e.name,t.name)})),[2]}}))}))},updateEntry:function(t){return Object(f.b)(n,void 0,void 0,(function(){var n;return Object(f.e)(this,(function(a){switch(a.label){case 0:return[4,(r=this.hass,i=e.id,o=t,r.callWS(Object(f.a)({type:"person/update",person_id:i},o)))];case 1:return n=a.sent(),this._storageItems=this._storageItems.map((function(t){return t===e?n:t})),[2]}var r,i,o}))}))},removeEntry:function(){return Object(f.b)(n,void 0,void 0,(function(){return Object(f.e)(this,(function(t){switch(t.label){case 0:if(!confirm("Are you sure you want to delete this person?\n\nAll devices belonging to this person will become unassigned."))return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(n=this.hass,a=e.id,n.callWS({type:"person/delete",person_id:a}))];case 2:return t.sent(),this._storageItems=this._storageItems.filter((function(t){return t!==e})),[2,!0];case 3:return t.sent(),[2,!1];case 4:return[2]}var n,a}))}))}},Object(u.a)(r,"show-dialog",{dialogTag:"dialog-person-detail",dialogImport:g,dialogParams:i}),[2]}var r,i}))}))},Object.defineProperty(t,"styles",{get:function(){return Object(m.c)(l||(l=Object(f.f)(["\n      a {\n        color: var(--primary-color);\n      }\n      ha-card {\n        max-width: 600px;\n        margin: 16px auto;\n        overflow: hidden;\n      }\n      .empty {\n        text-align: center;\n        padding: 8px;\n      }\n      paper-item {\n        padding-top: 4px;\n        padding-bottom: 4px;\n      }\n      ha-card.storage paper-item {\n        cursor: pointer;\n      }\n      ha-fab {\n        position: fixed;\n        bottom: 16px;\n        right: 16px;\n        z-index: 1;\n      }\n\n      ha-fab[is-wide] {\n        bottom: 24px;\n        right: 24px;\n      }\n    "],["\n      a {\n        color: var(--primary-color);\n      }\n      ha-card {\n        max-width: 600px;\n        margin: 16px auto;\n        overflow: hidden;\n      }\n      .empty {\n        text-align: center;\n        padding: 8px;\n      }\n      paper-item {\n        padding-top: 4px;\n        padding-bottom: 4px;\n      }\n      ha-card.storage paper-item {\n        cursor: pointer;\n      }\n      ha-fab {\n        position: fixed;\n        bottom: 16px;\n        right: 16px;\n        z-index: 1;\n      }\n\n      ha-fab[is-wide] {\n        bottom: 24px;\n        right: 24px;\n      }\n    "])))},enumerable:!0,configurable:!0}),t}(m.a);customElements.define("ha-config-person",y)}}]);
//# sourceMappingURL=chunk.866fad1059292a1febda.js.map