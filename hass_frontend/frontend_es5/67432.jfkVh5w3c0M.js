"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[67432],{26410:function(e,n,t){t.d(n,{Bt:function(){return a},T8:function(){return s}});t(40271),t(56308);var r=t(22075),o=t(66477),i=(t(4631),["sunday","monday","tuesday","wednesday","thursday","friday","saturday"]),a=function(e){return e.first_weekday===o.FS.language?"weekInfo"in Intl.Locale.prototype?new Intl.Locale(e.language).weekInfo.firstDay%7:(0,r.L)(e.language)%7:i.includes(e.first_weekday)?i.indexOf(e.first_weekday):1},s=function(e){var n=a(e);return i[n]}},80596:function(e,n,t){t.d(n,{G:function(){return l}});var r=t(14516),o=(t(4631),t(85717),t(24112)),i=t(59401),a=t(35040),s=t(26410);var c={second:45,minute:45,hour:22,day:5,week:4,month:11},u=(0,r.Z)((function(e){return new Intl.RelativeTimeFormat(e.language,{numeric:"auto"})})),l=function(e,n,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),t=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=Object.assign(Object.assign({},c),r||{}),l=(+e-+n)/1e3;if(Math.abs(l)<u.second)return{value:Math.round(l),unit:"second"};var d=l/60;if(Math.abs(d)<u.minute)return{value:Math.round(d),unit:"minute"};var p=l/3600;if(Math.abs(p)<u.hour)return{value:Math.round(p),unit:"hour"};var f=new Date(e),m=new Date(n);f.setHours(0,0,0,0),m.setHours(0,0,0,0);var h=(0,o.Z)(f,m);if(0===h)return{value:Math.round(p),unit:"hour"};if(Math.abs(h)<u.day)return{value:h,unit:"day"};var _=(0,s.Bt)(t),g=(0,i.Z)(f,{weekStartsOn:_}),w=(0,i.Z)(m,{weekStartsOn:_}),v=(0,a.Z)(g,w);if(0===v)return{value:h,unit:"day"};if(Math.abs(v)<u.week)return{value:v,unit:"week"};var y=f.getFullYear()-m.getFullYear(),k=12*y+f.getMonth()-m.getMonth();return 0===k?{value:v,unit:"week"}:Math.abs(k)<u.month||0===y?{value:k,unit:"month"}:{value:Math.round(y),unit:"year"}}(e,t,n);return r?u(n).format(l.value,l.unit):Intl.NumberFormat(n.language,{style:"unit",unit:l.unit,unitDisplay:"long"}).format(Math.abs(l.value))}},21780:function(e,n,t){t.d(n,{f:function(){return r}});t(17692);var r=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},45339:function(e,n,t){t.d(n,{$X:function(){return h},EB:function(){return f},F$:function(){return l},Ur:function(){return u},eJ:function(){return p},iU:function(){return d},wC:function(){return s}});var r=t(99312),o=t(81043),i=t(97330),a=t(38346),s={critical:1,error:2,warning:3},c=function(e){return e.sendMessagePromise({type:"repairs/list_issues"})},u=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n,t,o){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.callWS({type:"repairs/ignore_issue",issue_id:t.issue_id,domain:t.domain,ignore:o}));case 1:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),l=function(e,n,t){return e.callApi("POST","repairs/issues/fix",{handler:n,issue_id:t})},d=function(e,n){return e.callApi("GET","repairs/issues/fix/".concat(n))},p=function(e,n,t){return e.callApi("POST","repairs/issues/fix/".concat(n),t)},f=function(e,n){return e.callApi("DELETE","repairs/issues/fix/".concat(n))},m=function(e,n){return e.subscribeEvents((0,a.D)((function(){return c(e).then((function(e){return n.setState(e,!0)}))}),500,!0),"repairs_issue_registry_updated")},h=function(e,n){return(0,i.B)("_repairsIssueRegistry",c,m,e,n)}},52871:function(e,n,t){t.d(n,{w:function(){return i}});t(51358),t(46798),t(47084),t(5239),t(98490),t(85717);var r=t(47181),o=function(){return Promise.all([t.e(42850),t.e(46992),t.e(79071),t.e(3298),t.e(28597),t.e(78133),t.e(50731),t.e(33829),t.e(52154),t.e(31140),t.e(81312),t.e(40163),t.e(68101),t.e(49338)]).then(t.bind(t,59159))},i=function(e,n,t){(0,r.B)(e,"show-dialog",{dialogTag:"dialog-data-entry-flow",dialogImport:o,dialogParams:Object.assign(Object.assign({},n),{},{flowConfig:t,dialogParentElement:e})})}},67432:function(e,n,t){var r,o,i,a,s,c,u,l,d,p,f,m=t(88962),h=t(33368),_=t(71650),g=t(82390),w=t(69205),v=t(70906),y=t(91808),k=(t(97393),t(76843),t(46349),t(70320),t(61641),t(68144)),b=t(95260),x=t(80596),z=t(21780),Z=(t(9381),t(22098),t(73366),t(52039),t(5986)),S=t(11254),F=t(99312),M=t(68990),D=t(81043),T=(t(51358),t(46798),t(47084),t(5239),t(98490),t(22859),t(45339)),B=t(52871),C=t(47181),I=function(){return Promise.all([t.e(3298),t.e(28597),t.e(83429),t.e(81312),t.e(14921)]).then(t.bind(t,14921))};(0,y.Z)([(0,b.Mo)("ha-config-repairs")],(function(e,n){var t=function(n){(0,w.Z)(r,n);var t=(0,v.Z)(r);function r(){var n;(0,_.Z)(this,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=t.call.apply(t,[this].concat(i)),e((0,g.Z)(n)),n}return(0,h.Z)(r)}(n);return{F:t,d:[{kind:"field",decorators:[(0,b.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,b.Cb)({type:Boolean})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,b.Cb)({attribute:!1})],key:"repairsIssues",value:void 0},{kind:"field",decorators:[(0,b.Cb)({type:Number})],key:"total",value:void 0},{kind:"method",key:"render",value:function(){var e,n=this;if(null===(e=this.repairsIssues)||void 0===e||!e.length)return k.Ld;var t=this.repairsIssues;return(0,k.dy)(u||(u=(0,m.Z)([' <div class="title"> '," </div> <mwc-list> "," </mwc-list> "])),this.hass.localize("ui.panel.config.repairs.title",{count:this.total||this.repairsIssues.length}),t.map((function(e){var t;return(0,k.dy)(l||(l=(0,m.Z)([' <ha-list-item twoline graphic="medium" .hasMeta="','" .issue="','" class="','" @click="','"> <img alt="','" loading="lazy" src="','" .title="','" crossorigin="anonymous" referrerpolicy="no-referrer" slot="graphic"> <span>','</span> <span slot="secondary" class="secondary"> '," "," "," "," </span> "," </ha-list-item> "])),!n.narrow,e,e.ignored?"ignored":"",n._openShowMoreDialog,(0,Z.Lh)(n.hass.localize,e.domain),(0,S.X1)({domain:e.issue_domain||e.domain,type:"icon",useFallback:!0,darkOptimized:null===(t=n.hass.themes)||void 0===t?void 0:t.darkMode}),(0,Z.Lh)(n.hass.localize,e.domain),n.hass.localize("component.".concat(e.domain,".issues.").concat(e.translation_key||e.issue_id,".title"),e.translation_placeholders||{}),"critical"===e.severity||"error"===e.severity?(0,k.dy)(d||(d=(0,m.Z)(['<span class="error">',"</span>"])),n.hass.localize("ui.panel.config.repairs.".concat(e.severity))):"","critical"!==e.severity&&"error"!==e.severity||!e.created?"":" - ",e.created?(0,z.f)((0,x.G)(new Date(e.created),n.hass.locale)):"",e.ignored?" - ".concat(n.hass.localize("ui.panel.config.repairs.dialog.ignored_in_version_short",{version:e.dismissed_version})):"",n.narrow?"":(0,k.dy)(p||(p=(0,m.Z)(['<ha-icon-next slot="meta"></ha-icon-next>']))))})))}},{kind:"method",key:"_openShowMoreDialog",value:function(e){var n,t,u=e.currentTarget.issue;u.is_fixable?function(e,n,t){return(0,B.w)(e,{startFlowHandler:n.domain,domain:n.domain,dialogClosedCallback:t},{flowType:"repair_flow",loadDevicesAndAreas:!1,createFlow:(l=(0,D.Z)((0,F.Z)().mark((function e(t,r){var o,i,a;return(0,F.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([(0,T.F$)(t,r,n.issue_id),t.loadBackendTranslation("issues",n.domain),t.loadBackendTranslation("selector",n.domain)]);case 2:return o=e.sent,i=(0,M.Z)(o,1),a=i[0],e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)}))),function(e,n){return l.apply(this,arguments)}),fetchFlow:(u=(0,D.Z)((0,F.Z)().mark((function e(t,r){var o,i,a;return(0,F.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([(0,T.iU)(t,r),t.loadBackendTranslation("issues",n.domain),t.loadBackendTranslation("selector",n.domain)]);case 2:return o=e.sent,i=(0,M.Z)(o,1),a=i[0],e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)}))),function(e,n){return u.apply(this,arguments)}),handleFlowStep:T.eJ,deleteFlow:T.EB,renderAbortDescription:function(e,t){var o=e.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".fix_flow.abort.").concat(t.reason),t.description_placeholders);return o?(0,k.dy)(r||(r=(0,m.Z)([' <ha-markdown breaks allowsvg .content="','"></ha-markdown> '])),o):""},renderShowFormStepHeader:function(e,t){return e.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".fix_flow.step.").concat(t.step_id,".title"),t.description_placeholders)||e.localize("ui.dialogs.repair_flow.form.header")},renderShowFormStepDescription:function(e,t){var r=e.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".fix_flow.step.").concat(t.step_id,".description"),t.description_placeholders);return r?(0,k.dy)(o||(o=(0,m.Z)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),r):""},renderShowFormStepFieldLabel:function(e,t,r){return e.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".fix_flow.step.").concat(t.step_id,".data.").concat(r.name))},renderShowFormStepFieldHelper:function(e,t,r){var o=e.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".fix_flow.step.").concat(t.step_id,".data_description.").concat(r.name),t.description_placeholders);return o?(0,k.dy)(i||(i=(0,m.Z)(['<ha-markdown breaks .content="','"></ha-markdown>'])),o):""},renderShowFormStepFieldError:function(e,t,r){return e.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".fix_flow.error.").concat(r),t.description_placeholders)},renderShowFormStepFieldLocalizeValue:function(e,t,r){return e.localize("component.".concat(n.domain,".selector.").concat(r))},renderShowFormStepSubmitButton:function(e,t){return e.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".fix_flow.step.").concat(t.step_id,".submit"))||e.localize("ui.panel.config.integrations.config_flow.".concat(!1===t.last_step?"next":"submit"))},renderExternalStepHeader:function(e,n){return""},renderExternalStepDescription:function(e,n){return""},renderCreateEntryDescription:function(e,n){return(0,k.dy)(a||(a=(0,m.Z)([" <p>","</p> "])),e.localize("ui.dialogs.repair_flow.success.description"))},renderShowFormProgressHeader:function(e,t){return e.localize("component.".concat(n.domain,".issues.step.").concat(n.translation_key||n.issue_id,".fix_flow.").concat(t.step_id,".title"))||e.localize("component.".concat(n.domain,".title"))},renderShowFormProgressDescription:function(e,t){var r=e.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".fix_flow.progress.").concat(t.progress_action),t.description_placeholders);return r?(0,k.dy)(s||(s=(0,m.Z)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),r):""},renderMenuHeader:function(e,t){return e.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".fix_flow.step.").concat(t.step_id,".title"))||e.localize("component.".concat(n.domain,".title"))},renderMenuDescription:function(e,t){var r=e.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".fix_flow.step.").concat(t.step_id,".description"),t.description_placeholders);return r?(0,k.dy)(c||(c=(0,m.Z)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),r):""},renderMenuOption:function(e,t,r){return e.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".fix_flow.step.").concat(t.step_id,".menu_options.").concat(r),t.description_placeholders)},renderLoadingDescription:function(e,t){return e.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".fix_flow.loading"))||("loading_flow"===t||"loading_step"===t?e.localize("ui.dialogs.repair_flow.loading.".concat(t),{integration:(0,Z.Lh)(e.localize,n.domain)}):"")}});var u,l}(this,u):(n=this,t={issue:u},(0,C.B)(n,"show-dialog",{dialogTag:"dialog-repairs-issue",dialogImport:I,dialogParams:t}))}},{kind:"field",static:!0,key:"styles",value:function(){return(0,k.iv)(f||(f=(0,m.Z)([":host{--mdc-list-vertical-padding:0}.title{font-size:16px;padding:16px;padding-bottom:0}.ignored{opacity:var(--light-secondary-opacity)}ha-list-item{--mdc-list-item-graphic-size:40px}button.show-more{color:var(--primary-color);text-align:left;cursor:pointer;background:0 0;border-width:initial;border-style:none;border-color:initial;border-image:initial;padding:16px;font:inherit}button.show-more:focus{outline:0;text-decoration:underline}ha-list-item{cursor:pointer;font-size:16px}.error{color:var(--error-color)}"])))}}]}}),k.oi)},4631:function(e,n,t){t.r(n);t(7151),t(33633),t(25534),t(64827),t(23044),t(1437),t(87520),t(42661),t(78337),t(87065),t(6042),t(19440),t(50897),t(30056),t(12679)},11254:function(e,n,t){t.d(n,{RU:function(){return o},X1:function(){return r},u4:function(){return i},zC:function(){return a}});t(97393),t(88640);var r=function(e){return"https://brands.home-assistant.io/".concat(e.brand?"brands/":"").concat(e.useFallback?"_/":"").concat(e.domain,"/").concat(e.darkOptimized?"dark_":"").concat(e.type,".png")},o=function(e){return"https://brands.home-assistant.io/hardware/".concat(e.category,"/").concat(e.darkOptimized?"dark_":"").concat(e.manufacturer).concat(e.model?"_".concat(e.model):"",".png")},i=function(e){return e.split("/")[4]},a=function(e){return e.startsWith("https://brands.home-assistant.io/")}}}]);
//# sourceMappingURL=67432.jfkVh5w3c0M.js.map