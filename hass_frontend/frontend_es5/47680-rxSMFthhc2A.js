"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[47680],{34007:function(t,e,n){n.d(e,{N:function(){return i}});var r=[" ",": "],i=function(t,e){for(var n=t.toLowerCase(),i=0,o=r;i<o.length;i++){var u=o[i],s="".concat(e).concat(u);if(n.startsWith(s)){var c=t.substring(s.length);if(c.length)return a(c.substr(0,c.indexOf(" ")))?c:c[0].toUpperCase()+c.slice(1)}}},a=function(t){return t.toLowerCase()!==t}},65253:function(t,e,n){n.d(e,{CE:function(){return o},FH:function(){return f},Nq:function(){return c},Pb:function(){return a},fm:function(){return p},h8:function(){return l},r4:function(){return s},uh:function(){return u}});var r=n(99312),i=n(81043),a="system-admin",o="system-users",u=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.callWS({type:"config/auth/list"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e,n,i,a){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.callWS({type:"config/auth/create",name:n,group_ids:i,local_only:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r,i){return t.apply(this,arguments)}}(),c=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e,n,i){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.callWS(Object.assign(Object.assign({},i),{},{type:"config/auth/update",user_id:n})));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),l=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.callWS({type:"config/auth/delete",user_id:n}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),p=function(t){return t?t.trim().split(" ").slice(0,3).map((function(t){return t.substring(0,1)})).join(""):"?"},f=function(t,e,n){var r=[],i=function(e){return t.localize("ui.panel.config.users.".concat(e))};return e.is_owner&&r.push(["M12 2C6.47 2 2 6.5 2 12C2 17.5 6.5 22 12 22S22 17.5 22 12 17.5 2 12 2M12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4S20 7.58 20 12C20 16.42 16.42 20 12 20M8 14L7 8L10 10L12 7L14 10L17 8L16 14H8M8.56 16C8.22 16 8 15.78 8 15.44V15H16V15.44C16 15.78 15.78 16 15.44 16H8.56Z",i("is_owner")]),n&&e.system_generated&&r.push(["M11,7H15V9H11V11H13A2,2 0 0,1 15,13V15A2,2 0 0,1 13,17H9V15H13V13H11A2,2 0 0,1 9,11V9A2,2 0 0,1 11,7M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4Z",i("is_system")]),e.local_only&&r.push(["M12 20C7.6 20 4 16.4 4 12S7.6 4 12 4 20 7.6 20 12 16.4 20 12 20M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M11 14H13V17H16V12H18L12 7L6 12H8V17H11V14",i("is_local")]),e.is_active||r.push(["M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z",i("is_not_active")]),r}},22314:function(t,e,n){n.d(e,{X:function(){return a},y:function(){return i}});var r=n(57966),i=["input_boolean","input_button","input_text","input_number","input_datetime","input_select","counter","timer","schedule"],a=(0,r.z)(i)},47680:function(t,e,n){n.d(e,{VG:function(){return _},AP:function(){return g}});var r=n(53709),i=n(40039),a=n(68990),o=n(49706),u=n(58831),s=n(22311),c=n(91741),l=n(34007),p=n(85415),f=n(5986),d=n(65253),y=n(22314),h=new Set(["automation","configurator","device_tracker","geo_location","persistent_notification","script","sun","zone","event","tts","stt"]),v=new Set(["mobile_app"]),_=function t(e,n,r){var a,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=[],d=[],y=r.title?r.title.toLowerCase():void 0,h=[],v=(0,i.Z)(n);try{for(v.s();!(a=v.n()).done;){var _=a.value,g=e[_],m=(0,u.M)(_);if("alarm_control_panel"===m){var b={type:"alarm-panel",entity:_};f.push(b)}else if("camera"===m){var C={type:"picture-entity",entity:_};f.push(C)}else if("image"===m){var w={type:"picture",image_entity:_};f.push(w)}else if("climate"===m){var Z={type:"thermostat",entity:_};f.push(Z)}else if("humidifier"===m){var k={type:"humidifier",entity:_};f.push(k)}else if("media_player"===m){var E={type:"media-control",entity:_};f.push(E)}else if("plant"===m){var M={type:"plant-status",entity:_};f.push(M)}else if("weather"===m){var j={type:"weather-forecast",entity:_,show_forecast:!1};f.push(j)}else if(!s||"scene"!==m&&"script"!==m){var H=void 0,O=y&&g&&(H=(0,l.N)((0,c.C)(g),y))?{entity:_,name:H}:_;d.push(O)}else{var V={entity:_,show_icon:!0,show_name:!0},x=void 0;y&&g&&(x=(0,l.N)((0,c.C)(g),y))&&(V.name=x),h.push(V)}}}catch(A){v.e(A)}finally{v.f()}if(d.sort((function(t,n){var r="string"==typeof t?t:t.entity,i="string"==typeof n?n:n.entity,a=o.zF.includes((0,u.M)(r))?"sensor":"control";return a!==(o.zF.includes((0,u.M)(i))?"sensor":"control")?"sensor"===a?1:-1:(0,p.$)("string"==typeof t?e[t]?(0,c.C)(e[t]):"":t.name||"","string"==typeof n?e[n]?(0,c.C)(e[n]):"":n.name||"")})),0===d.length&&h.length>0)return t(e,n,r,!1);if(d.length>0||h.length>0){var L=Object.assign({type:"entities",entities:d},r);h.length>0&&(L.footer={type:"buttons",entities:h}),f.unshift(L)}return f.length<2?f:[{type:"grid",square:!1,columns:1,cards:f}]},g=function(t,e,n,o,l,g){for(var m,b,C=function(t,e){for(var n={},r=new Set(Object.values(e).filter((function(t){return t.entity_category||t.platform&&v.has(t.platform)||t.hidden})).map((function(t){return t.entity_id}))),i=0,a=Object.keys(t);i<a.length;i++){var o=a[i],u=t[o];h.has((0,s.N)(u))||r.has(u.entity_id)||(n[o]=t[o])}return n}(o,n),w={},Z=0,k=Object.keys(C);Z<k.length;Z++){var E=k[Z],M=C[E];M.attributes.order&&(w[E]=M.attributes.order)}var j=function(t,e,n,r){for(var i=Object.assign({},r),o={},u={},s=0,c=Object.values(n);s<c.length;s++){var l,p=c[s],f=p.area_id||p.device_id&&(null===(l=e[p.device_id])||void 0===l?void 0:l.area_id);f&&f in t&&p.entity_id in i?(f in o||(o[f]=[]),o[f].push(i[p.entity_id]),delete i[p.entity_id]):p.device_id&&p.device_id in e&&p.entity_id in i&&(p.device_id in u||(u[p.device_id]=[]),u[p.device_id].push(i[p.entity_id]),delete i[p.entity_id])}for(var d=0,y=Object.entries(u);d<y.length;d++){var h=(0,a.Z)(y[d],2),v=h[0],_=h[1];1===_.length&&(i[_[0].entity_id]=_[0],delete u[v])}return{areasWithEntities:o,devicesWithEntities:u,otherEntities:i}}(t,e,n,C),H=function(t){var e=[],n={};return Object.keys(t).forEach((function(r){var i=t[r];"group"===(0,u.M)(r)?e.push(i):n[r]=i})),e.forEach((function(t){return t.attributes.entity_id.forEach((function(t){delete n[t]}))})),{groups:e,ungrouped:n}}(j.otherEntities);H.groups.sort((function(t,e){return w[t.entity_id]-w[e.entity_id]}));var O,V=[],x=(0,i.Z)(H.groups);try{for(x.s();!(O=x.n()).done;){var L=O.value;V.push.apply(V,(0,r.Z)(_(o,L.attributes.entity_id,{title:(0,c.C)(L),show_header_toggle:"hidden"!==L.attributes.control})))}}catch(T){x.e(T)}finally{x.f()}var A,S=function(t,e,n,a,o){for(var u={},l=0,h=Object.keys(o);l<h.length;l++){var v=h[l],g=o[v],m=(0,s.N)(g);m in u||(u[m]=[]),u[m].push(g.entity_id)}var b=[];if("person"in u){var C=[];if(1===u.person.length)b.push({type:"entities",entities:u.person});else{var w,Z,k="",E=(0,i.Z)(u.person);try{for(E.s();!(Z=E.n()).done;){var M=Z.value,j=o[M],H=j.attributes.entity_picture;if(!H){if(void 0===w){var O=getComputedStyle(document.body);w=encodeURIComponent(O.getPropertyValue("--light-primary-color").trim()),k=encodeURIComponent((O.getPropertyValue("--text-light-primary-color")||O.getPropertyValue("--primary-text-color")).trim())}var V=(0,d.fm)(j.attributes.friendly_name||"");H="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 50' width='50' height='50' style='background-color:".concat(w,"'%3E%3Cg%3E%3Ctext font-family='roboto' x='50%25' y='50%25' text-anchor='middle' stroke='").concat(k,"' font-size='1.3em' dy='.3em'%3E").concat(V,"%3C/text%3E%3C/g%3E%3C/svg%3E")}C.push({type:"picture-entity",entity:M,aspect_ratio:"1",show_name:!1,image:H})}}catch(T){E.e(T)}finally{E.f()}b.push({type:"grid",square:!0,columns:3,cards:C})}delete u.person}var x,L=[],A=(0,i.Z)(y.y);try{for(A.s();!(x=A.n()).done;){var S=x.value;S in u&&(L.push.apply(L,(0,r.Z)(u[S])),delete u[S])}}catch(T){A.e(T)}finally{A.f()}for(var W={},z=0,N=Object.keys(u);z<N.length;z++){var P=N[z];W[P]=(0,f.Lh)(t,P)}L.length&&(u._helpers=L,W._helpers=t("ui.panel.lovelace.strategy.original-states.helpers")),Object.keys(u).sort((function(t,e){return(0,p.$)(W[t],W[e])})).forEach((function(t){b.push.apply(b,(0,r.Z)(_(o,u[t].sort((function(t,e){return(0,p.$)((0,c.C)(o[t]),(0,c.C)(o[e]))})),{title:W[t]})))}));var $={path:e,title:n,cards:b};return a&&($.icon=a),$}(l,"default_view","Home",undefined,H.ungrouped),W=[],z=Object.entries(j.areasWithEntities).sort((function(e,n){var r=t[e[0]],i=t[n[0]];return(0,p.$)(r.name,i.name)})),N=(0,i.Z)(z);try{for(N.s();!(A=N.n()).done;){var P=(0,a.Z)(A.value,2),$=P[0],q=P[1],F=t[$];W.push.apply(W,(0,r.Z)(_(o,q.map((function(t){return t.entity_id})),{title:F.name})))}}catch(T){N.e(T)}finally{N.f()}var U,I,R=[],B=Object.entries(j.devicesWithEntities).sort((function(t,n){var r=e[t[0]],i=e[n[0]];return(0,p.$)(r.name_by_user||r.name||"",i.name_by_user||i.name||"")})),G=(0,i.Z)(B);try{for(G.s();!(U=G.n()).done;){var X=(0,a.Z)(U.value,2),D=X[0],J=X[1],K=e[D];R.push.apply(R,(0,r.Z)(_(o,J.map((function(t){return t.entity_id})),{title:K.name_by_user||K.name||l("ui.panel.config.devices.unnamed_device","type",l("ui.panel.config.devices.type.".concat(K.entry_type||"device")))})))}}catch(T){G.e(T)}finally{G.f()}if(g){var Q=g.energy_sources.find((function(t){return"grid"===t.type}));Q&&Q.flow_from.length>0&&(I={title:l("ui.panel.lovelace.cards.energy.energy_distribution.title_today"),type:"energy-distribution",link_dashboard:!0})}return(m=S.cards).unshift.apply(m,W.concat(V,(0,r.Z)(I?[I]:[]))),(b=S.cards).push.apply(b,R),S}}}]);
//# sourceMappingURL=47680-rxSMFthhc2A.js.map