"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[16693],{18601:function(e,t,n){n.d(t,{Wg:function(){return y},qN:function(){return v.q}});var i,r,o=n(71650),u=n(33368),a=n(34541),s=n(47838),c=n(69205),l=n(70906),d=n(43204),f=n(79932),v=n(78220),h=null!==(r=null===(i=window.ShadyDOM)||void 0===i?void 0:i.inUse)&&void 0!==r&&r,y=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.apply(this,arguments)).disabled=!1,e.containingForm=null,e.formDataListener=function(t){e.disabled||e.setFormData(t.formData)},e}return(0,u.Z)(n,[{key:"findFormElement",value:function(){if(!this.shadowRoot||h)return null;for(var e=this.getRootNode().querySelectorAll("form"),t=0,n=Array.from(e);t<n.length;t++){var i=n[t];if(i.contains(this))return i}return null}},{key:"connectedCallback",value:function(){var e;(0,a.Z)((0,s.Z)(n.prototype),"connectedCallback",this).call(this),this.containingForm=this.findFormElement(),null===(e=this.containingForm)||void 0===e||e.addEventListener("formdata",this.formDataListener)}},{key:"disconnectedCallback",value:function(){var e;(0,a.Z)((0,s.Z)(n.prototype),"disconnectedCallback",this).call(this),null===(e=this.containingForm)||void 0===e||e.removeEventListener("formdata",this.formDataListener),this.containingForm=null}},{key:"click",value:function(){this.formElement&&!this.disabled&&(this.formElement.focus(),this.formElement.click())}},{key:"firstUpdated",value:function(){var e=this;(0,a.Z)((0,s.Z)(n.prototype),"firstUpdated",this).call(this),this.shadowRoot&&this.mdcRoot.addEventListener("change",(function(t){e.dispatchEvent(new Event("change",t))}))}}]),n}(v.H);y.shadowRootOptions={mode:"open",delegatesFocus:!0},(0,d.__decorate)([(0,f.Cb)({type:Boolean})],y.prototype,"disabled",void 0)},57966:function(e,t,n){n.d(t,{z:function(){return i}});var i=function(e){return function(t,n){return e.includes(t,n)}}},39197:function(e,t,n){n.d(t,{v:function(){return o}});var i=n(56007),r=n(58831);function o(e,t){var n=(0,r.M)(e.entity_id),o=void 0!==t?t:null==e?void 0:e.state;if(["button","event","input_button","scene"].includes(n))return o!==i.nZ;if((0,i.rk)(o))return!1;if(o===i.PX&&"alert"!==n)return!1;switch(n){case"alarm_control_panel":return"disarmed"!==o;case"alert":return"idle"!==o;case"cover":return"closed"!==o;case"device_tracker":case"person":return"not_home"!==o;case"lawn_mower":return["mowing","error"].includes(o);case"lock":return"locked"!==o;case"media_player":return"standby"!==o;case"vacuum":return!["idle","docked","paused"].includes(o);case"plant":return"problem"===o;case"group":return["on","home","open","locked","problem"].includes(o);case"timer":return"active"===o;case"camera":return"streaming"===o}return!0}},50768:function(e,t,n){n.d(t,{G:function(){return u}});var i=n(49706),r=n(58831),o=n(47772),u=function(e){return e?(0,o.K)((0,r.M)(e.entity_id),e):i.Rb}},84627:function(e,t,n){n.d(t,{T:function(){return r}});var i=/^(\w+)\.(\w+)$/,r=function(e){return i.test(e)}},35703:function(e,t,n){var i,r,o,u=n(53709),a=n(99312),s=n(81043),c=n(88962),l=n(33368),d=n(71650),f=n(82390),v=n(69205),h=n(70906),y=n(91808),p=n(68144),k=n(79932),_=n(14516),m=n(47181),b=n(84627);n(74535),(0,y.Z)([(0,k.Mo)("ha-entities-picker")],(function(e,t){var n,y,g=function(t){(0,v.Z)(i,t);var n=(0,h.Z)(i);function i(){var t;(0,d.Z)(this,i);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return t=n.call.apply(n,[this].concat(o)),e((0,f.Z)(t)),t}return(0,l.Z)(i)}(t);return{F:g,d:[{kind:"field",decorators:[(0,k.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,k.Cb)({type:Array})],key:"value",value:void 0},{kind:"field",decorators:[(0,k.Cb)({type:Boolean})],key:"disabled",value:void 0},{kind:"field",decorators:[(0,k.Cb)({type:Boolean})],key:"required",value:void 0},{kind:"field",decorators:[(0,k.Cb)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,k.Cb)({type:Array,attribute:"include-domains"})],key:"includeDomains",value:void 0},{kind:"field",decorators:[(0,k.Cb)({type:Array,attribute:"exclude-domains"})],key:"excludeDomains",value:void 0},{kind:"field",decorators:[(0,k.Cb)({type:Array,attribute:"include-device-classes"})],key:"includeDeviceClasses",value:void 0},{kind:"field",decorators:[(0,k.Cb)({type:Array,attribute:"include-unit-of-measurement"})],key:"includeUnitOfMeasurement",value:void 0},{kind:"field",decorators:[(0,k.Cb)({type:Array,attribute:"include-entities"})],key:"includeEntities",value:void 0},{kind:"field",decorators:[(0,k.Cb)({type:Array,attribute:"exclude-entities"})],key:"excludeEntities",value:void 0},{kind:"field",decorators:[(0,k.Cb)({attribute:"picked-entity-label"})],key:"pickedEntityLabel",value:void 0},{kind:"field",decorators:[(0,k.Cb)({attribute:"pick-entity-label"})],key:"pickEntityLabel",value:void 0},{kind:"field",decorators:[(0,k.Cb)()],key:"entityFilter",value:void 0},{kind:"method",key:"render",value:function(){var e=this;if(!this.hass)return p.Ld;var t=this._currentEntities;return(0,p.dy)(i||(i=(0,c.Z)([" ",' <div> <ha-entity-picker allow-custom-entity .hass="','" .includeDomains="','" .excludeDomains="','" .includeEntities="','" .excludeEntities="','" .includeDeviceClasses="','" .includeUnitOfMeasurement="','" .entityFilter="','" .label="','" .helper="','" .disabled="','" .required="','" @value-changed="','"></ha-entity-picker> </div> '])),t.map((function(t){return(0,p.dy)(r||(r=(0,c.Z)([' <div> <ha-entity-picker allow-custom-entity .curValue="','" .hass="','" .includeDomains="','" .excludeDomains="','" .includeEntities="','" .excludeEntities="','" .includeDeviceClasses="','" .includeUnitOfMeasurement="','" .entityFilter="','" .value="','" .label="','" .disabled="','" @value-changed="','"></ha-entity-picker> </div> '])),t,e.hass,e.includeDomains,e.excludeDomains,e.includeEntities,e.excludeEntities,e.includeDeviceClasses,e.includeUnitOfMeasurement,e._getEntityFilter(e.value,e.entityFilter),t,e.pickedEntityLabel,e.disabled,e._entityChanged)})),this.hass,this.includeDomains,this.excludeDomains,this.includeEntities,this.excludeEntities,this.includeDeviceClasses,this.includeUnitOfMeasurement,this._getEntityFilter(this.value,this.entityFilter),this.pickEntityLabel,this.helper,this.disabled,this.required&&!t.length,this._addEntity)}},{kind:"field",key:"_getEntityFilter",value:function(){return(0,_.Z)((function(e,t){return function(n){return(!e||!e.includes(n.entity_id))&&(!t||t(n))}}))}},{kind:"get",key:"_currentEntities",value:function(){return this.value||[]}},{kind:"method",key:"_updateEntities",value:(y=(0,s.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.value=t,(0,m.B)(this,"value-changed",{value:t});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{kind:"method",key:"_entityChanged",value:function(e){e.stopPropagation();var t=e.currentTarget.curValue,n=e.detail.value;if(n!==t&&(void 0===n||(0,b.T)(n))){var i=this._currentEntities;n&&!i.includes(n)?this._updateEntities(i.map((function(e){return e===t?n:e}))):this._updateEntities(i.filter((function(e){return e!==t})))}}},{kind:"method",key:"_addEntity",value:(n=(0,s.Z)((0,a.Z)().mark((function e(t){var n,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),n=t.detail.value){e.next=4;break}return e.abrupt("return");case 4:if(t.currentTarget.value="",n){e.next=7;break}return e.abrupt("return");case 7:if(!(i=this._currentEntities).includes(n)){e.next=10;break}return e.abrupt("return");case 10:this._updateEntities([].concat((0,u.Z)(i),[n]));case 11:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{kind:"field",static:!0,key:"styles",value:function(){return(0,p.iv)(o||(o=(0,c.Z)(["div{margin-top:8px}"])))}}]}}),p.oi)},1987:function(e,t,n){n.r(t),n.d(t,{HaEntitySelector:function(){return b}});var i,r,o,u=n(88962),a=n(33368),s=n(71650),c=n(82390),l=n(69205),d=n(70906),f=n(91808),v=n(34541),h=n(47838),y=n(68144),p=n(79932),k=n(76680),_=n(75012),m=n(33855),b=(n(35703),n(74535),(0,f.Z)([(0,p.Mo)("ha-selector-entity")],(function(e,t){var n=function(t){(0,l.Z)(i,t);var n=(0,d.Z)(i);function i(){var t;(0,s.Z)(this,i);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return t=n.call.apply(n,[this].concat(o)),e((0,c.Z)(t)),t}return(0,a.Z)(i)}(t);return{F:n,d:[{kind:"field",decorators:[(0,p.Cb)()],key:"hass",value:void 0},{kind:"field",decorators:[(0,p.Cb)()],key:"selector",value:void 0},{kind:"field",decorators:[(0,p.SB)()],key:"_entitySources",value:void 0},{kind:"field",decorators:[(0,p.Cb)()],key:"value",value:void 0},{kind:"field",decorators:[(0,p.Cb)()],key:"label",value:void 0},{kind:"field",decorators:[(0,p.Cb)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,p.Cb)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,p.Cb)({type:Boolean})],key:"required",value:function(){return!0}},{kind:"method",key:"_hasIntegration",value:function(e){var t;return(null===(t=e.entity)||void 0===t?void 0:t.filter)&&(0,k.r)(e.entity.filter).some((function(e){return e.integration}))}},{kind:"method",key:"render",value:function(){var e,t,n;return this._hasIntegration(this.selector)&&!this._entitySources?y.Ld:null!==(e=this.selector.entity)&&void 0!==e&&e.multiple?(0,y.dy)(r||(r=(0,u.Z)([" ",' <ha-entities-picker .hass="','" .value="','" .helper="','" .includeEntities="','" .excludeEntities="','" .entityFilter="','" .disabled="','" .required="','"></ha-entities-picker> '])),this.label?(0,y.dy)(o||(o=(0,u.Z)(["<label>","</label>"])),this.label):"",this.hass,this.value,this.helper,this.selector.entity.include_entities,this.selector.entity.exclude_entities,this._filterEntities,this.disabled,this.required):(0,y.dy)(i||(i=(0,u.Z)(['<ha-entity-picker .hass="','" .value="','" .label="','" .helper="','" .includeEntities="','" .excludeEntities="','" .entityFilter="','" .disabled="','" .required="','" allow-custom-entity></ha-entity-picker>'])),this.hass,this.value,this.label,this.helper,null===(t=this.selector.entity)||void 0===t?void 0:t.include_entities,null===(n=this.selector.entity)||void 0===n?void 0:n.exclude_entities,this._filterEntities,this.disabled,this.required)}},{kind:"method",key:"updated",value:function(e){var t=this;(0,v.Z)((0,h.Z)(n.prototype),"updated",this).call(this,e),e.has("selector")&&this._hasIntegration(this.selector)&&!this._entitySources&&(0,_.m)(this.hass).then((function(e){t._entitySources=e}))}},{kind:"field",key:"_filterEntities",value:function(){var e=this;return function(t){var n;return null===(n=e.selector)||void 0===n||null===(n=n.entity)||void 0===n||!n.filter||(0,k.r)(e.selector.entity.filter).some((function(n){return(0,m.lV)(n,t,e._entitySources)}))}}}]}}),y.oi))},87037:function(e,t,n){var i,r,o=n(88962),u=n(33368),a=n(71650),s=n(82390),c=n(69205),l=n(70906),d=n(91808),f=n(68144),v=n(79932),h=n(50768);n(81312),n(52039),(0,d.Z)([(0,v.Mo)("ha-state-icon")],(function(e,t){var n=function(t){(0,c.Z)(i,t);var n=(0,l.Z)(i);function i(){var t;(0,a.Z)(this,i);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return t=n.call.apply(n,[this].concat(o)),e((0,s.Z)(t)),t}return(0,u.Z)(i)}(t);return{F:n,d:[{kind:"field",decorators:[(0,v.Cb)({attribute:!1})],key:"state",value:void 0},{kind:"field",decorators:[(0,v.Cb)()],key:"icon",value:void 0},{kind:"method",key:"render",value:function(){var e,t;return this.icon||null!==(e=this.state)&&void 0!==e&&e.attributes.icon?(0,f.dy)(i||(i=(0,o.Z)(['<ha-icon .icon="','"></ha-icon>'])),this.icon||(null===(t=this.state)||void 0===t?void 0:t.attributes.icon)):(0,f.dy)(r||(r=(0,o.Z)(['<ha-svg-icon .path="','"></ha-svg-icon>'])),(0,h.G)(this.state))}}]}}),f.oi)},22814:function(e,t,n){if(n.d(t,{Cp:function(){return d},TZ:function(){return f},W2:function(){return l},WD:function(){return c},YY:function(){return v},iI:function(){return s},oT:function(){return a},uw:function(){return u}}),32143==n.j)var i=n(99312);if(32143==n.j)var r=n(81043);var o,u="".concat(location.protocol,"//").concat(location.host),a=function(e){return e.map((function(e){if("string"!==e.type)return e;switch(e.name){case"username":return Object.assign(Object.assign({},e),{},{autocomplete:"username"});case"password":return Object.assign(Object.assign({},e),{},{autocomplete:"current-password"});case"code":return Object.assign(Object.assign({},e),{},{autocomplete:"one-time-code"});default:return e}}))},s=function(e,t){return e.callWS({type:"auth/sign_path",path:t})},c=function(){return fetch("/auth/providers",{credentials:"same-origin"})},l=32143==n.j?(o=(0,r.Z)((0,i.Z)().mark((function e(t,n,r,o){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.callWS({type:"config/auth_provider/homeassistant/create",user_id:n,username:r,password:o}));case 1:case"end":return e.stop()}}),e)}))),function(e,t,n,i){return o.apply(this,arguments)}):null,d=function(e,t,n){return e.callWS({type:"config/auth_provider/homeassistant/change_password",current_password:t,new_password:n})},f=function(e,t,n){return e.callWS({type:"config/auth_provider/homeassistant/admin_change_password",user_id:t,password:n})},v=function(e){return e.callWS({type:"auth/delete_all_refresh_tokens"})}},56007:function(e,t,n){n.d(t,{PX:function(){return u},V_:function(){return a},lz:function(){return o},nZ:function(){return r},rk:function(){return c}});var i=n(57966),r="unavailable",o="unknown",u="off",a=[r,o],s=[r,o,u],c=(0,i.z)(a);(0,i.z)(s)},75012:function(e,t,n){n.d(t,{m:function(){return a}});var i=n(99312),r=n(81043),o=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t,n,r,u,a){var s,c,l,d,f,v,h,y=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=y.length,c=new Array(s>5?s-5:0),l=5;l<s;l++)c[l-5]=y[l];if(f=(d=a)[t],v=function(e){return u&&u(a,e.result)!==e.cacheKey?(d[t]=void 0,o.apply(void 0,[t,n,r,u,a].concat(c))):e.result},!f){e.next=6;break}return e.abrupt("return",f instanceof Promise?f.then(v):v(f));case 6:return h=r.apply(void 0,[a].concat(c)),d[t]=h,h.then((function(e){d[t]={result:e,cacheKey:null==u?void 0:u(a,e)},setTimeout((function(){d[t]=void 0}),n)}),(function(){d[t]=void 0})),e.abrupt("return",h);case 10:case"end":return e.stop()}}),e)})));return function(t,n,i,r,o){return e.apply(this,arguments)}}(),u=function(e,t){return e.callWS({type:"entity/source",entity_id:t})},a=function(e,t){return t?u(e,t):o("_entitySources",3e4,u,(function(e){return Object.keys(e.states).length}),e)}},82160:function(e,t,n){function i(e){return new Promise((function(t,n){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return n(e.error)}}))}function r(e,t){var n=indexedDB.open(e);n.onupgradeneeded=function(){return n.result.createObjectStore(t)};var r=i(n);return function(e,n){return r.then((function(i){return n(i.transaction(t,e).objectStore(t))}))}}var o;function u(){return o||(o=r("keyval-store","keyval")),o}function a(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:u())("readonly",(function(t){return i(t.get(e))}))}function s(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:u())("readwrite",(function(n){return n.put(t,e),i(n.transaction)}))}function c(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:u())("readwrite",(function(e){return e.clear(),i(e.transaction)}))}n.d(t,{MT:function(){return r},RV:function(){return i},U2:function(){return a},ZH:function(){return c},t8:function(){return s}})},19596:function(e,t,n){n.d(t,{sR:function(){return m}});var i=n(53709),r=n(71650),o=n(33368),u=n(34541),a=n(47838),s=n(69205),c=n(70906),l=n(40039),d=n(81563),f=n(38941),v=function e(t,n){var i,r,o=t._$AN;if(void 0===o)return!1;var u,a=(0,l.Z)(o);try{for(a.s();!(u=a.n()).done;){var s=u.value;null===(r=(i=s)._$AO)||void 0===r||r.call(i,n,!1),e(s,n)}}catch(c){a.e(c)}finally{a.f()}return!0},h=function(e){var t,n;do{if(void 0===(t=e._$AM))break;(n=t._$AN).delete(e),e=t}while(0===(null==n?void 0:n.size))},y=function(e){for(var t;t=e._$AM;e=t){var n=t._$AN;if(void 0===n)t._$AN=n=new Set;else if(n.has(e))break;n.add(e),_(t)}};function p(e){void 0!==this._$AN?(h(this),this._$AM=e,y(this)):this._$AM=e}function k(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this._$AH,r=this._$AN;if(void 0!==r&&0!==r.size)if(t)if(Array.isArray(i))for(var o=n;o<i.length;o++)v(i[o],!1),h(i[o]);else null!=i&&(v(i,!1),h(i));else v(this,e)}var _=function(e){var t,n,i,r;e.type==f.pX.CHILD&&(null!==(t=(i=e)._$AP)&&void 0!==t||(i._$AP=k),null!==(n=(r=e)._$AQ)&&void 0!==n||(r._$AQ=p))},m=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.apply(this,arguments))._$AN=void 0,e}return(0,o.Z)(n,[{key:"_$AT",value:function(e,t,i){(0,u.Z)((0,a.Z)(n.prototype),"_$AT",this).call(this,e,t,i),y(this),this.isConnected=e._$AU}},{key:"_$AO",value:function(e){var t,n,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e!==this.isConnected&&(this.isConnected=e,e?null===(t=this.reconnected)||void 0===t||t.call(this):null===(n=this.disconnected)||void 0===n||n.call(this)),i&&(v(this,e),h(this))}},{key:"setValue",value:function(e){if((0,d.OR)(this._$Ct))this._$Ct._$AI(e,this);else{var t=(0,i.Z)(this._$Ct._$AH);t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}},{key:"disconnected",value:function(){}},{key:"reconnected",value:function(){}}]),n}(f.Xe)},81563:function(e,t,n){n.d(t,{E_:function(){return p},OR:function(){return s},_Y:function(){return l},dZ:function(){return a},fk:function(){return d},hN:function(){return u},hl:function(){return v},i9:function(){return h},pt:function(){return o},ws:function(){return y}});var i=n(76775),r=n(15304).Al.I,o=function(e){return null===e||"object"!=(0,i.Z)(e)&&"function"!=typeof e},u=function(e,t){return void 0===t?void 0!==(null==e?void 0:e._$litType$):(null==e?void 0:e._$litType$)===t},a=function(e){var t;return null!=(null===(t=null==e?void 0:e._$litType$)||void 0===t?void 0:t.h)},s=function(e){return void 0===e.strings},c=function(){return document.createComment("")},l=function(e,t,n){var i,o=e._$AA.parentNode,u=void 0===t?e._$AB:t._$AA;if(void 0===n){var a=o.insertBefore(c(),u),s=o.insertBefore(c(),u);n=new r(a,s,e,e.options)}else{var l,d=n._$AB.nextSibling,f=n._$AM,v=f!==e;if(v)null===(i=n._$AQ)||void 0===i||i.call(n,e),n._$AM=e,void 0!==n._$AP&&(l=e._$AU)!==f._$AU&&n._$AP(l);if(d!==u||v)for(var h=n._$AA;h!==d;){var y=h.nextSibling;o.insertBefore(h,u),h=y}}return n},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return e._$AI(t,n),e},f={},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;return e._$AH=t},h=function(e){return e._$AH},y=function(e){var t;null===(t=e._$AP)||void 0===t||t.call(e,!1,!0);for(var n=e._$AA,i=e._$AB.nextSibling;n!==i;){var r=n.nextSibling;n.remove(),n=r}},p=function(e){e._$AR()}}}]);
//# sourceMappingURL=16693-_hy_yID1qp4.js.map