"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["7249"],{50875:function(e,t,i){i.d(t,{Eu:()=>r,hZ:()=>o,o9:()=>d});var s=i(27486),n=i(11259);const a=["#4269d0","#f4bd4a","#ff725c","#6cc5b0","#a463f2","#ff8ab7","#9c6b4e","#97bbf5","#01ab63","#9498a0","#094bad","#c99000","#d84f3e","#49a28f","#048732","#d96895","#8043ce","#7599d1","#7a4c31","#74787f","#6989f4","#ffd444","#ff957c","#8fe9d3","#62cc71","#ffadda","#c884ff","#badeff","#bf8b6d","#b6bac2","#927acc","#97ee3f","#bf3947","#9f5b00","#f48758","#8caed6","#f2b94f","#eff26e","#e43872","#d9b100","#9d7a00","#698cff","#d9d9d9","#00d27e","#d06800","#009f82","#c49200","#cbe8ff","#fecddf","#c27eb6","#8cd2ce","#c4b8d9","#f883b0","#a49100","#f48800","#27d0df","#a04a9b"];function r(e){return a[e%a.length]}function o(e,t){const i=t.getPropertyValue(`--graph-color-${e+1}`)||r(e);return(0,n.Rq)(i)}const d=(0,s.Z)((e=>a.map(((t,i)=>o(i,e)))),((e,t)=>e[0].getPropertyValue("--graph-color-1")===t[0].getPropertyValue("--graph-color-1")))},17705:function(e,t,i){i.d(t,{Cj:()=>f,F7:()=>n,Hs:()=>j,Kd:()=>S,Kj:()=>_,Nw:()=>m,PA:()=>a,Py:()=>d,Qm:()=>O,Z0:()=>g,_Y:()=>u,_m:()=>r,dL:()=>c,dO:()=>k,hN:()=>b,h_:()=>l,j2:()=>y,q6:()=>h,uR:()=>o});i(19083),i(71695),i(9359),i(52924),i(61006),i(47021);var s=i(47194);let n=function(e){return e[e.NONE=0]="NONE",e[e.ARITHMETIC=1]="ARITHMETIC",e[e.CIRCULAR=2]="CIRCULAR",e}({});const a=99387==i.j?["entity_not_recorded","entity_no_longer_recorded","state_class_removed","units_changed","mean_type_changed","no_state"]:null,r=e=>e.sendMessagePromise({type:"recorder/info"}),o=(e,t)=>e.callWS({type:"recorder/list_statistic_ids",statistic_type:t}),d=(e,t)=>e.callWS({type:"recorder/get_statistics_metadata",statistic_ids:t}),c=(e,t,i,s,n="hour",a,r)=>e.callWS({type:"recorder/statistics_during_period",start_time:t.toISOString(),end_time:null==i?void 0:i.toISOString(),statistic_ids:s,period:n,units:a,types:r}),u=(e,t,i,s)=>e.callWS({type:"recorder/statistic_during_period",statistic_id:t,units:s,fixed_period:i.fixed_period?{start_time:i.fixed_period.start instanceof Date?i.fixed_period.start.toISOString():i.fixed_period.start,end_time:i.fixed_period.end instanceof Date?i.fixed_period.end.toISOString():i.fixed_period.end}:void 0,calendar:i.calendar,rolling_window:i.rolling_window}),l=e=>e.callWS({type:"recorder/validate_statistics"}),f=(e,t,i)=>e.callWS({type:"recorder/update_statistics_metadata",statistic_id:t,unit_of_measurement:i}),b=(e,t)=>e.callWS({type:"recorder/clear_statistics",statistic_ids:t}),_=e=>{let t=null;if(!e)return null;for(const i of e)null!==i.change&&void 0!==i.change&&(null===t?t=i.change:t+=i.change);return t},h=(e,t)=>{let i=null;for(const s of t){if(!(s in e))continue;const t=_(e[s]);null!==t&&(null===i?i=t:i+=t)}return i},m=(e,t)=>e.some((e=>void 0!==e[t]&&null!==e[t])),v=["mean","min","max"],p=["sum","state","change"],g=(e,t)=>!(!v.includes(t)||e.mean_type===n.NONE)||!(!p.includes(t)||!e.has_sum),y=(e,t,i,s,n)=>{const a=new Date(i).toISOString();return e.callWS({type:"recorder/adjust_sum_statistics",statistic_id:t,start_time:a,adjustment:s,adjustment_unit_of_measurement:n})},S=(e,t,i)=>{const n=e.states[t];return n?(0,s.C)(n):(null==i?void 0:i.name)||t},k=(e,t,i)=>{let s;var n;t&&(s=null===(n=e.states[t])||void 0===n?void 0:n.attributes.unit_of_measurement);return void 0===s?null==i?void 0:i.statistics_unit_of_measurement:s},j=e=>e.includes(":"),O=e=>e.callWS({type:"recorder/update_statistics_issues"})},6736:function(e,t,i){i.d(t,{f:()=>r});var s=i(61701),n=i(72621),a=(i(19083),i(71695),i(9359),i(52924),i(40251),i(61006),i(47021),i(50778));const r=e=>(0,s.Z)(null,(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,a.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",key:"hassSubscribeRequiredHostProps",value:void 0},{kind:"field",key:"__unsubs",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,n.Z)(i,"connectedCallback",this,3)([]),this._checkSubscribed()}},{kind:"method",key:"disconnectedCallback",value:function(){if((0,n.Z)(i,"disconnectedCallback",this,3)([]),this.__unsubs){for(;this.__unsubs.length;){const e=this.__unsubs.pop();e instanceof Promise?e.then((e=>e())):e()}this.__unsubs=void 0}}},{kind:"method",key:"updated",value:function(e){if((0,n.Z)(i,"updated",this,3)([e]),e.has("hass"))this._checkSubscribed();else if(this.hassSubscribeRequiredHostProps)for(const t of e.keys())if(this.hassSubscribeRequiredHostProps.includes(t))return void this._checkSubscribed()}},{kind:"method",key:"hassSubscribe",value:function(){return[]}},{kind:"method",key:"_checkSubscribed",value:function(){var e;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(e=this.hassSubscribeRequiredHostProps)&&void 0!==e&&e.some((e=>void 0===this[e]))||(this.__unsubs=this.hassSubscribe())}}]}}),e)},20548:function(e,t,i){i.d(t,{H:()=>a});i(81804);var s=i(11259),n=i(4643);function a(e,t,i,a,r,o){const d=e.getPropertyValue(r+"-"+o).trim(),c=d.length>0?d:e.getPropertyValue(r).trim();let u=(0,s.Rq)(c);return 0===d.length&&o&&(u=(0,s.CO)((0,s.p3)(t?(0,n.C)((0,s.Rw)((0,s.wK)(u)),o):(0,n.W)((0,s.Rw)((0,s.wK)(u)),o)))),a?u+=i?"32":"7F":i&&(u+="7F"),u}},53259:function(e,t,i){i.a(e,(async function(e,s){try{i.d(t,{J:()=>S,MC:()=>g,Zx:()=>j,b4:()=>y,kT:()=>O});i(28457),i(71695),i(92745),i(61893),i(5509),i(9359),i(56475),i(31526),i(70104),i(19423),i(92519),i(42179),i(89256),i(24931),i(88463),i(57449),i(19814),i(88044),i(47021);var n=i(21893),a=i(13809),r=i(38836),o=i(84775),d=i(80951),c=i(13730),u=i(6542),l=i(83204),f=i(23459),b=i(23711),_=i(50602),h=i(46467),m=i(33570),v=e([h,m,_]);function g(e,t){let i=new Date(t);return e>2&&0===i.getHours()&&(i=(0,n.b)(i,1)),i.setMinutes(0,0,0),e>35&&i.setDate(1),e>2&&i.setHours(0),i.getTime()}function y(e){return e>35?"month":e>2?"day":"hour"}function S(e,t,i,s,n,r,o,d){const c=(0,a.j)(t,e),u=void 0!==r&&void 0!==o;return{xAxis:{type:"time",min:e,max:g(c,t)},yAxis:{type:"value",name:n,nameGap:2,nameTextStyle:{align:"left"},axisLabel:{formatter:e=>(0,_.uf)(Math.abs(e),i)},splitLine:{show:!0}},grid:{top:15,bottom:0,left:1,right:1,containLabel:!0},tooltip:{trigger:"axis",formatter:e=>{if(Array.isArray(e)){const t=[],a=[];return e.forEach((e=>{var i;null!==(i=e.seriesId)&&void 0!==i&&i.startsWith("compare-")?a.push(e):t.push(e)})),[t,a].map((e=>k(e,i,s,c,u,n,d))).filter(Boolean).join("<br><br>")}return k([e],i,s,c,u,n,d)}}}}function k(e,t,i,s,n,a,o){var d,c,u,l;if(null===(d=e[0])||void 0===d||!d.value)return"";const f=new Date(null!==(c=null===(u=e[0].value)||void 0===u?void 0:u[2])&&void 0!==c?c:null===(l=e[0].value)||void 0===l?void 0:l[0]);let b;b=s>89?`${(0,h.NC)(f,t,i)}`:s>0?`${(0,h.ud)(f,t,i)}`:`${n?`${(0,h.ud)(f,t,i)}: `:""}${(0,m.mr)(f,t,i)} â€“ ${(0,m.mr)((0,r.T)(f,1),t,i)}`;const v=`<h4 style="text-align: center; margin: 0;">${b}</h4>`;let p=0,g=0,y=0,S=0;const k=e.map((e=>{var i;const s=null===(i=e.value)||void 0===i?void 0:i[1],n=(0,_.uf)(s,t);return"0"!==n&&("bar"===e.componentSubType&&(s>0?(p+=s,g++):(y+=s,S++)),`${e.marker} ${e.seriesName}: ${n} ${a}`)})).filter(Boolean);let j="";return 0!==p&&g>1&&o&&(j+=`<br><b>${o(p)}</b>`),0!==y&&S>1&&o&&(j+=`<br><b>${o(y)}</b>`),k.length>0?`${v}${k.join("<br>")}${j}`:""}function j(e){Array.from(new Set(e.map((e=>e.data.map((e=>Number(e[0]))))).flat())).sort(((e,t)=>e-t)).forEach(((t,i)=>{const s={},n={};for(let l=e.length-1;l>=0;l--){var a,r,o,d,c;const f=e[l].data[i],b=f&&"object"==typeof f&&"value"in f?f:{value:f},_=null===(a=b.value)||void 0===a?void 0:a[0],h=null!==(r=e[l].stack)&&void 0!==r?r:"";var u;if(void 0!==_)if(Number(_)!==t)null===(u=e[l].data)||void 0===u||u.splice(i,0,{value:[t,0],itemStyle:{borderWidth:0}});else 0===(null===(o=b.value)||void 0===o?void 0:o[1])?e[l].data[i]=Object.assign(Object.assign({},b),{},{itemStyle:Object.assign(Object.assign({},b.itemStyle),{},{borderWidth:0})}):!s[h]&&(null===(d=b.value)||void 0===d?void 0:d[1])>0?(e[l].data[i]=Object.assign(Object.assign({},b),{},{itemStyle:Object.assign(Object.assign({},b.itemStyle),{},{borderRadius:[4,4,0,0]})}),s[h]=!0):!n[h]&&(null===(c=b.value)||void 0===c?void 0:c[1])<0&&(e[l].data[i]=Object.assign(Object.assign({},b),{},{itemStyle:Object.assign(Object.assign({},b.itemStyle),{},{borderRadius:[0,0,4,4]})}),n[h]=!0)}}))}function O(e,t){if(!t)return e=>e;const i=(0,o.o)(e,t);if(0!==i&&e.getTime()===(0,d.e)(e).getTime())return e=>(0,c.B)(e,i);const s=(0,u.d)(e,t);if(0!==s&&e.getTime()===(0,l.N)(e).getTime())return e=>(0,f.z)(e,s);const n=e.getTime()-t.getTime();return e=>(0,b.n)(e,n)}[h,m,_]=v.then?(await v)():v,s()}catch(p){s(p)}}))}}]);
//# sourceMappingURL=7249.cdc4ec98c723e0eb.js.map