"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[68558],{68558:function(t,i,e){e.r(i),e.d(i,{HuiHumidifierCard:function(){return P}});var s,n,o,a,r,d,h,c,l,u=e(88962),f=e(99312),m=e(81043),v=e(33368),y=e(71650),g=e(82390),p=e(69205),_=e(70906),k=e(91808),x=e(34541),b=e(47838),A=(e(2014),e(68144)),w=e(79932),Z=e(47501),z=e(83448),C=e(62877),H=e(47181),M=e(82526),S=e(41826),L=e(91741),B=e(6229),E=e(18457),O=e(87744),j=(e(22098),e(10983),e(56007)),I=e(15688),N=e(53658),F=e(75502),P=(0,k.Z)([(0,w.Mo)("hui-humidifier-card")],(function(t,i){var k,P=function(i){(0,p.Z)(s,i);var e=(0,_.Z)(s);function s(){var i;(0,y.Z)(this,s);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o)),t((0,g.Z)(i)),i}return(0,v.Z)(s)}(i);return{F:P,d:[{kind:"method",static:!0,key:"getConfigElement",value:(k=(0,m.Z)((0,f.Z)().mark((function t(){return(0,f.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.e(57210).then(e.bind(e,57210));case 2:return t.abrupt("return",document.createElement("hui-humidifier-card-editor"));case 3:case"end":return t.stop()}}),t)}))),function(){return k.apply(this,arguments)})},{kind:"method",static:!0,key:"getStubConfig",value:function(t,i,e){return{type:"humidifier",entity:(0,I.j)(t,1,i,e,["humidifier"])[0]||""}}},{kind:"field",decorators:[(0,w.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,w.SB)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,w.SB)()],key:"_setHum",value:void 0},{kind:"field",decorators:[(0,w.IO)("ha-card")],key:"_card",value:void 0},{kind:"method",key:"getCardSize",value:function(){return 7}},{kind:"method",key:"setConfig",value:function(t){if(!t.entity||"humidifier"!==t.entity.split(".")[0])throw new Error("Specify an entity from within the humidifier domain");this._config=t}},{kind:"method",key:"render",value:function(){if(!this.hass||!this._config)return A.Ld;var t=this.hass.states[this._config.entity];if(!t)return(0,A.dy)(s||(s=(0,u.Z)([" <hui-warning> "," </hui-warning> "])),(0,F.i)(this.hass,this._config.entity));var i=this._config.name||(0,L.C)(this.hass.states[this._config.entity]),e=null!==t.attributes.humidity&&Number.isFinite(Number(t.attributes.humidity))?t.attributes.humidity:null,l=this._setHum?this._setHum:e,f=(0,O.Zu)(this.hass),m=(0,j.rk)(t.state)?(0,A.dy)(n||(n=(0,u.Z)([' <round-slider disabled="true"></round-slider> ']))):(0,A.dy)(o||(o=(0,u.Z)([' <round-slider .value="','" .disabled="','" .min="','" .max="','" .rtl="','" step="1" @value-changing="','" @value-changed="','"></round-slider> '])),e,null===e,t.attributes.min_humidity,t.attributes.max_humidity,"rtl"===f,this._dragEvent,this._setHumidity),v=(0,A.YP)(a||(a=(0,u.Z)([' <svg viewBox="0 0 40 20"> <text x="50%" dx="1" y="60%" text-anchor="middle" style="font-size:13px"> '," </text> </svg> "])),t.state===j.nZ||null==t.attributes.current_humidity||isNaN(t.attributes.current_humidity)?A.Ld:(0,A.YP)(r||(r=(0,u.Z)([" ",' <tspan dx="-3" dy="-6.5" style="font-size:4px"> % </tspan> '])),(0,E.uf)(t.attributes.current_humidity,this.hass.locale))),y=(0,A.YP)(d||(d=(0,u.Z)([' <svg id="set-values"> <g> <text text-anchor="middle" class="set-value"> ',' </text> <text dy="22" text-anchor="middle" id="set-mode"> '," "," </text> </g> </svg> "])),t.state!==j.nZ&&null!=l?(0,E.uf)(l,this.hass.locale,{maximumFractionDigits:0}):A.Ld,t.attributes.action?(0,M.a)(this.hass.localize,t,this.hass.locale,this.hass.config,this.hass.entities,"action"):(0,S.D1)(this.hass.localize,t,this.hass.locale,this.hass.config,this.hass.entities),t.state!==j.nZ&&t.attributes.mode?(0,A.dy)(h||(h=(0,u.Z)([" - "," "])),(0,M.a)(this.hass.localize,t,this.hass.locale,this.hass.config,this.hass.entities,"mode")):A.Ld);return(0,A.dy)(c||(c=(0,u.Z)([' <ha-card style="','"> <ha-icon-button .path="','" .label="','" class="more-info" @click="','" tabindex="0"></ha-icon-button> <div class="content"> <div id="controls"> <div id="slider"> ',' <div id="slider-center"> <div id="humidity">'," ",'</div> </div> </div> </div> <div id="info" .title="','"> <div id="modes"> <ha-icon-button class="','" @click="','" tabindex="0" .path="','" .label="','"> </ha-icon-button> <ha-icon-button class="','" @click="','" tabindex="0" .path="','" .label="','"> </ha-icon-button> </div> '," </div> </div> </ha-card> "])),(0,Z.V)({"--mode-color":(0,B.Hh)(t)}),"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",this.hass.localize("ui.panel.lovelace.cards.show_more_info"),this._handleMoreInfo,m,v,y,i,(0,z.$)({"selected-icon":"on"===t.state}),this._turnOn,"M12,3.25C12,3.25 6,10 6,14C6,17.32 8.69,20 12,20A6,6 0 0,0 18,14C18,10 12,3.25 12,3.25M14.47,9.97L15.53,11.03L9.53,17.03L8.47,15.97M9.75,10A1.25,1.25 0 0,1 11,11.25A1.25,1.25 0 0,1 9.75,12.5A1.25,1.25 0 0,1 8.5,11.25A1.25,1.25 0 0,1 9.75,10M14.25,14.5A1.25,1.25 0 0,1 15.5,15.75A1.25,1.25 0 0,1 14.25,17A1.25,1.25 0 0,1 13,15.75A1.25,1.25 0 0,1 14.25,14.5Z",this.hass.localize("component.humidifier.entity_component._.state.on"),(0,z.$)({"selected-icon":"off"===t.state}),this._turnOff,"M16.56,5.44L15.11,6.89C16.84,7.94 18,9.83 18,12A6,6 0 0,1 12,18A6,6 0 0,1 6,12C6,9.83 7.16,7.94 8.88,6.88L7.44,5.44C5.36,6.88 4,9.28 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12C20,9.28 18.64,6.88 16.56,5.44M13,3H11V13H13",this.hass.localize("component.humidifier.entity_component._.state.off"),i)}},{kind:"method",key:"shouldUpdate",value:function(t){return(0,N.G2)(this,t)}},{kind:"method",key:"updated",value:function(t){if((0,x.Z)((0,b.Z)(P.prototype),"updated",this).call(this,t),this._config&&this.hass&&(t.has("hass")||t.has("_config"))){var i=t.get("hass"),e=t.get("_config");i&&e&&i.themes===this.hass.themes&&e.theme===this._config.theme||(0,C.R)(this,this.hass.themes,this._config.theme);var s=this.hass.states[this._config.entity];s&&(i&&i.states[this._config.entity]===s||this._rescale_svg())}}},{kind:"method",key:"willUpdate",value:function(t){if(this.hass&&this._config&&t.has("hass")){var i=this.hass.states[this._config.entity];if(i){var e=t.get("hass");e&&e.states[this._config.entity]===i||(this._setHum=this._getSetHum(i))}}}},{kind:"method",key:"_rescale_svg",value:function(){var t=this,i=this._card;i&&i.updateComplete.then((function(){var i=t.shadowRoot.querySelector("#set-values"),e=i.querySelector("g").getBBox();i.setAttribute("viewBox","".concat(e.x," ").concat(e.y," ").concat(e.width," ").concat(e.height)),i.setAttribute("width","".concat(e.width)),i.setAttribute("height","".concat(e.height))}))}},{kind:"method",key:"_getSetHum",value:function(t){if(!(0,j.rk)(t.state))return t.attributes.humidity}},{kind:"method",key:"_dragEvent",value:function(t){this._setHum=t.detail.value}},{kind:"method",key:"_setHumidity",value:function(t){this.hass.callService("humidifier","set_humidity",{entity_id:this._config.entity,humidity:t.detail.value})}},{kind:"method",key:"_turnOn",value:function(){this.hass.callService("humidifier","turn_on",{entity_id:this._config.entity})}},{kind:"method",key:"_turnOff",value:function(){this.hass.callService("humidifier","turn_off",{entity_id:this._config.entity})}},{kind:"method",key:"_handleMoreInfo",value:function(){(0,H.B)(this,"hass-more-info",{entityId:this._config.entity})}},{kind:"get",static:!0,key:"styles",value:function(){return(0,A.iv)(l||(l=(0,u.Z)([":host{display:block}ha-card{height:100%;position:relative;overflow:hidden;--name-font-size:1.2rem;--brightness-font-size:1.2rem;--rail-border-color:transparent;--mode-color:var(--state-inactive-color)}.more-info{position:absolute;cursor:pointer;top:0;right:0;inset-inline-end:0px;inset-inline-start:initial;border-radius:100%;color:var(--secondary-text-color);z-index:1;direction:var(--direction)}.content{height:100%;display:flex;flex-direction:column;justify-content:center}#controls{display:flex;justify-content:center;padding:16px;position:relative}#slider{height:100%;width:100%;position:relative;max-width:250px;min-width:100px}round-slider{--round-slider-path-color:var(--slider-track-color);--round-slider-bar-color:var(--mode-color);padding-bottom:10%}#slider-center{position:absolute;width:calc(100% - 40px);height:calc(100% - 40px);box-sizing:border-box;border-radius:100%;left:20px;top:20px;text-align:center;overflow-wrap:break-word;pointer-events:none}#humidity{position:absolute;transform:translate(-50%,-50%);width:100%;height:50%;top:45%;left:50%;direction:ltr}#set-values{max-width:80%;transform:translate(0,-50%);font-size:20px}#set-mode{fill:var(--secondary-text-color);font-size:16px}#info{display:flex-vertical;justify-content:center;text-align:center;padding:16px;margin-top:-60px;font-size:var(--name-font-size)}#modes>*{color:var(--disabled-text-color);cursor:pointer;display:inline-block}#modes .selected-icon{color:var(--mode-color)}text{fill:var(--primary-text-color)}"])))}}]}}),A.oi)}}]);
//# sourceMappingURL=68558-0aBgsvnZhZk.js.map