/*! For license information please see 61446-DbkNsiWsqQg.js.LICENSE.txt */
export const id=61446;export const ids=[61446];export const modules={32511:(e,t,i)=>{var d=i(17463),a=i(58417),n=i(39274),s=i(68144),r=i(79932);(0,d.Z)([(0,r.Mo)("ha-checkbox")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",static:!0,key:"styles",value:()=>[n.W,s.iv`:host{--mdc-theme-secondary:var(--primary-color)}`]}]}}),a.A)},3555:(e,t,i)=>{var d=i(17463),a=i(34541),n=i(47838),s=i(42977),r=i(31338),o=i(68144),l=i(79932);(0,d.Z)([(0,l.Mo)("ha-textfield")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,l.Cb)({type:Boolean})],key:"invalid",value:void 0},{kind:"field",decorators:[(0,l.Cb)({attribute:"error-message"})],key:"errorMessage",value:void 0},{kind:"field",decorators:[(0,l.Cb)({type:Boolean})],key:"icon",value:void 0},{kind:"field",decorators:[(0,l.Cb)({type:Boolean})],key:"iconTrailing",value:void 0},{kind:"field",decorators:[(0,l.Cb)()],key:"autocomplete",value:void 0},{kind:"field",decorators:[(0,l.Cb)()],key:"autocorrect",value:void 0},{kind:"field",decorators:[(0,l.Cb)({attribute:"input-spellcheck"})],key:"inputSpellcheck",value:void 0},{kind:"field",decorators:[(0,l.IO)("input")],key:"formElement",value:void 0},{kind:"method",key:"updated",value:function(e){(0,a.Z)((0,n.Z)(i.prototype),"updated",this).call(this,e),(e.has("invalid")&&(this.invalid||void 0!==e.get("invalid"))||e.has("errorMessage"))&&(this.setCustomValidity(this.invalid?this.errorMessage||"Invalid":""),this.reportValidity()),e.has("autocomplete")&&(this.autocomplete?this.formElement.setAttribute("autocomplete",this.autocomplete):this.formElement.removeAttribute("autocomplete")),e.has("autocorrect")&&(this.autocorrect?this.formElement.setAttribute("autocorrect",this.autocorrect):this.formElement.removeAttribute("autocorrect")),e.has("inputSpellcheck")&&(this.inputSpellcheck?this.formElement.setAttribute("spellcheck",this.inputSpellcheck):this.formElement.removeAttribute("spellcheck"))}},{kind:"method",key:"renderIcon",value:function(e,t=!1){const i=t?"trailing":"leading";return o.dy` <span class="mdc-text-field__icon mdc-text-field__icon--${i}" tabindex="${t?1:-1}"> <slot name="${i}Icon"></slot> </span> `}},{kind:"field",static:!0,key:"styles",value:()=>[r.W,o.iv`.mdc-text-field__input{width:var(--ha-textfield-input-width,100%)}.mdc-text-field:not(.mdc-text-field--with-leading-icon){padding:var(--text-field-padding,0px 16px)}.mdc-text-field__affix--suffix{padding-left:var(--text-field-suffix-padding-left,12px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,12px);padding-inline-end:var(--text-field-suffix-padding-right,0px);direction:var(--direction)}.mdc-text-field--with-leading-icon{padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,16px);direction:var(--direction)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:var(--text-field-suffix-padding-left,0px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,0px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:var(--secondary-text-color)}.mdc-text-field__icon{color:var(--secondary-text-color)}.mdc-text-field__icon--leading{margin-inline-start:16px;margin-inline-end:8px;direction:var(--direction)}.mdc-text-field__icon--trailing{padding:var(--textfield-icon-trailing-padding,12px)}.mdc-floating-label:not(.mdc-floating-label--float-above){text-overflow:ellipsis;width:inherit;padding-right:30px;padding-inline-end:30px;padding-inline-start:initial;box-sizing:border-box;direction:var(--direction)}input{text-align:var(--text-field-text-align,start)}:host([no-spinner]) input::-webkit-inner-spin-button,:host([no-spinner]) input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}:host([no-spinner]) input[type=number]{-moz-appearance:textfield}.mdc-text-field__ripple{overflow:hidden}.mdc-text-field{overflow:var(--text-field-overflow)}.mdc-floating-label{inset-inline-start:16px!important;inset-inline-end:initial!important;transform-origin:var(--float-start);direction:var(--direction);text-align:var(--float-start)}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px - var(--text-field-suffix-padding-left,0px));inset-inline-start:calc(48px + var(--text-field-suffix-padding-left,0px))!important;inset-inline-end:initial!important;direction:var(--direction)}.mdc-text-field__input[type=number]{direction:var(--direction)}.mdc-text-field__affix--prefix{padding-right:var(--text-field-prefix-padding-right,2px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:var(--mdc-text-field-label-ink-color)}`,"rtl"===document.dir?o.iv`.mdc-floating-label,.mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field__affix--suffix,.mdc-text-field__icon--leading,.mdc-text-field__input[type=number]{direction:rtl}`:o.iv``]}]}}),s.P)},73826:(e,t,i)=>{i.d(t,{f:()=>r});var d=i(17463),a=i(34541),n=i(47838),s=i(79932);const r=e=>(0,d.Z)(null,(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,s.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",key:"hassSubscribeRequiredHostProps",value:void 0},{kind:"field",key:"__unsubs",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,a.Z)((0,n.Z)(i.prototype),"connectedCallback",this).call(this),this.__checkSubscribed()}},{kind:"method",key:"disconnectedCallback",value:function(){if((0,a.Z)((0,n.Z)(i.prototype),"disconnectedCallback",this).call(this),this.__unsubs){for(;this.__unsubs.length;){const e=this.__unsubs.pop();e instanceof Promise?e.then((e=>e())):e()}this.__unsubs=void 0}}},{kind:"method",key:"updated",value:function(e){if((0,a.Z)((0,n.Z)(i.prototype),"updated",this).call(this,e),e.has("hass"))this.__checkSubscribed();else if(this.hassSubscribeRequiredHostProps)for(const t of e.keys())if(this.hassSubscribeRequiredHostProps.includes(t))return void this.__checkSubscribed()}},{kind:"method",key:"hassSubscribe",value:function(){return[]}},{kind:"method",key:"__checkSubscribed",value:function(){var e;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(e=this.hassSubscribeRequiredHostProps)&&void 0!==e&&e.some((e=>void 0===this[e]))||(this.__unsubs=this.hassSubscribe())}}]}}),e)},61446:(e,t,i)=>{i.r(t);var d=i(17463),a=i(34541),n=i(47838),s=i(68144),r=i(79932),o=i(83448),l=i(34990),c=i(18848),h=i(62877);i(22098),i(32511),i(52039),i(3555);const u=(e,t,i)=>e.callWS({type:"shopping_list/items/update",item_id:t,...i});var p=i(73826),f=i(98116);(0,d.Z)([(0,r.Mo)("hui-shopping-list-card")],(function(e,t){class d extends t{constructor(...t){super(...t),e(this)}}return{F:d,d:[{kind:"method",static:!0,key:"getConfigElement",value:async function(){return await Promise.all([i.e(63436),i.e(99608),i.e(65666),i.e(49412),i.e(3762),i.e(92665)]).then(i.bind(i,92665)),document.createElement("hui-shopping-list-card-editor")}},{kind:"method",static:!0,key:"getStubConfig",value:function(){return{type:"shopping-list"}}},{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.SB)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,r.SB)()],key:"_uncheckedItems",value:void 0},{kind:"field",decorators:[(0,r.SB)()],key:"_checkedItems",value:void 0},{kind:"field",decorators:[(0,r.SB)()],key:"_reordering",value:()=>!1},{kind:"field",decorators:[(0,r.SB)()],key:"_renderEmptySortable",value:()=>!1},{kind:"field",key:"_sortable",value:void 0},{kind:"field",decorators:[(0,r.IO)("#sortable")],key:"_sortableEl",value:void 0},{kind:"method",key:"getCardSize",value:function(){return 3+(this._config&&this._config.title?2:0)}},{kind:"method",key:"setConfig",value:function(e){this._config=e,this._uncheckedItems=[],this._checkedItems=[]}},{kind:"method",key:"hassSubscribe",value:function(){return this._fetchData(),[this.hass.connection.subscribeEvents((()=>this._fetchData()),"shopping_list_updated")]}},{kind:"method",key:"updated",value:function(e){if((0,a.Z)((0,n.Z)(d.prototype),"updated",this).call(this,e),!this._config||!this.hass)return;const t=e.get("hass"),i=e.get("_config");(e.has("hass")&&(null==t?void 0:t.themes)!==this.hass.themes||e.has("_config")&&(null==i?void 0:i.theme)!==this._config.theme)&&(0,h.R)(this,this.hass.themes,this._config.theme)}},{kind:"method",key:"render",value:function(){return this._config&&this.hass?s.dy` <ha-card .header="${this._config.title}" class="${(0,o.$)({"has-header":"title"in this._config})}"> <div class="addRow"> <ha-svg-icon class="addButton" .path="${"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"}" .title="${this.hass.localize("ui.panel.lovelace.cards.shopping-list.add_item")}" @click="${this._addItem}"> </ha-svg-icon> <ha-textfield class="addBox" .placeholder="${this.hass.localize("ui.panel.lovelace.cards.shopping-list.add_item")}" @keydown="${this._addKeyPress}"></ha-textfield> <ha-svg-icon class="reorderButton" .path="${"M18 21L14 17H17V7H14L18 3L22 7H19V17H22M2 19V17H12V19M2 13V11H9V13M2 7V5H6V7H2Z"}" .title="${this.hass.localize("ui.panel.lovelace.cards.shopping-list.reorder_items")}" @click="${this._toggleReorder}"> </ha-svg-icon> </div> ${this._reordering?s.dy` <div id="sortable"> ${(0,l.l)([this._uncheckedItems,this._renderEmptySortable],(()=>this._renderEmptySortable?"":this._renderItems(this._uncheckedItems)))} </div> `:this._renderItems(this._uncheckedItems)} ${this._checkedItems.length>0?s.dy` <div class="divider"></div> <div class="checked"> <span> ${this.hass.localize("ui.panel.lovelace.cards.shopping-list.checked_items")} </span> <ha-svg-icon class="clearall" tabindex="0" .path="${"M5,13H19V11H5M3,17H17V15H3M7,7V9H21V7"}" .title="${this.hass.localize("ui.panel.lovelace.cards.shopping-list.clear_items")}" @click="${this._clearItems}"> </ha-svg-icon> </div> ${(0,c.r)(this._checkedItems,(e=>e.id),(e=>s.dy` <div class="editRow"> <ha-checkbox tabindex="0" .checked="${e.complete}" .itemId="${e.id}" @change="${this._completeItem}"></ha-checkbox> <ha-textfield class="item" .value="${e.name}" .itemId="${e.id}" @change="${this._saveEdit}"></ha-textfield> </div> `))} `:""} </ha-card> `:s.Ld}},{kind:"method",key:"_renderItems",value:function(e){return s.dy` ${(0,c.r)(e,(e=>e.id),(e=>s.dy` <div class="editRow" item-id="${e.id}"> <ha-checkbox tabindex="0" .checked="${e.complete}" .itemId="${e.id}" @change="${this._completeItem}"></ha-checkbox> <ha-textfield class="item" .value="${e.name}" .itemId="${e.id}" @change="${this._saveEdit}"></ha-textfield> ${this._reordering?s.dy` <ha-svg-icon .title="${this.hass.localize("ui.panel.lovelace.cards.shopping-list.drag_and_drop")}" class="reorderButton" .path="${"M7,19V17H9V19H7M11,19V17H13V19H11M15,19V17H17V19H15M7,15V13H9V15H7M11,15V13H13V15H11M15,15V13H17V15H15M7,11V9H9V11H7M11,11V9H13V11H11M15,11V9H17V11H15M7,7V5H9V7H7M11,7V5H13V7H11M15,7V5H17V7H15Z"}"> </ha-svg-icon> `:""} </div> `))} `}},{kind:"method",key:"_fetchData",value:async function(){if(!this.hass)return;const e=[],t=[],i=await(d=this.hass,d.callWS({type:"shopping_list/items"}));var d;for(const d in i)i[d].complete?e.push(i[d]):t.push(i[d]);this._checkedItems=e,this._uncheckedItems=t}},{kind:"method",key:"_completeItem",value:function(e){u(this.hass,e.target.itemId,{complete:e.target.checked}).catch((()=>this._fetchData()))}},{kind:"method",key:"_saveEdit",value:function(e){var t,i;e.target.value?u(this.hass,e.target.itemId,{name:e.target.value}).catch((()=>this._fetchData())):(t=this.hass,i=e.target.itemId,t.callWS({type:"shopping_list/items/remove",item_id:i})).catch((()=>this._fetchData())),e.target.blur()}},{kind:"method",key:"_clearItems",value:function(){var e;this.hass&&(e=this.hass,e.callWS({type:"shopping_list/items/clear"})).catch((()=>this._fetchData()))}},{kind:"get",key:"_newItem",value:function(){return this.shadowRoot.querySelector(".addBox")}},{kind:"method",key:"_addItem",value:function(e){const t=this._newItem;var i,d;t.value.length>0&&(i=this.hass,d=t.value,i.callWS({type:"shopping_list/items/add",name:d})).catch((()=>this._fetchData())),t.value="",e&&t.focus()}},{kind:"method",key:"_addKeyPress",value:function(e){"Enter"===e.key&&this._addItem(null)}},{kind:"method",key:"_toggleReorder",value:async function(){var e;(this._reordering=!this._reordering,await this.updateComplete,this._reordering)?this._createSortable():(null===(e=this._sortable)||void 0===e||e.destroy(),this._sortable=void 0)}},{kind:"method",key:"_createSortable",value:async function(){const e=await(0,f.F)(),t=this._sortableEl;this._sortable=new e(t,{animation:150,fallbackClass:"sortable-fallback",dataIdAttr:"item-id",handle:"ha-svg-icon",onEnd:async e=>{if(void 0!==e.newIndex&&void 0!==e.oldIndex){var i,d;for(e.oldIndex!==e.newIndex&&((i=this.hass,d=this._sortable.toArray(),i.callWS({type:"shopping_list/items/reorder",item_ids:d})).catch((()=>this._fetchData())),this._uncheckedItems.splice(e.newIndex,0,this._uncheckedItems.splice(e.oldIndex,1)[0])),this._renderEmptySortable=!0,await this.updateComplete;null!=t&&t.lastElementChild;)t.removeChild(t.lastElementChild);this._renderEmptySortable=!1}}})}},{kind:"get",static:!0,key:"styles",value:function(){return s.iv`ha-card{padding:16px;height:100%;box-sizing:border-box}.has-header{padding-top:0}.addRow,.checked,.editRow{display:flex;flex-direction:row;align-items:center}.item{margin-top:8px}.addButton{padding-right:16px;padding-inline-end:16px;cursor:pointer;direction:var(--direction)}.reorderButton{padding-left:16px;padding-inline-start:16px;cursor:pointer;direction:var(--direction)}ha-checkbox{margin-left:-12px;margin-inline-start:-12px;direction:var(--direction)}ha-textfield{flex-grow:1}.checked{margin:12px 0;justify-content:space-between}.checked span{color:var(--primary-text-color);font-weight:500}.divider{height:1px;background-color:var(--divider-color);margin:10px 0}.clearall{cursor:pointer}`}}]}}),(0,p.f)(s.oi))},98116:(e,t,i)=>{let d;i.d(t,{F:()=>a});const a=async()=>(d||(d=(await Promise.all([i.e(56087),i.e(32811)]).then(i.bind(i,32811))).default),d)},34990:(e,t,i)=>{i.d(t,{l:()=>s});var d=i(15304),a=i(38941);const n={},s=(0,a.XM)(class extends a.Xe{constructor(){super(...arguments),this.st=n}render(e,t){return t()}update(e,[t,i]){if(Array.isArray(t)){if(Array.isArray(this.st)&&this.st.length===t.length&&t.every(((e,t)=>e===this.st[t])))return d.Jb}else if(this.st===t)return d.Jb;return this.st=Array.isArray(t)?Array.from(t):t,this.render(t,i)}})}};
//# sourceMappingURL=61446-DbkNsiWsqQg.js.map