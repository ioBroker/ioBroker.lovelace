"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkhome_assistant_frontend"] = self["webpackChunkhome_assistant_frontend"] || []).push([["src_panels_lovelace_cards_energy_hui-energy-sources-table-card_ts"],{

/***/ "./src/mixins/subscribe-mixin.ts":
/*!***************************************!*\
  !*** ./src/mixins/subscribe-mixin.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SubscribeMixin: () => (/* binding */ SubscribeMixin)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n\n\n\n\nconst SubscribeMixin = superClass => {\n  let SubscribeClass = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null, function (_initialize, _superClass) {\n    class SubscribeClass extends _superClass {\n      constructor(...args) {\n        super(...args);\n        _initialize(this);\n      }\n    }\n    return {\n      F: SubscribeClass,\n      d: [{\n        kind: \"field\",\n        decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n          attribute: false\n        })],\n        key: \"hass\",\n        value: void 0\n      }, {\n        kind: \"field\",\n        key: \"hassSubscribeRequiredHostProps\",\n        value: void 0\n      }, {\n        kind: \"field\",\n        key: \"__unsubs\",\n        value: void 0\n      }, {\n        kind: \"method\",\n        key: \"connectedCallback\",\n        value:\n        // we wait with subscribing till these properties are set on the host element\n\n        function connectedCallback() {\n          (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(SubscribeClass.prototype), \"connectedCallback\", this).call(this);\n          this.__checkSubscribed();\n        }\n      }, {\n        kind: \"method\",\n        key: \"disconnectedCallback\",\n        value: function disconnectedCallback() {\n          (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(SubscribeClass.prototype), \"disconnectedCallback\", this).call(this);\n          if (this.__unsubs) {\n            while (this.__unsubs.length) {\n              const unsub = this.__unsubs.pop();\n              if (unsub instanceof Promise) {\n                unsub.then(unsubFunc => unsubFunc());\n              } else {\n                unsub();\n              }\n            }\n            this.__unsubs = undefined;\n          }\n        }\n      }, {\n        kind: \"method\",\n        key: \"updated\",\n        value: function updated(changedProps) {\n          (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(SubscribeClass.prototype), \"updated\", this).call(this, changedProps);\n          if (changedProps.has(\"hass\")) {\n            this.__checkSubscribed();\n            return;\n          }\n          if (!this.hassSubscribeRequiredHostProps) {\n            return;\n          }\n          for (const key of changedProps.keys()) {\n            if (this.hassSubscribeRequiredHostProps.includes(key)) {\n              this.__checkSubscribed();\n              return;\n            }\n          }\n        }\n      }, {\n        kind: \"method\",\n        key: \"hassSubscribe\",\n        value: function hassSubscribe() {\n          return [];\n        }\n      }, {\n        kind: \"method\",\n        key: \"__checkSubscribed\",\n        value: function __checkSubscribed() {\n          var _this$hassSubscribeRe;\n          if (this.__unsubs !== undefined || !this.isConnected || this.hass === undefined || (_this$hassSubscribeRe = this.hassSubscribeRequiredHostProps) !== null && _this$hassSubscribeRe !== void 0 && _this$hassSubscribeRe.some(prop => this[prop] === undefined)) {\n            return;\n          }\n          this.__unsubs = this.hassSubscribe();\n        }\n      }]\n    };\n  }, superClass);\n  return SubscribeClass;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWl4aW5zL3N1YnNjcmliZS1taXhpbi50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUVBO0FBT0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFnRUE7QUFBQTtBQUFBO0FBaEVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9taXhpbnMvc3Vic2NyaWJlLW1peGluLnRzP2Y1YjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVW5zdWJzY3JpYmVGdW5jIH0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldFwiO1xuaW1wb3J0IHsgUHJvcGVydHlWYWx1ZXMsIFJlYWN0aXZlRWxlbWVudCB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzXCI7XG5pbXBvcnQgeyBDb25zdHJ1Y3RvciwgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEhhc3NTdWJzY3JpYmVFbGVtZW50IHtcbiAgaGFzc1N1YnNjcmliZSgpOiBVbnN1YnNjcmliZUZ1bmNbXTtcbn1cblxuZXhwb3J0IGNvbnN0IFN1YnNjcmliZU1peGluID0gPFQgZXh0ZW5kcyBDb25zdHJ1Y3RvcjxSZWFjdGl2ZUVsZW1lbnQ+PihcbiAgc3VwZXJDbGFzczogVFxuKSA9PiB7XG4gIGNsYXNzIFN1YnNjcmliZUNsYXNzIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG4gICAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgaGFzcz86IEhvbWVBc3Npc3RhbnQ7XG5cbiAgICAvLyB3ZSB3YWl0IHdpdGggc3Vic2NyaWJpbmcgdGlsbCB0aGVzZSBwcm9wZXJ0aWVzIGFyZSBzZXQgb24gdGhlIGhvc3QgZWxlbWVudFxuICAgIHByb3RlY3RlZCBoYXNzU3Vic2NyaWJlUmVxdWlyZWRIb3N0UHJvcHM/OiBzdHJpbmdbXTtcblxuICAgIHByaXZhdGUgX191bnN1YnM/OiBBcnJheTxVbnN1YnNjcmliZUZ1bmMgfCBQcm9taXNlPFVuc3Vic2NyaWJlRnVuYz4+O1xuXG4gICAgcHVibGljIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgIHRoaXMuX19jaGVja1N1YnNjcmliZWQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgaWYgKHRoaXMuX191bnN1YnMpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuX191bnN1YnMubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc3QgdW5zdWIgPSB0aGlzLl9fdW5zdWJzLnBvcCgpITtcbiAgICAgICAgICBpZiAodW5zdWIgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICB1bnN1Yi50aGVuKCh1bnN1YkZ1bmMpID0+IHVuc3ViRnVuYygpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdW5zdWIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX3Vuc3VicyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgdXBkYXRlZChjaGFuZ2VkUHJvcHM6IFByb3BlcnR5VmFsdWVzKSB7XG4gICAgICBzdXBlci51cGRhdGVkKGNoYW5nZWRQcm9wcyk7XG4gICAgICBpZiAoY2hhbmdlZFByb3BzLmhhcyhcImhhc3NcIikpIHtcbiAgICAgICAgdGhpcy5fX2NoZWNrU3Vic2NyaWJlZCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuaGFzc1N1YnNjcmliZVJlcXVpcmVkSG9zdFByb3BzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIGNoYW5nZWRQcm9wcy5rZXlzKCkpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzc1N1YnNjcmliZVJlcXVpcmVkSG9zdFByb3BzLmluY2x1ZGVzKGtleSBhcyBzdHJpbmcpKSB7XG4gICAgICAgICAgdGhpcy5fX2NoZWNrU3Vic2NyaWJlZCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBoYXNzU3Vic2NyaWJlKCk6IEFycmF5PFxuICAgICAgVW5zdWJzY3JpYmVGdW5jIHwgUHJvbWlzZTxVbnN1YnNjcmliZUZ1bmM+XG4gICAgPiB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfX2NoZWNrU3Vic2NyaWJlZCgpOiB2b2lkIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5fX3Vuc3VicyAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICEodGhpcyBhcyB1bmtub3duIGFzIEVsZW1lbnQpLmlzQ29ubmVjdGVkIHx8XG4gICAgICAgIHRoaXMuaGFzcyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgIHRoaXMuaGFzc1N1YnNjcmliZVJlcXVpcmVkSG9zdFByb3BzPy5zb21lKFxuICAgICAgICAgIChwcm9wKSA9PiB0aGlzW3Byb3BdID09PSB1bmRlZmluZWRcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX191bnN1YnMgPSB0aGlzLmhhc3NTdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFN1YnNjcmliZUNsYXNzO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/mixins/subscribe-mixin.ts\n");

/***/ }),

/***/ "./src/panels/lovelace/cards/energy/hui-energy-sources-table-card.ts":
/*!***************************************************************************!*\
  !*** ./src/panels/lovelace/cards/energy/hui-energy-sources-table-card.ts ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HuiEnergySourcesTableCard: () => (/* binding */ HuiEnergySourcesTableCard)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _material_data_table_dist_mdc_data_table_min_css__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @material/data-table/dist/mdc.data-table.min.css */ \"./node_modules/@material/data-table/dist/mdc.data-table.min.css\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_style_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit/directives/style-map */ \"./node_modules/lit/directives/style-map.js\");\n/* harmony import */ var _common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../common/color/convert-color */ \"./src/common/color/convert-color.ts\");\n/* harmony import */ var _common_color_lab__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../common/color/lab */ \"./src/common/color/lab.ts\");\n/* harmony import */ var _common_number_format_number__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../common/number/format_number */ \"./src/common/number/format_number.ts\");\n/* harmony import */ var _components_ha_card__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../components/ha-card */ \"./src/components/ha-card.ts\");\n/* harmony import */ var _data_energy__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../data/energy */ \"./src/data/energy.ts\");\n/* harmony import */ var _data_recorder__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../data/recorder */ \"./src/data/recorder.ts\");\n/* harmony import */ var _mixins_subscribe_mixin__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../mixins/subscribe-mixin */ \"./src/mixins/subscribe-mixin.ts\");\n\n// @ts-ignore\n\n\n\n\n\n\n\n\n\n\n\nlet HuiEnergySourcesTableCard = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"hui-energy-sources-table-card\")], function (_initialize, _SubscribeMixin) {\n  class HuiEnergySourcesTableCard extends _SubscribeMixin {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HuiEnergySourcesTableCard,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_config\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_data\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"hassSubscribeRequiredHostProps\",\n      value() {\n        return [\"_config\"];\n      }\n    }, {\n      kind: \"method\",\n      key: \"hassSubscribe\",\n      value: function hassSubscribe() {\n        var _this$_config;\n        return [(0,_data_energy__WEBPACK_IMPORTED_MODULE_8__.getEnergyDataCollection)(this.hass, {\n          key: (_this$_config = this._config) === null || _this$_config === void 0 ? void 0 : _this$_config.collection_key\n        }).subscribe(data => {\n          this._data = data;\n        })];\n      }\n    }, {\n      kind: \"method\",\n      key: \"getCardSize\",\n      value: function getCardSize() {\n        return 3;\n      }\n    }, {\n      kind: \"method\",\n      key: \"setConfig\",\n      value: function setConfig(config) {\n        this._config = config;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _types$grid, _types$grid2, _types$gas, _types$water, _types$solar, _types$battery, _types$grid3, _types$gas2, _types$water2;\n        if (!this.hass || !this._config) {\n          return lit__WEBPACK_IMPORTED_MODULE_1__.nothing;\n        }\n        if (!this._data) {\n          return lit__WEBPACK_IMPORTED_MODULE_1__.html`${this.hass.localize(\"ui.panel.lovelace.cards.energy.loading\")}`;\n        }\n        let totalGrid = 0;\n        let totalGridCost = 0;\n        let totalSolar = 0;\n        let totalBattery = 0;\n        let totalGas = 0;\n        let totalGasCost = 0;\n        let totalWater = 0;\n        let totalWaterCost = 0;\n        let totalGridCompare = 0;\n        let totalGridCostCompare = 0;\n        let totalSolarCompare = 0;\n        let totalBatteryCompare = 0;\n        let totalGasCompare = 0;\n        let totalGasCostCompare = 0;\n        let totalWaterCompare = 0;\n        let totalWaterCostCompare = 0;\n        const types = (0,_data_energy__WEBPACK_IMPORTED_MODULE_8__.energySourcesByType)(this._data.prefs);\n        const computedStyles = getComputedStyle(this);\n        const solarColor = computedStyles.getPropertyValue(\"--energy-solar-color\").trim();\n        const batteryFromColor = computedStyles.getPropertyValue(\"--energy-battery-out-color\").trim();\n        const batteryToColor = computedStyles.getPropertyValue(\"--energy-battery-in-color\").trim();\n        const returnColor = computedStyles.getPropertyValue(\"--energy-grid-return-color\").trim();\n        const consumptionColor = computedStyles.getPropertyValue(\"--energy-grid-consumption-color\").trim();\n        const gasColor = computedStyles.getPropertyValue(\"--energy-gas-color\").trim();\n        const waterColor = computedStyles.getPropertyValue(\"--energy-water-color\").trim();\n        const showCosts = ((_types$grid = types.grid) === null || _types$grid === void 0 ? void 0 : _types$grid[0].flow_from.some(flow => flow.stat_cost || flow.entity_energy_price || flow.number_energy_price)) || ((_types$grid2 = types.grid) === null || _types$grid2 === void 0 ? void 0 : _types$grid2[0].flow_to.some(flow => flow.stat_compensation || flow.entity_energy_price || flow.number_energy_price)) || ((_types$gas = types.gas) === null || _types$gas === void 0 ? void 0 : _types$gas.some(flow => flow.stat_cost || flow.entity_energy_price || flow.number_energy_price)) || ((_types$water = types.water) === null || _types$water === void 0 ? void 0 : _types$water.some(flow => flow.stat_cost || flow.entity_energy_price || flow.number_energy_price));\n        const gasUnit = (0,_data_energy__WEBPACK_IMPORTED_MODULE_8__.getEnergyGasUnit)(this.hass, this._data.prefs, this._data.statsMetadata) || \"\";\n        const waterUnit = (0,_data_energy__WEBPACK_IMPORTED_MODULE_8__.getEnergyWaterUnit)(this.hass) || \"mÂ³\";\n        const compare = this._data.statsCompare !== undefined;\n        return lit__WEBPACK_IMPORTED_MODULE_1__.html` <ha-card>\n      ${this._config.title ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<h1 class=\"card-header\">${this._config.title}</h1>` : \"\"}\n      <div class=\"mdc-data-table\">\n        <div class=\"mdc-data-table__table-container\">\n          <table class=\"mdc-data-table__table\" aria-label=\"Energy sources\">\n            <thead>\n              <tr class=\"mdc-data-table__header-row\">\n                <th class=\"mdc-data-table__header-cell\"></th>\n                <th\n                  class=\"mdc-data-table__header-cell\"\n                  role=\"columnheader\"\n                  scope=\"col\"\n                >\n                  ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.source\")}\n                </th>\n                ${compare ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<th\n                        class=\"mdc-data-table__header-cell mdc-data-table__header-cell--numeric\"\n                        role=\"columnheader\"\n                        scope=\"col\"\n                      >\n                        ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.previous_energy\")}\n                      </th>\n                      ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<th\n                            class=\"mdc-data-table__header-cell mdc-data-table__header-cell--numeric\"\n                            role=\"columnheader\"\n                            scope=\"col\"\n                          >\n                            ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.previous_cost\")}\n                          </th>` : \"\"}` : \"\"}\n                <th\n                  class=\"mdc-data-table__header-cell mdc-data-table__header-cell--numeric\"\n                  role=\"columnheader\"\n                  scope=\"col\"\n                >\n                  ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.energy\")}\n                </th>\n                ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html` <th\n                      class=\"mdc-data-table__header-cell mdc-data-table__header-cell--numeric\"\n                      role=\"columnheader\"\n                      scope=\"col\"\n                    >\n                      ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.cost\")}\n                    </th>` : \"\"}\n              </tr>\n            </thead>\n            <tbody class=\"mdc-data-table__content\">\n              ${(_types$solar = types.solar) === null || _types$solar === void 0 ? void 0 : _types$solar.map((source, idx) => {\n          var _this$_data;\n          const energy = (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.stats[source.stat_energy_from]) || 0;\n          totalSolar += energy;\n          const compareEnergy = compare && (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.statsCompare[source.stat_energy_from]) || 0;\n          totalSolarCompare += compareEnergy;\n          const modifiedColor = idx > 0 ? this.hass.themes.darkMode ? (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_5__.labBrighten)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.hex2rgb)(solarColor)), idx) : (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_5__.labDarken)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.hex2rgb)(solarColor)), idx) : undefined;\n          const color = modifiedColor ? (0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2hex)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.lab2rgb)(modifiedColor)) : solarColor;\n          return lit__WEBPACK_IMPORTED_MODULE_1__.html`<tr class=\"mdc-data-table__row\">\n                  <td class=\"mdc-data-table__cell cell-bullet\">\n                    <div\n                      class=\"bullet\"\n                      style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_3__.styleMap)({\n            borderColor: color,\n            backgroundColor: color + \"7F\"\n          })}\n                    ></div>\n                  </td>\n                  <th class=\"mdc-data-table__cell\" scope=\"row\">\n                    ${(0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.getStatisticLabel)(this.hass, source.stat_energy_from, (_this$_data = this._data) === null || _this$_data === void 0 ? void 0 : _this$_data.statsMetadata[source.stat_energy_from])}\n                  </th>\n                  ${compare ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td\n                          class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                        >\n                          ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(compareEnergy, this.hass.locale)} kWh\n                        </td>\n                        ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td class=\"mdc-data-table__cell\"></td>` : \"\"}` : \"\"}\n                  <td\n                    class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                  >\n                    ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energy, this.hass.locale)} kWh\n                  </td>\n                  ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td class=\"mdc-data-table__cell\"></td>` : \"\"}\n                </tr>`;\n        })}\n              ${types.solar ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<tr class=\"mdc-data-table__row total\">\n                    <td class=\"mdc-data-table__cell\"></td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.solar_total\")}\n                    </th>\n                    ${compare ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalSolarCompare, this.hass.locale)}\n                            kWh\n                          </td>\n                          ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td class=\"mdc-data-table__cell\"></td>` : \"\"}` : \"\"}\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalSolar, this.hass.locale)} kWh\n                    </td>\n                    ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td class=\"mdc-data-table__cell\"></td>` : \"\"}\n                  </tr>` : \"\"}\n              ${(_types$battery = types.battery) === null || _types$battery === void 0 ? void 0 : _types$battery.map((source, idx) => {\n          var _this$_data2, _this$_data3;\n          const energyFrom = (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.stats[source.stat_energy_from]) || 0;\n          const energyTo = (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.stats[source.stat_energy_to]) || 0;\n          totalBattery += energyFrom - energyTo;\n          const energyFromCompare = compare && (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.statsCompare[source.stat_energy_from]) || 0;\n          const energyToCompare = compare && (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.statsCompare[source.stat_energy_to]) || 0;\n          totalBatteryCompare += energyFromCompare - energyToCompare;\n          const modifiedFromColor = idx > 0 ? this.hass.themes.darkMode ? (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_5__.labBrighten)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.hex2rgb)(batteryFromColor)), idx) : (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_5__.labDarken)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.hex2rgb)(batteryFromColor)), idx) : undefined;\n          const fromColor = modifiedFromColor ? (0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2hex)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.lab2rgb)(modifiedFromColor)) : batteryFromColor;\n          const modifiedToColor = idx > 0 ? this.hass.themes.darkMode ? (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_5__.labBrighten)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.hex2rgb)(batteryToColor)), idx) : (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_5__.labDarken)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.hex2rgb)(batteryToColor)), idx) : undefined;\n          const toColor = modifiedToColor ? (0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2hex)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.lab2rgb)(modifiedToColor)) : batteryToColor;\n          return lit__WEBPACK_IMPORTED_MODULE_1__.html`<tr class=\"mdc-data-table__row\">\n                    <td class=\"mdc-data-table__cell cell-bullet\">\n                      <div\n                        class=\"bullet\"\n                        style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_3__.styleMap)({\n            borderColor: fromColor,\n            backgroundColor: fromColor + \"7F\"\n          })}\n                      ></div>\n                    </td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${(0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.getStatisticLabel)(this.hass, source.stat_energy_from, (_this$_data2 = this._data) === null || _this$_data2 === void 0 ? void 0 : _this$_data2.statsMetadata[source.stat_energy_from])}\n                    </th>\n                    ${compare ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energyFromCompare, this.hass.locale)}\n                            kWh\n                          </td>\n                          ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td class=\"mdc-data-table__cell\"></td>` : \"\"}` : \"\"}\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energyFrom, this.hass.locale)} kWh\n                    </td>\n                    ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td class=\"mdc-data-table__cell\"></td>` : \"\"}\n                  </tr>\n                  <tr class=\"mdc-data-table__row\">\n                    <td class=\"mdc-data-table__cell cell-bullet\">\n                      <div\n                        class=\"bullet\"\n                        style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_3__.styleMap)({\n            borderColor: toColor,\n            backgroundColor: toColor + \"7F\"\n          })}\n                      ></div>\n                    </td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${(0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.getStatisticLabel)(this.hass, source.stat_energy_to, (_this$_data3 = this._data) === null || _this$_data3 === void 0 ? void 0 : _this$_data3.statsMetadata[source.stat_energy_to])}\n                    </th>\n                    ${compare ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energyToCompare * -1, this.hass.locale)}\n                            kWh\n                          </td>\n                          ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td class=\"mdc-data-table__cell\"></td>` : \"\"}` : \"\"}\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energyTo * -1, this.hass.locale)} kWh\n                    </td>\n                    ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td class=\"mdc-data-table__cell\"></td>` : \"\"}\n                  </tr>`;\n        })}\n              ${types.battery ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<tr class=\"mdc-data-table__row total\">\n                    <td class=\"mdc-data-table__cell\"></td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.battery_total\")}\n                    </th>\n                    ${compare ? lit__WEBPACK_IMPORTED_MODULE_1__.html` <td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalBatteryCompare, this.hass.locale)}\n                            kWh\n                          </td>\n                          ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td class=\"mdc-data-table__cell\"></td>` : \"\"}` : \"\"}\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalBattery, this.hass.locale)} kWh\n                    </td>\n                    ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td class=\"mdc-data-table__cell\"></td>` : \"\"}\n                  </tr>` : \"\"}\n              ${(_types$grid3 = types.grid) === null || _types$grid3 === void 0 ? void 0 : _types$grid3.map(source => lit__WEBPACK_IMPORTED_MODULE_1__.html`${source.flow_from.map((flow, idx) => {\n          var _this$_data4;\n          const energy = (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.stats[flow.stat_energy_from]) || 0;\n          totalGrid += energy;\n          const compareEnergy = compare && (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.statsCompare[flow.stat_energy_from]) || 0;\n          totalGridCompare += compareEnergy;\n          const cost_stat = flow.stat_cost || this._data.info.cost_sensors[flow.stat_energy_from];\n          const cost = cost_stat ? (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.stats[cost_stat]) || 0 : null;\n          if (cost !== null) {\n            totalGridCost += cost;\n          }\n          const costCompare = compare && cost_stat ? (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.statsCompare[cost_stat]) || 0 : null;\n          if (costCompare !== null) {\n            totalGridCostCompare += costCompare;\n          }\n          const modifiedColor = idx > 0 ? this.hass.themes.darkMode ? (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_5__.labBrighten)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.hex2rgb)(consumptionColor)), idx) : (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_5__.labDarken)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.hex2rgb)(consumptionColor)), idx) : undefined;\n          const color = modifiedColor ? (0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2hex)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.lab2rgb)(modifiedColor)) : consumptionColor;\n          return lit__WEBPACK_IMPORTED_MODULE_1__.html`<tr class=\"mdc-data-table__row\">\n                    <td class=\"mdc-data-table__cell cell-bullet\">\n                      <div\n                        class=\"bullet\"\n                        style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_3__.styleMap)({\n            borderColor: color,\n            backgroundColor: color + \"7F\"\n          })}\n                      ></div>\n                    </td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${(0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.getStatisticLabel)(this.hass, flow.stat_energy_from, (_this$_data4 = this._data) === null || _this$_data4 === void 0 ? void 0 : _this$_data4.statsMetadata[flow.stat_energy_from])}\n                    </th>\n                    ${compare ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(compareEnergy, this.hass.locale)} kWh\n                          </td>\n                          ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td\n                                class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                              >\n                                ${costCompare !== null ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(costCompare, this.hass.locale, {\n            style: \"currency\",\n            currency: this.hass.config.currency\n          }) : \"\"}\n                              </td>` : \"\"}` : \"\"}\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energy, this.hass.locale)} kWh\n                    </td>\n                    ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html` <td\n                          class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                        >\n                          ${cost !== null ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(cost, this.hass.locale, {\n            style: \"currency\",\n            currency: this.hass.config.currency\n          }) : \"\"}\n                        </td>` : \"\"}\n                  </tr>`;\n        })}\n                ${source.flow_to.map((flow, idx) => {\n          var _this$_data5;\n          const energy = ((0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.stats[flow.stat_energy_to]) || 0) * -1;\n          totalGrid += energy;\n          const cost_stat = flow.stat_compensation || this._data.info.cost_sensors[flow.stat_energy_to];\n          const cost = cost_stat ? ((0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.stats[cost_stat]) || 0) * -1 : null;\n          if (cost !== null) {\n            totalGridCost += cost;\n          }\n          const energyCompare = (compare && (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.statsCompare[flow.stat_energy_to]) || 0) * -1;\n          totalGridCompare += energyCompare;\n          const costCompare = compare && cost_stat ? ((0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.statsCompare[cost_stat]) || 0) * -1 : null;\n          if (costCompare !== null) {\n            totalGridCostCompare += costCompare;\n          }\n          const modifiedColor = idx > 0 ? this.hass.themes.darkMode ? (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_5__.labBrighten)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.hex2rgb)(returnColor)), idx) : (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_5__.labDarken)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.hex2rgb)(returnColor)), idx) : undefined;\n          const color = modifiedColor ? (0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2hex)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.lab2rgb)(modifiedColor)) : returnColor;\n          return lit__WEBPACK_IMPORTED_MODULE_1__.html`<tr class=\"mdc-data-table__row\">\n                    <td class=\"mdc-data-table__cell cell-bullet\">\n                      <div\n                        class=\"bullet\"\n                        style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_3__.styleMap)({\n            borderColor: color,\n            backgroundColor: color + \"7F\"\n          })}\n                      ></div>\n                    </td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${(0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.getStatisticLabel)(this.hass, flow.stat_energy_to, (_this$_data5 = this._data) === null || _this$_data5 === void 0 ? void 0 : _this$_data5.statsMetadata[flow.stat_energy_to])}\n                    </th>\n                    ${compare ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energyCompare, this.hass.locale)} kWh\n                          </td>\n                          ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td\n                                class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                              >\n                                ${costCompare !== null ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(costCompare, this.hass.locale, {\n            style: \"currency\",\n            currency: this.hass.config.currency\n          }) : \"\"}\n                              </td>` : \"\"}` : \"\"}\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energy, this.hass.locale)} kWh\n                    </td>\n                    ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html` <td\n                          class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                        >\n                          ${cost !== null ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(cost, this.hass.locale, {\n            style: \"currency\",\n            currency: this.hass.config.currency\n          }) : \"\"}\n                        </td>` : \"\"}\n                  </tr>`;\n        })}`)}\n              ${types.grid ? lit__WEBPACK_IMPORTED_MODULE_1__.html` <tr class=\"mdc-data-table__row total\">\n                    <td class=\"mdc-data-table__cell\"></td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.grid_total\")}\n                    </th>\n                    ${compare ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGridCompare, this.hass.locale)}\n                            kWh\n                          </td>\n                          ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td\n                                class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                              >\n                                ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGridCostCompare, this.hass.locale, {\n          style: \"currency\",\n          currency: this.hass.config.currency\n        })}\n                              </td>` : \"\"}` : \"\"}\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGrid, this.hass.locale)} kWh\n                    </td>\n                    ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td\n                          class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                        >\n                          ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGridCost, this.hass.locale, {\n          style: \"currency\",\n          currency: this.hass.config.currency\n        })}\n                        </td>` : \"\"}\n                  </tr>` : \"\"}\n              ${(_types$gas2 = types.gas) === null || _types$gas2 === void 0 ? void 0 : _types$gas2.map((source, idx) => {\n          var _this$_data6;\n          const energy = (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.stats[source.stat_energy_from]) || 0;\n          totalGas += energy;\n          const energyCompare = compare && (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.statsCompare[source.stat_energy_from]) || 0;\n          totalGasCompare += energyCompare;\n          const cost_stat = source.stat_cost || this._data.info.cost_sensors[source.stat_energy_from];\n          const cost = cost_stat ? (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.stats[cost_stat]) || 0 : null;\n          if (cost !== null) {\n            totalGasCost += cost;\n          }\n          const costCompare = compare && cost_stat ? (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.statsCompare[cost_stat]) || 0 : null;\n          if (costCompare !== null) {\n            totalGasCostCompare += costCompare;\n          }\n          const modifiedColor = idx > 0 ? this.hass.themes.darkMode ? (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_5__.labBrighten)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.hex2rgb)(gasColor)), idx) : (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_5__.labDarken)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.hex2rgb)(gasColor)), idx) : undefined;\n          const color = modifiedColor ? (0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2hex)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.lab2rgb)(modifiedColor)) : gasColor;\n          return lit__WEBPACK_IMPORTED_MODULE_1__.html`<tr class=\"mdc-data-table__row\">\n                  <td class=\"mdc-data-table__cell cell-bullet\">\n                    <div\n                      class=\"bullet\"\n                      style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_3__.styleMap)({\n            borderColor: color,\n            backgroundColor: color + \"7F\"\n          })}\n                    ></div>\n                  </td>\n                  <th class=\"mdc-data-table__cell\" scope=\"row\">\n                    ${(0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.getStatisticLabel)(this.hass, source.stat_energy_from, (_this$_data6 = this._data) === null || _this$_data6 === void 0 ? void 0 : _this$_data6.statsMetadata[source.stat_energy_from])}\n                  </th>\n                  ${compare ? lit__WEBPACK_IMPORTED_MODULE_1__.html` <td\n                          class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                        >\n                          ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energyCompare, this.hass.locale)}\n                          ${gasUnit}\n                        </td>\n                        ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td\n                              class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                            >\n                              ${costCompare !== null ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(costCompare, this.hass.locale, {\n            style: \"currency\",\n            currency: this.hass.config.currency\n          }) : \"\"}\n                            </td>` : \"\"}` : \"\"}\n                  <td\n                    class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                  >\n                    ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energy, this.hass.locale)} ${gasUnit}\n                  </td>\n                  ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td\n                        class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                      >\n                        ${cost !== null ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(cost, this.hass.locale, {\n            style: \"currency\",\n            currency: this.hass.config.currency\n          }) : \"\"}\n                      </td>` : \"\"}\n                </tr>`;\n        })}\n              ${types.gas ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<tr class=\"mdc-data-table__row total\">\n                    <td class=\"mdc-data-table__cell\"></td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.gas_total\")}\n                    </th>\n                    ${compare ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGasCompare, this.hass.locale)}\n                            ${gasUnit}\n                          </td>\n                          ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td\n                                class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                              >\n                                ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGasCostCompare, this.hass.locale, {\n          style: \"currency\",\n          currency: this.hass.config.currency\n        })}\n                              </td>` : \"\"}` : \"\"}\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGas, this.hass.locale)} ${gasUnit}\n                    </td>\n                    ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td\n                          class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                        >\n                          ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGasCost, this.hass.locale, {\n          style: \"currency\",\n          currency: this.hass.config.currency\n        })}\n                        </td>` : \"\"}\n                  </tr>` : \"\"}\n              ${(_types$water2 = types.water) === null || _types$water2 === void 0 ? void 0 : _types$water2.map((source, idx) => {\n          var _this$_data7;\n          const energy = (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.stats[source.stat_energy_from]) || 0;\n          totalWater += energy;\n          const energyCompare = compare && (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.statsCompare[source.stat_energy_from]) || 0;\n          totalWaterCompare += energyCompare;\n          const cost_stat = source.stat_cost || this._data.info.cost_sensors[source.stat_energy_from];\n          const cost = cost_stat ? (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.stats[cost_stat]) || 0 : null;\n          if (cost !== null) {\n            totalWaterCost += cost;\n          }\n          const costCompare = compare && cost_stat ? (0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.calculateStatisticSumGrowth)(this._data.statsCompare[cost_stat]) || 0 : null;\n          if (costCompare !== null) {\n            totalWaterCostCompare += costCompare;\n          }\n          const modifiedColor = idx > 0 ? this.hass.themes.darkMode ? (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_5__.labBrighten)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.hex2rgb)(waterColor)), idx) : (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_5__.labDarken)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.hex2rgb)(waterColor)), idx) : undefined;\n          const color = modifiedColor ? (0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2hex)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.lab2rgb)(modifiedColor)) : waterColor;\n          return lit__WEBPACK_IMPORTED_MODULE_1__.html`<tr class=\"mdc-data-table__row\">\n                  <td class=\"mdc-data-table__cell cell-bullet\">\n                    <div\n                      class=\"bullet\"\n                      style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_3__.styleMap)({\n            borderColor: color,\n            backgroundColor: color + \"7F\"\n          })}\n                    ></div>\n                  </td>\n                  <th class=\"mdc-data-table__cell\" scope=\"row\">\n                    ${(0,_data_recorder__WEBPACK_IMPORTED_MODULE_9__.getStatisticLabel)(this.hass, source.stat_energy_from, (_this$_data7 = this._data) === null || _this$_data7 === void 0 ? void 0 : _this$_data7.statsMetadata[source.stat_energy_from])}\n                  </th>\n                  ${compare ? lit__WEBPACK_IMPORTED_MODULE_1__.html` <td\n                          class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                        >\n                          ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energyCompare, this.hass.locale)}\n                          ${waterUnit}\n                        </td>\n                        ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td\n                              class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                            >\n                              ${costCompare !== null ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(costCompare, this.hass.locale, {\n            style: \"currency\",\n            currency: this.hass.config.currency\n          }) : \"\"}\n                            </td>` : \"\"}` : \"\"}\n                  <td\n                    class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                  >\n                    ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energy, this.hass.locale)} ${waterUnit}\n                  </td>\n                  ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td\n                        class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                      >\n                        ${cost !== null ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(cost, this.hass.locale, {\n            style: \"currency\",\n            currency: this.hass.config.currency\n          }) : \"\"}\n                      </td>` : \"\"}\n                </tr>`;\n        })}\n              ${types.water ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<tr class=\"mdc-data-table__row total\">\n                    <td class=\"mdc-data-table__cell\"></td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.water_total\")}\n                    </th>\n                    ${compare ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalWaterCompare, this.hass.locale)}\n                            ${waterUnit}\n                          </td>\n                          ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td\n                                class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                              >\n                                ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalWaterCostCompare, this.hass.locale, {\n          style: \"currency\",\n          currency: this.hass.config.currency\n        })}\n                              </td>` : \"\"}` : \"\"}\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalWater, this.hass.locale)} ${waterUnit}\n                    </td>\n                    ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td\n                          class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                        >\n                          ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalWaterCost, this.hass.locale, {\n          style: \"currency\",\n          currency: this.hass.config.currency\n        })}\n                        </td>` : \"\"}\n                  </tr>` : \"\"}\n              ${[totalGasCost, totalWaterCost, totalGridCost].filter(Boolean).length > 1 ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<tr class=\"mdc-data-table__row total\">\n                    <td class=\"mdc-data-table__cell\"></td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.total_costs\")}\n                    </th>\n                    ${compare ? lit__WEBPACK_IMPORTED_MODULE_1__.html`${showCosts ? lit__WEBPACK_IMPORTED_MODULE_1__.html`<td class=\"mdc-data-table__cell\"></td>` : \"\"}\n                          <td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGasCostCompare + totalGridCostCompare + totalWaterCostCompare, this.hass.locale, {\n          style: \"currency\",\n          currency: this.hass.config.currency\n        })}\n                          </td>` : \"\"}\n                    <td class=\"mdc-data-table__cell\"></td>\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGasCost + totalGridCost + totalWaterCost, this.hass.locale, {\n          style: \"currency\",\n          currency: this.hass.config.currency\n        })}\n                    </td>\n                  </tr>` : \"\"}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </ha-card>`;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return lit__WEBPACK_IMPORTED_MODULE_1__.css`\n      ${(0,lit__WEBPACK_IMPORTED_MODULE_1__.unsafeCSS)(_material_data_table_dist_mdc_data_table_min_css__WEBPACK_IMPORTED_MODULE_11__)}\n      .mdc-data-table {\n        width: 100%;\n        border: 0;\n      }\n      .mdc-data-table__header-cell,\n      .mdc-data-table__cell {\n        color: var(--primary-text-color);\n        border-bottom-color: var(--divider-color);\n        text-align: var(--float-start);\n      }\n      .mdc-data-table__row:not(.mdc-data-table__row--selected):hover {\n        background-color: rgba(var(--rgb-primary-text-color), 0.04);\n      }\n      .total {\n        --mdc-typography-body2-font-weight: 500;\n      }\n      .total .mdc-data-table__cell {\n        border-top: 1px solid var(--divider-color);\n      }\n      ha-card {\n        height: 100%;\n        overflow: hidden;\n      }\n      .card-header {\n        padding-bottom: 0;\n      }\n      .content {\n        padding: 16px;\n      }\n      .has-header {\n        padding-top: 0;\n      }\n      .cell-bullet {\n        width: 32px;\n        padding-right: 0;\n        padding-inline-end: 0;\n        padding-inline-start: 16px;\n        direction: var(--direction);\n      }\n      .bullet {\n        border-width: 1px;\n        border-style: solid;\n        border-radius: 4px;\n        height: 16px;\n        width: 32px;\n      }\n      .mdc-data-table__cell--numeric {\n        direction: ltr;\n      }\n    `;\n      }\n    }]\n  };\n}, (0,_mixins_subscribe_mixin__WEBPACK_IMPORTED_MODULE_10__.SubscribeMixin)(lit__WEBPACK_IMPORTED_MODULE_1__.LitElement));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2xvdmVsYWNlL2NhcmRzL2VuZXJneS9odWktZW5lcmd5LXNvdXJjZXMtdGFibGUtY2FyZC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFJQTtBQUtBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQXdqQ0E7QUFBQTtBQUFBO0FBM2pDQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUlBO0FBb0JBO0FBSUE7QUFFQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBSUE7QUFFQTtBQU1BO0FBRUE7QUFNQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFBQTtBQUNBO0FBSUE7QUFJQTtBQUVBO0FBTUE7QUFNQTtBQUVBO0FBTUE7QUFHQTtBQU1BO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFNQTtBQUVBO0FBR0E7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUdBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFJQTtBQUVBO0FBTUE7QUFFQTtBQUdBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBSUE7QUFFQTtBQU1BO0FBRUE7QUFHQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvcGFuZWxzL2xvdmVsYWNlL2NhcmRzL2VuZXJneS9odWktZW5lcmd5LXNvdXJjZXMtdGFibGUtY2FyZC50cz84OWQzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEB0cy1pZ25vcmVcbmltcG9ydCBkYXRhVGFibGVTdHlsZXMgZnJvbSBcIkBtYXRlcmlhbC9kYXRhLXRhYmxlL2Rpc3QvbWRjLmRhdGEtdGFibGUubWluLmNzc1wiO1xuaW1wb3J0IHsgVW5zdWJzY3JpYmVGdW5jIH0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldFwiO1xuaW1wb3J0IHsgY3NzLCBDU1NSZXN1bHRHcm91cCwgaHRtbCwgTGl0RWxlbWVudCwgdW5zYWZlQ1NTLCBub3RoaW5nIH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHksIHN0YXRlIH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzXCI7XG5pbXBvcnQgeyBzdHlsZU1hcCB9IGZyb20gXCJsaXQvZGlyZWN0aXZlcy9zdHlsZS1tYXBcIjtcbmltcG9ydCB7XG4gIGhleDJyZ2IsXG4gIGxhYjJyZ2IsXG4gIHJnYjJoZXgsXG4gIHJnYjJsYWIsXG59IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vY29sb3IvY29udmVydC1jb2xvclwiO1xuaW1wb3J0IHsgbGFiQnJpZ2h0ZW4sIGxhYkRhcmtlbiB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vY29sb3IvbGFiXCI7XG5pbXBvcnQgeyBmb3JtYXROdW1iZXIgfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29tbW9uL251bWJlci9mb3JtYXRfbnVtYmVyXCI7XG5pbXBvcnQgXCIuLi8uLi8uLi8uLi9jb21wb25lbnRzL2hhLWNhcmRcIjtcbmltcG9ydCB7XG4gIEVuZXJneURhdGEsXG4gIGVuZXJneVNvdXJjZXNCeVR5cGUsXG4gIGdldEVuZXJneURhdGFDb2xsZWN0aW9uLFxuICBnZXRFbmVyZ3lHYXNVbml0LFxuICBnZXRFbmVyZ3lXYXRlclVuaXQsXG59IGZyb20gXCIuLi8uLi8uLi8uLi9kYXRhL2VuZXJneVwiO1xuaW1wb3J0IHtcbiAgY2FsY3VsYXRlU3RhdGlzdGljU3VtR3Jvd3RoLFxuICBnZXRTdGF0aXN0aWNMYWJlbCxcbn0gZnJvbSBcIi4uLy4uLy4uLy4uL2RhdGEvcmVjb3JkZXJcIjtcbmltcG9ydCB7IFN1YnNjcmliZU1peGluIH0gZnJvbSBcIi4uLy4uLy4uLy4uL21peGlucy9zdWJzY3JpYmUtbWl4aW5cIjtcbmltcG9ydCB7IEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vLi4vLi4vLi4vdHlwZXNcIjtcbmltcG9ydCB7IExvdmVsYWNlQ2FyZCB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuaW1wb3J0IHsgRW5lcmd5U291cmNlc1RhYmxlQ2FyZENvbmZpZyB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG5AY3VzdG9tRWxlbWVudChcImh1aS1lbmVyZ3ktc291cmNlcy10YWJsZS1jYXJkXCIpXG5leHBvcnQgY2xhc3MgSHVpRW5lcmd5U291cmNlc1RhYmxlQ2FyZFxuICBleHRlbmRzIFN1YnNjcmliZU1peGluKExpdEVsZW1lbnQpXG4gIGltcGxlbWVudHMgTG92ZWxhY2VDYXJkXG57XG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGhhc3MhOiBIb21lQXNzaXN0YW50O1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2NvbmZpZz86IEVuZXJneVNvdXJjZXNUYWJsZUNhcmRDb25maWc7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfZGF0YT86IEVuZXJneURhdGE7XG5cbiAgcHJvdGVjdGVkIGhhc3NTdWJzY3JpYmVSZXF1aXJlZEhvc3RQcm9wcyA9IFtcIl9jb25maWdcIl07XG5cbiAgcHVibGljIGhhc3NTdWJzY3JpYmUoKTogVW5zdWJzY3JpYmVGdW5jW10ge1xuICAgIHJldHVybiBbXG4gICAgICBnZXRFbmVyZ3lEYXRhQ29sbGVjdGlvbih0aGlzLmhhc3MsIHtcbiAgICAgICAga2V5OiB0aGlzLl9jb25maWc/LmNvbGxlY3Rpb25fa2V5LFxuICAgICAgfSkuc3Vic2NyaWJlKChkYXRhKSA9PiB7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgICAgfSksXG4gICAgXTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDYXJkU2l6ZSgpOiBQcm9taXNlPG51bWJlcj4gfCBudW1iZXIge1xuICAgIHJldHVybiAzO1xuICB9XG5cbiAgcHVibGljIHNldENvbmZpZyhjb25maWc6IEVuZXJneVNvdXJjZXNUYWJsZUNhcmRDb25maWcpOiB2b2lkIHtcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5oYXNzIHx8ICF0aGlzLl9jb25maWcpIHtcbiAgICAgIHJldHVybiBub3RoaW5nO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5fZGF0YSkge1xuICAgICAgcmV0dXJuIGh0bWxgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgIFwidWkucGFuZWwubG92ZWxhY2UuY2FyZHMuZW5lcmd5LmxvYWRpbmdcIlxuICAgICAgKX1gO1xuICAgIH1cblxuICAgIGxldCB0b3RhbEdyaWQgPSAwO1xuICAgIGxldCB0b3RhbEdyaWRDb3N0ID0gMDtcbiAgICBsZXQgdG90YWxTb2xhciA9IDA7XG4gICAgbGV0IHRvdGFsQmF0dGVyeSA9IDA7XG4gICAgbGV0IHRvdGFsR2FzID0gMDtcbiAgICBsZXQgdG90YWxHYXNDb3N0ID0gMDtcbiAgICBsZXQgdG90YWxXYXRlciA9IDA7XG4gICAgbGV0IHRvdGFsV2F0ZXJDb3N0ID0gMDtcblxuICAgIGxldCB0b3RhbEdyaWRDb21wYXJlID0gMDtcbiAgICBsZXQgdG90YWxHcmlkQ29zdENvbXBhcmUgPSAwO1xuICAgIGxldCB0b3RhbFNvbGFyQ29tcGFyZSA9IDA7XG4gICAgbGV0IHRvdGFsQmF0dGVyeUNvbXBhcmUgPSAwO1xuICAgIGxldCB0b3RhbEdhc0NvbXBhcmUgPSAwO1xuICAgIGxldCB0b3RhbEdhc0Nvc3RDb21wYXJlID0gMDtcbiAgICBsZXQgdG90YWxXYXRlckNvbXBhcmUgPSAwO1xuICAgIGxldCB0b3RhbFdhdGVyQ29zdENvbXBhcmUgPSAwO1xuXG4gICAgY29uc3QgdHlwZXMgPSBlbmVyZ3lTb3VyY2VzQnlUeXBlKHRoaXMuX2RhdGEucHJlZnMpO1xuXG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlKHRoaXMpO1xuICAgIGNvbnN0IHNvbGFyQ29sb3IgPSBjb21wdXRlZFN0eWxlc1xuICAgICAgLmdldFByb3BlcnR5VmFsdWUoXCItLWVuZXJneS1zb2xhci1jb2xvclwiKVxuICAgICAgLnRyaW0oKTtcbiAgICBjb25zdCBiYXR0ZXJ5RnJvbUNvbG9yID0gY29tcHV0ZWRTdHlsZXNcbiAgICAgIC5nZXRQcm9wZXJ0eVZhbHVlKFwiLS1lbmVyZ3ktYmF0dGVyeS1vdXQtY29sb3JcIilcbiAgICAgIC50cmltKCk7XG4gICAgY29uc3QgYmF0dGVyeVRvQ29sb3IgPSBjb21wdXRlZFN0eWxlc1xuICAgICAgLmdldFByb3BlcnR5VmFsdWUoXCItLWVuZXJneS1iYXR0ZXJ5LWluLWNvbG9yXCIpXG4gICAgICAudHJpbSgpO1xuICAgIGNvbnN0IHJldHVybkNvbG9yID0gY29tcHV0ZWRTdHlsZXNcbiAgICAgIC5nZXRQcm9wZXJ0eVZhbHVlKFwiLS1lbmVyZ3ktZ3JpZC1yZXR1cm4tY29sb3JcIilcbiAgICAgIC50cmltKCk7XG4gICAgY29uc3QgY29uc3VtcHRpb25Db2xvciA9IGNvbXB1dGVkU3R5bGVzXG4gICAgICAuZ2V0UHJvcGVydHlWYWx1ZShcIi0tZW5lcmd5LWdyaWQtY29uc3VtcHRpb24tY29sb3JcIilcbiAgICAgIC50cmltKCk7XG4gICAgY29uc3QgZ2FzQ29sb3IgPSBjb21wdXRlZFN0eWxlc1xuICAgICAgLmdldFByb3BlcnR5VmFsdWUoXCItLWVuZXJneS1nYXMtY29sb3JcIilcbiAgICAgIC50cmltKCk7XG4gICAgY29uc3Qgd2F0ZXJDb2xvciA9IGNvbXB1dGVkU3R5bGVzXG4gICAgICAuZ2V0UHJvcGVydHlWYWx1ZShcIi0tZW5lcmd5LXdhdGVyLWNvbG9yXCIpXG4gICAgICAudHJpbSgpO1xuXG4gICAgY29uc3Qgc2hvd0Nvc3RzID1cbiAgICAgIHR5cGVzLmdyaWQ/LlswXS5mbG93X2Zyb20uc29tZShcbiAgICAgICAgKGZsb3cpID0+XG4gICAgICAgICAgZmxvdy5zdGF0X2Nvc3QgfHwgZmxvdy5lbnRpdHlfZW5lcmd5X3ByaWNlIHx8IGZsb3cubnVtYmVyX2VuZXJneV9wcmljZVxuICAgICAgKSB8fFxuICAgICAgdHlwZXMuZ3JpZD8uWzBdLmZsb3dfdG8uc29tZShcbiAgICAgICAgKGZsb3cpID0+XG4gICAgICAgICAgZmxvdy5zdGF0X2NvbXBlbnNhdGlvbiB8fFxuICAgICAgICAgIGZsb3cuZW50aXR5X2VuZXJneV9wcmljZSB8fFxuICAgICAgICAgIGZsb3cubnVtYmVyX2VuZXJneV9wcmljZVxuICAgICAgKSB8fFxuICAgICAgdHlwZXMuZ2FzPy5zb21lKFxuICAgICAgICAoZmxvdykgPT5cbiAgICAgICAgICBmbG93LnN0YXRfY29zdCB8fCBmbG93LmVudGl0eV9lbmVyZ3lfcHJpY2UgfHwgZmxvdy5udW1iZXJfZW5lcmd5X3ByaWNlXG4gICAgICApIHx8XG4gICAgICB0eXBlcy53YXRlcj8uc29tZShcbiAgICAgICAgKGZsb3cpID0+XG4gICAgICAgICAgZmxvdy5zdGF0X2Nvc3QgfHwgZmxvdy5lbnRpdHlfZW5lcmd5X3ByaWNlIHx8IGZsb3cubnVtYmVyX2VuZXJneV9wcmljZVxuICAgICAgKTtcblxuICAgIGNvbnN0IGdhc1VuaXQgPVxuICAgICAgZ2V0RW5lcmd5R2FzVW5pdCh0aGlzLmhhc3MsIHRoaXMuX2RhdGEucHJlZnMsIHRoaXMuX2RhdGEuc3RhdHNNZXRhZGF0YSkgfHxcbiAgICAgIFwiXCI7XG5cbiAgICBjb25zdCB3YXRlclVuaXQgPSBnZXRFbmVyZ3lXYXRlclVuaXQodGhpcy5oYXNzKSB8fCBcIm3Cs1wiO1xuXG4gICAgY29uc3QgY29tcGFyZSA9IHRoaXMuX2RhdGEuc3RhdHNDb21wYXJlICE9PSB1bmRlZmluZWQ7XG5cbiAgICByZXR1cm4gaHRtbGAgPGhhLWNhcmQ+XG4gICAgICAke3RoaXMuX2NvbmZpZy50aXRsZVxuICAgICAgICA/IGh0bWxgPGgxIGNsYXNzPVwiY2FyZC1oZWFkZXJcIj4ke3RoaXMuX2NvbmZpZy50aXRsZX08L2gxPmBcbiAgICAgICAgOiBcIlwifVxuICAgICAgPGRpdiBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fdGFibGUtY29udGFpbmVyXCI+XG4gICAgICAgICAgPHRhYmxlIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX3RhYmxlXCIgYXJpYS1sYWJlbD1cIkVuZXJneSBzb3VyY2VzXCI+XG4gICAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICAgIDx0ciBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19oZWFkZXItcm93XCI+XG4gICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2hlYWRlci1jZWxsXCI+PC90aD5cbiAgICAgICAgICAgICAgICA8dGhcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2hlYWRlci1jZWxsXCJcbiAgICAgICAgICAgICAgICAgIHJvbGU9XCJjb2x1bW5oZWFkZXJcIlxuICAgICAgICAgICAgICAgICAgc2NvcGU9XCJjb2xcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmxvdmVsYWNlLmNhcmRzLmVuZXJneS5lbmVyZ3lfc291cmNlc190YWJsZS5zb3VyY2VcIlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICR7Y29tcGFyZVxuICAgICAgICAgICAgICAgICAgPyBodG1sYDx0aFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9faGVhZGVyLWNlbGwgbWRjLWRhdGEtdGFibGVfX2hlYWRlci1jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU9XCJjb2x1bW5oZWFkZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGU9XCJjb2xcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmxvdmVsYWNlLmNhcmRzLmVuZXJneS5lbmVyZ3lfc291cmNlc190YWJsZS5wcmV2aW91c19lbmVyZ3lcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICR7c2hvd0Nvc3RzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9faGVhZGVyLWNlbGwgbWRjLWRhdGEtdGFibGVfX2hlYWRlci1jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlPVwiY29sdW1uaGVhZGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZT1cImNvbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwubG92ZWxhY2UuY2FyZHMuZW5lcmd5LmVuZXJneV9zb3VyY2VzX3RhYmxlLnByZXZpb3VzX2Nvc3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGg+YFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifWBcbiAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICA8dGhcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2hlYWRlci1jZWxsIG1kYy1kYXRhLXRhYmxlX19oZWFkZXItY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICByb2xlPVwiY29sdW1uaGVhZGVyXCJcbiAgICAgICAgICAgICAgICAgIHNjb3BlPVwiY29sXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5sb3ZlbGFjZS5jYXJkcy5lbmVyZ3kuZW5lcmd5X3NvdXJjZXNfdGFibGUuZW5lcmd5XCJcbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAke3Nob3dDb3N0c1xuICAgICAgICAgICAgICAgICAgPyBodG1sYCA8dGhcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19oZWFkZXItY2VsbCBtZGMtZGF0YS10YWJsZV9faGVhZGVyLWNlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgIHJvbGU9XCJjb2x1bW5oZWFkZXJcIlxuICAgICAgICAgICAgICAgICAgICAgIHNjb3BlPVwiY29sXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5sb3ZlbGFjZS5jYXJkcy5lbmVyZ3kuZW5lcmd5X3NvdXJjZXNfdGFibGUuY29zdFwiXG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC90aD5gXG4gICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgPHRib2R5IGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NvbnRlbnRcIj5cbiAgICAgICAgICAgICAgJHt0eXBlcy5zb2xhcj8ubWFwKChzb3VyY2UsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuZXJneSA9XG4gICAgICAgICAgICAgICAgICBjYWxjdWxhdGVTdGF0aXN0aWNTdW1Hcm93dGgoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEhLnN0YXRzW3NvdXJjZS5zdGF0X2VuZXJneV9mcm9tXVxuICAgICAgICAgICAgICAgICAgKSB8fCAwO1xuICAgICAgICAgICAgICAgIHRvdGFsU29sYXIgKz0gZW5lcmd5O1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY29tcGFyZUVuZXJneSA9XG4gICAgICAgICAgICAgICAgICAoY29tcGFyZSAmJlxuICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVTdGF0aXN0aWNTdW1Hcm93dGgoXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YSEuc3RhdHNDb21wYXJlW3NvdXJjZS5zdGF0X2VuZXJneV9mcm9tXVxuICAgICAgICAgICAgICAgICAgICApKSB8fFxuICAgICAgICAgICAgICAgICAgMDtcbiAgICAgICAgICAgICAgICB0b3RhbFNvbGFyQ29tcGFyZSArPSBjb21wYXJlRW5lcmd5O1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbW9kaWZpZWRDb2xvciA9XG4gICAgICAgICAgICAgICAgICBpZHggPiAwXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5oYXNzLnRoZW1lcy5kYXJrTW9kZVxuICAgICAgICAgICAgICAgICAgICAgID8gbGFiQnJpZ2h0ZW4ocmdiMmxhYihoZXgycmdiKHNvbGFyQ29sb3IpKSwgaWR4KVxuICAgICAgICAgICAgICAgICAgICAgIDogbGFiRGFya2VuKHJnYjJsYWIoaGV4MnJnYihzb2xhckNvbG9yKSksIGlkeClcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSBtb2RpZmllZENvbG9yXG4gICAgICAgICAgICAgICAgICA/IHJnYjJoZXgobGFiMnJnYihtb2RpZmllZENvbG9yKSlcbiAgICAgICAgICAgICAgICAgIDogc29sYXJDb2xvcjtcblxuICAgICAgICAgICAgICAgIHJldHVybiBodG1sYDx0ciBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19yb3dcIj5cbiAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIGNlbGwtYnVsbGV0XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ1bGxldFwiXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9JHtzdHlsZU1hcCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogY29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yICsgXCI3RlwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICA+PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIiBzY29wZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAke2dldFN0YXRpc3RpY0xhYmVsKFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzcyxcbiAgICAgICAgICAgICAgICAgICAgICBzb3VyY2Uuc3RhdF9lbmVyZ3lfZnJvbSxcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhPy5zdGF0c01ldGFkYXRhW3NvdXJjZS5zdGF0X2VuZXJneV9mcm9tXVxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICR7Y29tcGFyZVxuICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdE51bWJlcihjb21wYXJlRW5lcmd5LCB0aGlzLmhhc3MubG9jYWxlKX0ga1doXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsXCI+PC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1gXG4gICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgIDx0ZFxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIoZW5lcmd5LCB0aGlzLmhhc3MubG9jYWxlKX0ga1doXG4gICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsXCI+PC90ZD5gXG4gICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICA8L3RyPmA7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAke3R5cGVzLnNvbGFyXG4gICAgICAgICAgICAgICAgPyBodG1sYDx0ciBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19yb3cgdG90YWxcIj5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIj48L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiIHNjb3BlPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmxvdmVsYWNlLmNhcmRzLmVuZXJneS5lbmVyZ3lfc291cmNlc190YWJsZS5zb2xhcl90b3RhbFwiXG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgJHtjb21wYXJlXG4gICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIodG90YWxTb2xhckNvbXBhcmUsIHRoaXMuaGFzcy5sb2NhbGUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtXaFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAke3Nob3dDb3N0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGQgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiPjwvdGQ+YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1gXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICA8dGRcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKHRvdGFsU29sYXIsIHRoaXMuaGFzcy5sb2NhbGUpfSBrV2hcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIj48L3RkPmBcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICA8L3RyPmBcbiAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICR7dHlwZXMuYmF0dGVyeT8ubWFwKChzb3VyY2UsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuZXJneUZyb20gPVxuICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlU3RhdGlzdGljU3VtR3Jvd3RoKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5zdGF0c1tzb3VyY2Uuc3RhdF9lbmVyZ3lfZnJvbV1cbiAgICAgICAgICAgICAgICAgICkgfHwgMDtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmVyZ3lUbyA9XG4gICAgICAgICAgICAgICAgICBjYWxjdWxhdGVTdGF0aXN0aWNTdW1Hcm93dGgoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEhLnN0YXRzW3NvdXJjZS5zdGF0X2VuZXJneV90b11cbiAgICAgICAgICAgICAgICAgICkgfHwgMDtcbiAgICAgICAgICAgICAgICB0b3RhbEJhdHRlcnkgKz0gZW5lcmd5RnJvbSAtIGVuZXJneVRvO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZW5lcmd5RnJvbUNvbXBhcmUgPVxuICAgICAgICAgICAgICAgICAgKGNvbXBhcmUgJiZcbiAgICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlU3RhdGlzdGljU3VtR3Jvd3RoKFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEhLnN0YXRzQ29tcGFyZVtzb3VyY2Uuc3RhdF9lbmVyZ3lfZnJvbV1cbiAgICAgICAgICAgICAgICAgICAgKSkgfHxcbiAgICAgICAgICAgICAgICAgIDA7XG4gICAgICAgICAgICAgICAgY29uc3QgZW5lcmd5VG9Db21wYXJlID1cbiAgICAgICAgICAgICAgICAgIChjb21wYXJlICYmXG4gICAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZVN0YXRpc3RpY1N1bUdyb3d0aChcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5zdGF0c0NvbXBhcmVbc291cmNlLnN0YXRfZW5lcmd5X3RvXVxuICAgICAgICAgICAgICAgICAgICApKSB8fFxuICAgICAgICAgICAgICAgICAgMDtcbiAgICAgICAgICAgICAgICB0b3RhbEJhdHRlcnlDb21wYXJlICs9IGVuZXJneUZyb21Db21wYXJlIC0gZW5lcmd5VG9Db21wYXJlO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbW9kaWZpZWRGcm9tQ29sb3IgPVxuICAgICAgICAgICAgICAgICAgaWR4ID4gMFxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuaGFzcy50aGVtZXMuZGFya01vZGVcbiAgICAgICAgICAgICAgICAgICAgICA/IGxhYkJyaWdodGVuKHJnYjJsYWIoaGV4MnJnYihiYXR0ZXJ5RnJvbUNvbG9yKSksIGlkeClcbiAgICAgICAgICAgICAgICAgICAgICA6IGxhYkRhcmtlbihyZ2IybGFiKGhleDJyZ2IoYmF0dGVyeUZyb21Db2xvcikpLCBpZHgpXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZyb21Db2xvciA9IG1vZGlmaWVkRnJvbUNvbG9yXG4gICAgICAgICAgICAgICAgICA/IHJnYjJoZXgobGFiMnJnYihtb2RpZmllZEZyb21Db2xvcikpXG4gICAgICAgICAgICAgICAgICA6IGJhdHRlcnlGcm9tQ29sb3I7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9kaWZpZWRUb0NvbG9yID1cbiAgICAgICAgICAgICAgICAgIGlkeCA+IDBcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmhhc3MudGhlbWVzLmRhcmtNb2RlXG4gICAgICAgICAgICAgICAgICAgICAgPyBsYWJCcmlnaHRlbihyZ2IybGFiKGhleDJyZ2IoYmF0dGVyeVRvQ29sb3IpKSwgaWR4KVxuICAgICAgICAgICAgICAgICAgICAgIDogbGFiRGFya2VuKHJnYjJsYWIoaGV4MnJnYihiYXR0ZXJ5VG9Db2xvcikpLCBpZHgpXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvQ29sb3IgPSBtb2RpZmllZFRvQ29sb3JcbiAgICAgICAgICAgICAgICAgID8gcmdiMmhleChsYWIycmdiKG1vZGlmaWVkVG9Db2xvcikpXG4gICAgICAgICAgICAgICAgICA6IGJhdHRlcnlUb0NvbG9yO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGh0bWxgPHRyIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX3Jvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBjZWxsLWJ1bGxldFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnVsbGV0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPSR7c3R5bGVNYXAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogZnJvbUNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGZyb21Db2xvciArIFwiN0ZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIiBzY29wZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICR7Z2V0U3RhdGlzdGljTGFiZWwoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2Uuc3RhdF9lbmVyZ3lfZnJvbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGE/LnN0YXRzTWV0YWRhdGFbc291cmNlLnN0YXRfZW5lcmd5X2Zyb21dXG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgJHtjb21wYXJlXG4gICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIoZW5lcmd5RnJvbUNvbXBhcmUsIHRoaXMuaGFzcy5sb2NhbGUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtXaFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAke3Nob3dDb3N0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGQgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiPjwvdGQ+YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1gXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICA8dGRcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKGVuZXJneUZyb20sIHRoaXMuaGFzcy5sb2NhbGUpfSBrV2hcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIj48L3RkPmBcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgPHRyIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX3Jvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBjZWxsLWJ1bGxldFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnVsbGV0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPSR7c3R5bGVNYXAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogdG9Db2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0b0NvbG9yICsgXCI3RlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiIHNjb3BlPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgJHtnZXRTdGF0aXN0aWNMYWJlbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5zdGF0X2VuZXJneV90byxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGE/LnN0YXRzTWV0YWRhdGFbc291cmNlLnN0YXRfZW5lcmd5X3RvXVxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgICR7Y29tcGFyZVxuICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lcmd5VG9Db21wYXJlICogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc3MubG9jYWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrV2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIj48L3RkPmBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9YFxuICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdE51bWJlcihlbmVyZ3lUbyAqIC0xLCB0aGlzLmhhc3MubG9jYWxlKX0ga1doXG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICR7c2hvd0Nvc3RzXG4gICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsXCI+PC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgPC90cj5gO1xuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgJHt0eXBlcy5iYXR0ZXJ5XG4gICAgICAgICAgICAgICAgPyBodG1sYDx0ciBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19yb3cgdG90YWxcIj5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIj48L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiIHNjb3BlPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmxvdmVsYWNlLmNhcmRzLmVuZXJneS5lbmVyZ3lfc291cmNlc190YWJsZS5iYXR0ZXJ5X3RvdGFsXCJcbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICAke2NvbXBhcmVcbiAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgIDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbEJhdHRlcnlDb21wYXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNzLmxvY2FsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga1doXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICR7c2hvd0Nvc3RzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsXCI+PC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifWBcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgIDx0ZFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIodG90YWxCYXR0ZXJ5LCB0aGlzLmhhc3MubG9jYWxlKX0ga1doXG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICR7c2hvd0Nvc3RzXG4gICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsXCI+PC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgPC90cj5gXG4gICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAke3R5cGVzLmdyaWQ/Lm1hcChcbiAgICAgICAgICAgICAgICAoc291cmNlKSA9PiBodG1sYCR7c291cmNlLmZsb3dfZnJvbS5tYXAoKGZsb3csIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgZW5lcmd5ID1cbiAgICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlU3RhdGlzdGljU3VtR3Jvd3RoKFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEhLnN0YXRzW2Zsb3cuc3RhdF9lbmVyZ3lfZnJvbV1cbiAgICAgICAgICAgICAgICAgICAgKSB8fCAwO1xuICAgICAgICAgICAgICAgICAgdG90YWxHcmlkICs9IGVuZXJneTtcblxuICAgICAgICAgICAgICAgICAgY29uc3QgY29tcGFyZUVuZXJneSA9XG4gICAgICAgICAgICAgICAgICAgIChjb21wYXJlICYmXG4gICAgICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlU3RhdGlzdGljU3VtR3Jvd3RoKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YSEuc3RhdHNDb21wYXJlW2Zsb3cuc3RhdF9lbmVyZ3lfZnJvbV1cbiAgICAgICAgICAgICAgICAgICAgICApKSB8fFxuICAgICAgICAgICAgICAgICAgICAwO1xuICAgICAgICAgICAgICAgICAgdG90YWxHcmlkQ29tcGFyZSArPSBjb21wYXJlRW5lcmd5O1xuXG4gICAgICAgICAgICAgICAgICBjb25zdCBjb3N0X3N0YXQgPVxuICAgICAgICAgICAgICAgICAgICBmbG93LnN0YXRfY29zdCB8fFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5pbmZvLmNvc3Rfc2Vuc29yc1tmbG93LnN0YXRfZW5lcmd5X2Zyb21dO1xuICAgICAgICAgICAgICAgICAgY29uc3QgY29zdCA9IGNvc3Rfc3RhdFxuICAgICAgICAgICAgICAgICAgICA/IGNhbGN1bGF0ZVN0YXRpc3RpY1N1bUdyb3d0aChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEhLnN0YXRzW2Nvc3Rfc3RhdF1cbiAgICAgICAgICAgICAgICAgICAgICApIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgaWYgKGNvc3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdG90YWxHcmlkQ29zdCArPSBjb3N0O1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBjb25zdCBjb3N0Q29tcGFyZSA9XG4gICAgICAgICAgICAgICAgICAgIGNvbXBhcmUgJiYgY29zdF9zdGF0XG4gICAgICAgICAgICAgICAgICAgICAgPyBjYWxjdWxhdGVTdGF0aXN0aWNTdW1Hcm93dGgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEhLnN0YXRzQ29tcGFyZVtjb3N0X3N0YXRdXG4gICAgICAgICAgICAgICAgICAgICAgICApIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgICBpZiAoY29zdENvbXBhcmUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdG90YWxHcmlkQ29zdENvbXBhcmUgKz0gY29zdENvbXBhcmU7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVkQ29sb3IgPVxuICAgICAgICAgICAgICAgICAgICBpZHggPiAwXG4gICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmhhc3MudGhlbWVzLmRhcmtNb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGxhYkJyaWdodGVuKHJnYjJsYWIoaGV4MnJnYihjb25zdW1wdGlvbkNvbG9yKSksIGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbGFiRGFya2VuKHJnYjJsYWIoaGV4MnJnYihjb25zdW1wdGlvbkNvbG9yKSksIGlkeClcbiAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gbW9kaWZpZWRDb2xvclxuICAgICAgICAgICAgICAgICAgICA/IHJnYjJoZXgobGFiMnJnYihtb2RpZmllZENvbG9yKSlcbiAgICAgICAgICAgICAgICAgICAgOiBjb25zdW1wdGlvbkNvbG9yO1xuXG4gICAgICAgICAgICAgICAgICByZXR1cm4gaHRtbGA8dHIgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fcm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIGNlbGwtYnVsbGV0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidWxsZXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9JHtzdHlsZU1hcCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiBjb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvciArIFwiN0ZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIiBzY29wZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICR7Z2V0U3RhdGlzdGljTGFiZWwoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbG93LnN0YXRfZW5lcmd5X2Zyb20sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhPy5zdGF0c01ldGFkYXRhW2Zsb3cuc3RhdF9lbmVyZ3lfZnJvbV1cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICAke2NvbXBhcmVcbiAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdE51bWJlcihjb21wYXJlRW5lcmd5LCB0aGlzLmhhc3MubG9jYWxlKX0ga1doXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICR7c2hvd0Nvc3RzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtjb3N0Q29tcGFyZSAhPT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZm9ybWF0TnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3N0Q29tcGFyZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNzLmxvY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IHRoaXMuaGFzcy5jb25maWcuY3VycmVuY3khLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifWBcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgIDx0ZFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIoZW5lcmd5LCB0aGlzLmhhc3MubG9jYWxlKX0ga1doXG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICR7c2hvd0Nvc3RzXG4gICAgICAgICAgICAgICAgICAgICAgPyBodG1sYCA8dGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICR7Y29zdCAhPT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZm9ybWF0TnVtYmVyKGNvc3QsIHRoaXMuaGFzcy5sb2NhbGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IFwiY3VycmVuY3lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IHRoaXMuaGFzcy5jb25maWcuY3VycmVuY3khLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPmBcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICA8L3RyPmA7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgJHtzb3VyY2UuZmxvd190by5tYXAoKGZsb3csIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgZW5lcmd5ID1cbiAgICAgICAgICAgICAgICAgICAgKGNhbGN1bGF0ZVN0YXRpc3RpY1N1bUdyb3d0aChcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5zdGF0c1tmbG93LnN0YXRfZW5lcmd5X3RvXVxuICAgICAgICAgICAgICAgICAgICApIHx8IDApICogLTE7XG4gICAgICAgICAgICAgICAgICB0b3RhbEdyaWQgKz0gZW5lcmd5O1xuICAgICAgICAgICAgICAgICAgY29uc3QgY29zdF9zdGF0ID1cbiAgICAgICAgICAgICAgICAgICAgZmxvdy5zdGF0X2NvbXBlbnNhdGlvbiB8fFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5pbmZvLmNvc3Rfc2Vuc29yc1tmbG93LnN0YXRfZW5lcmd5X3RvXTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNvc3QgPSBjb3N0X3N0YXRcbiAgICAgICAgICAgICAgICAgICAgPyAoY2FsY3VsYXRlU3RhdGlzdGljU3VtR3Jvd3RoKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YSEuc3RhdHNbY29zdF9zdGF0XVxuICAgICAgICAgICAgICAgICAgICAgICkgfHwgMCkgKiAtMVxuICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgICBpZiAoY29zdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0b3RhbEdyaWRDb3N0ICs9IGNvc3Q7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZXJneUNvbXBhcmUgPVxuICAgICAgICAgICAgICAgICAgICAoKGNvbXBhcmUgJiZcbiAgICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVTdGF0aXN0aWNTdW1Hcm93dGgoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5zdGF0c0NvbXBhcmVbZmxvdy5zdGF0X2VuZXJneV90b11cbiAgICAgICAgICAgICAgICAgICAgICApKSB8fFxuICAgICAgICAgICAgICAgICAgICAgIDApICogLTE7XG4gICAgICAgICAgICAgICAgICB0b3RhbEdyaWRDb21wYXJlICs9IGVuZXJneUNvbXBhcmU7XG5cbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNvc3RDb21wYXJlID1cbiAgICAgICAgICAgICAgICAgICAgY29tcGFyZSAmJiBjb3N0X3N0YXRcbiAgICAgICAgICAgICAgICAgICAgICA/IChjYWxjdWxhdGVTdGF0aXN0aWNTdW1Hcm93dGgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEhLnN0YXRzQ29tcGFyZVtjb3N0X3N0YXRdXG4gICAgICAgICAgICAgICAgICAgICAgICApIHx8IDApICogLTFcbiAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgICBpZiAoY29zdENvbXBhcmUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdG90YWxHcmlkQ29zdENvbXBhcmUgKz0gY29zdENvbXBhcmU7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVkQ29sb3IgPVxuICAgICAgICAgICAgICAgICAgICBpZHggPiAwXG4gICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmhhc3MudGhlbWVzLmRhcmtNb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGxhYkJyaWdodGVuKHJnYjJsYWIoaGV4MnJnYihyZXR1cm5Db2xvcikpLCBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGxhYkRhcmtlbihyZ2IybGFiKGhleDJyZ2IocmV0dXJuQ29sb3IpKSwgaWR4KVxuICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSBtb2RpZmllZENvbG9yXG4gICAgICAgICAgICAgICAgICAgID8gcmdiMmhleChsYWIycmdiKG1vZGlmaWVkQ29sb3IpKVxuICAgICAgICAgICAgICAgICAgICA6IHJldHVybkNvbG9yO1xuXG4gICAgICAgICAgICAgICAgICByZXR1cm4gaHRtbGA8dHIgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fcm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIGNlbGwtYnVsbGV0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidWxsZXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9JHtzdHlsZU1hcCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiBjb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvciArIFwiN0ZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIiBzY29wZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICR7Z2V0U3RhdGlzdGljTGFiZWwoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbG93LnN0YXRfZW5lcmd5X3RvLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YT8uc3RhdHNNZXRhZGF0YVtmbG93LnN0YXRfZW5lcmd5X3RvXVxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgICR7Y29tcGFyZVxuICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKGVuZXJneUNvbXBhcmUsIHRoaXMuaGFzcy5sb2NhbGUpfSBrV2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2Nvc3RDb21wYXJlICE9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmb3JtYXROdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvc3RDb21wYXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc3MubG9jYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IFwiY3VycmVuY3lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogdGhpcy5oYXNzLmNvbmZpZy5jdXJyZW5jeSEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPmBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9YFxuICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdE51bWJlcihlbmVyZ3ksIHRoaXMuaGFzcy5sb2NhbGUpfSBrV2hcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgIDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHtjb3N0ICE9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmb3JtYXROdW1iZXIoY29zdCwgdGhpcy5oYXNzLmxvY2FsZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogXCJjdXJyZW5jeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogdGhpcy5oYXNzLmNvbmZpZy5jdXJyZW5jeSEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+YFxuICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgIDwvdHI+YDtcbiAgICAgICAgICAgICAgICB9KX1gXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICR7dHlwZXMuZ3JpZFxuICAgICAgICAgICAgICAgID8gaHRtbGAgPHRyIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX3JvdyB0b3RhbFwiPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiPjwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsXCIgc2NvcGU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwubG92ZWxhY2UuY2FyZHMuZW5lcmd5LmVuZXJneV9zb3VyY2VzX3RhYmxlLmdyaWRfdG90YWxcIlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgICR7Y29tcGFyZVxuICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKHRvdGFsR3JpZENvbXBhcmUsIHRoaXMuaGFzcy5sb2NhbGUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtXaFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAke3Nob3dDb3N0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsR3JpZENvc3RDb21wYXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzcy5sb2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IFwiY3VycmVuY3lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiB0aGlzLmhhc3MuY29uZmlnLmN1cnJlbmN5ISxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPmBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9YFxuICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdE51bWJlcih0b3RhbEdyaWQsIHRoaXMuaGFzcy5sb2NhbGUpfSBrV2hcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdE51bWJlcih0b3RhbEdyaWRDb3N0LCB0aGlzLmhhc3MubG9jYWxlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IFwiY3VycmVuY3lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogdGhpcy5oYXNzLmNvbmZpZy5jdXJyZW5jeSEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgPC90cj5gXG4gICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAke3R5cGVzLmdhcz8ubWFwKChzb3VyY2UsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuZXJneSA9XG4gICAgICAgICAgICAgICAgICBjYWxjdWxhdGVTdGF0aXN0aWNTdW1Hcm93dGgoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEhLnN0YXRzW3NvdXJjZS5zdGF0X2VuZXJneV9mcm9tXVxuICAgICAgICAgICAgICAgICAgKSB8fCAwO1xuICAgICAgICAgICAgICAgIHRvdGFsR2FzICs9IGVuZXJneTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGVuZXJneUNvbXBhcmUgPVxuICAgICAgICAgICAgICAgICAgKGNvbXBhcmUgJiZcbiAgICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlU3RhdGlzdGljU3VtR3Jvd3RoKFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEhLnN0YXRzQ29tcGFyZVtzb3VyY2Uuc3RhdF9lbmVyZ3lfZnJvbV1cbiAgICAgICAgICAgICAgICAgICAgKSkgfHxcbiAgICAgICAgICAgICAgICAgIDA7XG4gICAgICAgICAgICAgICAgdG90YWxHYXNDb21wYXJlICs9IGVuZXJneUNvbXBhcmU7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjb3N0X3N0YXQgPVxuICAgICAgICAgICAgICAgICAgc291cmNlLnN0YXRfY29zdCB8fFxuICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YSEuaW5mby5jb3N0X3NlbnNvcnNbc291cmNlLnN0YXRfZW5lcmd5X2Zyb21dO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvc3QgPSBjb3N0X3N0YXRcbiAgICAgICAgICAgICAgICAgID8gY2FsY3VsYXRlU3RhdGlzdGljU3VtR3Jvd3RoKHRoaXMuX2RhdGEhLnN0YXRzW2Nvc3Rfc3RhdF0pIHx8XG4gICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoY29zdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgdG90YWxHYXNDb3N0ICs9IGNvc3Q7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgY29zdENvbXBhcmUgPVxuICAgICAgICAgICAgICAgICAgY29tcGFyZSAmJiBjb3N0X3N0YXRcbiAgICAgICAgICAgICAgICAgICAgPyBjYWxjdWxhdGVTdGF0aXN0aWNTdW1Hcm93dGgoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5zdGF0c0NvbXBhcmVbY29zdF9zdGF0XVxuICAgICAgICAgICAgICAgICAgICAgICkgfHwgMFxuICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKGNvc3RDb21wYXJlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICB0b3RhbEdhc0Nvc3RDb21wYXJlICs9IGNvc3RDb21wYXJlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVkQ29sb3IgPVxuICAgICAgICAgICAgICAgICAgaWR4ID4gMFxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuaGFzcy50aGVtZXMuZGFya01vZGVcbiAgICAgICAgICAgICAgICAgICAgICA/IGxhYkJyaWdodGVuKHJnYjJsYWIoaGV4MnJnYihnYXNDb2xvcikpLCBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgOiBsYWJEYXJrZW4ocmdiMmxhYihoZXgycmdiKGdhc0NvbG9yKSksIGlkeClcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSBtb2RpZmllZENvbG9yXG4gICAgICAgICAgICAgICAgICA/IHJnYjJoZXgobGFiMnJnYihtb2RpZmllZENvbG9yKSlcbiAgICAgICAgICAgICAgICAgIDogZ2FzQ29sb3I7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gaHRtbGA8dHIgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fcm93XCI+XG4gICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBjZWxsLWJ1bGxldFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidWxsZXRcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPSR7c3R5bGVNYXAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvciArIFwiN0ZcIixcbiAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsXCIgc2NvcGU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgJHtnZXRTdGF0aXN0aWNMYWJlbChcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc3MsXG4gICAgICAgICAgICAgICAgICAgICAgc291cmNlLnN0YXRfZW5lcmd5X2Zyb20sXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YT8uc3RhdHNNZXRhZGF0YVtzb3VyY2Uuc3RhdF9lbmVyZ3lfZnJvbV1cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAke2NvbXBhcmVcbiAgICAgICAgICAgICAgICAgICAgPyBodG1sYCA8dGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKGVuZXJneUNvbXBhcmUsIHRoaXMuaGFzcy5sb2NhbGUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAke2dhc1VuaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtjb3N0Q29tcGFyZSAhPT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGZvcm1hdE51bWJlcihjb3N0Q29tcGFyZSwgdGhpcy5oYXNzLmxvY2FsZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IFwiY3VycmVuY3lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiB0aGlzLmhhc3MuY29uZmlnLmN1cnJlbmN5ISxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1gXG4gICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgIDx0ZFxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIoZW5lcmd5LCB0aGlzLmhhc3MubG9jYWxlKX0gJHtnYXNVbml0fVxuICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICR7c2hvd0Nvc3RzXG4gICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGRcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7Y29zdCAhPT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IGZvcm1hdE51bWJlcihjb3N0LCB0aGlzLmhhc3MubG9jYWxlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogXCJjdXJyZW5jeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IHRoaXMuaGFzcy5jb25maWcuY3VycmVuY3khLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgICA8L3RkPmBcbiAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgIDwvdHI+YDtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICR7dHlwZXMuZ2FzXG4gICAgICAgICAgICAgICAgPyBodG1sYDx0ciBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19yb3cgdG90YWxcIj5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIj48L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiIHNjb3BlPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmxvdmVsYWNlLmNhcmRzLmVuZXJneS5lbmVyZ3lfc291cmNlc190YWJsZS5nYXNfdG90YWxcIlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgICR7Y29tcGFyZVxuICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKHRvdGFsR2FzQ29tcGFyZSwgdGhpcy5oYXNzLmxvY2FsZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtnYXNVbml0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAke3Nob3dDb3N0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsR2FzQ29zdENvbXBhcmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNzLmxvY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogXCJjdXJyZW5jeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IHRoaXMuaGFzcy5jb25maWcuY3VycmVuY3khLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1gXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICA8dGRcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKHRvdGFsR2FzLCB0aGlzLmhhc3MubG9jYWxlKX0gJHtnYXNVbml0fVxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAke3Nob3dDb3N0c1xuICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKHRvdGFsR2FzQ29zdCwgdGhpcy5oYXNzLmxvY2FsZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IHRoaXMuaGFzcy5jb25maWcuY3VycmVuY3khLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+YFxuICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgIDwvdHI+YFxuICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgJHt0eXBlcy53YXRlcj8ubWFwKChzb3VyY2UsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuZXJneSA9XG4gICAgICAgICAgICAgICAgICBjYWxjdWxhdGVTdGF0aXN0aWNTdW1Hcm93dGgoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEhLnN0YXRzW3NvdXJjZS5zdGF0X2VuZXJneV9mcm9tXVxuICAgICAgICAgICAgICAgICAgKSB8fCAwO1xuICAgICAgICAgICAgICAgIHRvdGFsV2F0ZXIgKz0gZW5lcmd5O1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZW5lcmd5Q29tcGFyZSA9XG4gICAgICAgICAgICAgICAgICAoY29tcGFyZSAmJlxuICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVTdGF0aXN0aWNTdW1Hcm93dGgoXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YSEuc3RhdHNDb21wYXJlW3NvdXJjZS5zdGF0X2VuZXJneV9mcm9tXVxuICAgICAgICAgICAgICAgICAgICApKSB8fFxuICAgICAgICAgICAgICAgICAgMDtcbiAgICAgICAgICAgICAgICB0b3RhbFdhdGVyQ29tcGFyZSArPSBlbmVyZ3lDb21wYXJlO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY29zdF9zdGF0ID1cbiAgICAgICAgICAgICAgICAgIHNvdXJjZS5zdGF0X2Nvc3QgfHxcbiAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEhLmluZm8uY29zdF9zZW5zb3JzW3NvdXJjZS5zdGF0X2VuZXJneV9mcm9tXTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb3N0ID0gY29zdF9zdGF0XG4gICAgICAgICAgICAgICAgICA/IGNhbGN1bGF0ZVN0YXRpc3RpY1N1bUdyb3d0aCh0aGlzLl9kYXRhIS5zdGF0c1tjb3N0X3N0YXRdKSB8fFxuICAgICAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKGNvc3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIHRvdGFsV2F0ZXJDb3N0ICs9IGNvc3Q7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgY29zdENvbXBhcmUgPVxuICAgICAgICAgICAgICAgICAgY29tcGFyZSAmJiBjb3N0X3N0YXRcbiAgICAgICAgICAgICAgICAgICAgPyBjYWxjdWxhdGVTdGF0aXN0aWNTdW1Hcm93dGgoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5zdGF0c0NvbXBhcmVbY29zdF9zdGF0XVxuICAgICAgICAgICAgICAgICAgICAgICkgfHwgMFxuICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKGNvc3RDb21wYXJlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICB0b3RhbFdhdGVyQ29zdENvbXBhcmUgKz0gY29zdENvbXBhcmU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgbW9kaWZpZWRDb2xvciA9XG4gICAgICAgICAgICAgICAgICBpZHggPiAwXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5oYXNzLnRoZW1lcy5kYXJrTW9kZVxuICAgICAgICAgICAgICAgICAgICAgID8gbGFiQnJpZ2h0ZW4ocmdiMmxhYihoZXgycmdiKHdhdGVyQ29sb3IpKSwgaWR4KVxuICAgICAgICAgICAgICAgICAgICAgIDogbGFiRGFya2VuKHJnYjJsYWIoaGV4MnJnYih3YXRlckNvbG9yKSksIGlkeClcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSBtb2RpZmllZENvbG9yXG4gICAgICAgICAgICAgICAgICA/IHJnYjJoZXgobGFiMnJnYihtb2RpZmllZENvbG9yKSlcbiAgICAgICAgICAgICAgICAgIDogd2F0ZXJDb2xvcjtcblxuICAgICAgICAgICAgICAgIHJldHVybiBodG1sYDx0ciBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19yb3dcIj5cbiAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIGNlbGwtYnVsbGV0XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ1bGxldFwiXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9JHtzdHlsZU1hcCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogY29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yICsgXCI3RlwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICA+PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIiBzY29wZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAke2dldFN0YXRpc3RpY0xhYmVsKFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzcyxcbiAgICAgICAgICAgICAgICAgICAgICBzb3VyY2Uuc3RhdF9lbmVyZ3lfZnJvbSxcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhPy5zdGF0c01ldGFkYXRhW3NvdXJjZS5zdGF0X2VuZXJneV9mcm9tXVxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICR7Y29tcGFyZVxuICAgICAgICAgICAgICAgICAgICA/IGh0bWxgIDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIoZW5lcmd5Q29tcGFyZSwgdGhpcy5oYXNzLmxvY2FsZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICR7d2F0ZXJVbml0fVxuICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7c2hvd0Nvc3RzXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7Y29zdENvbXBhcmUgIT09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmb3JtYXROdW1iZXIoY29zdENvbXBhcmUsIHRoaXMuaGFzcy5sb2NhbGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogdGhpcy5oYXNzLmNvbmZpZy5jdXJyZW5jeSEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+YFxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9YFxuICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICA8dGRcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKGVuZXJneSwgdGhpcy5oYXNzLmxvY2FsZSl9ICR7d2F0ZXJVbml0fVxuICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICR7c2hvd0Nvc3RzXG4gICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGRcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7Y29zdCAhPT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IGZvcm1hdE51bWJlcihjb3N0LCB0aGlzLmhhc3MubG9jYWxlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogXCJjdXJyZW5jeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IHRoaXMuaGFzcy5jb25maWcuY3VycmVuY3khLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgICA8L3RkPmBcbiAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgIDwvdHI+YDtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICR7dHlwZXMud2F0ZXJcbiAgICAgICAgICAgICAgICA/IGh0bWxgPHRyIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX3JvdyB0b3RhbFwiPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiPjwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsXCIgc2NvcGU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwubG92ZWxhY2UuY2FyZHMuZW5lcmd5LmVuZXJneV9zb3VyY2VzX3RhYmxlLndhdGVyX3RvdGFsXCJcbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICAke2NvbXBhcmVcbiAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdE51bWJlcih0b3RhbFdhdGVyQ29tcGFyZSwgdGhpcy5oYXNzLmxvY2FsZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHt3YXRlclVuaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICR7c2hvd0Nvc3RzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxXYXRlckNvc3RDb21wYXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzcy5sb2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IFwiY3VycmVuY3lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiB0aGlzLmhhc3MuY29uZmlnLmN1cnJlbmN5ISxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPmBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9YFxuICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdE51bWJlcih0b3RhbFdhdGVyLCB0aGlzLmhhc3MubG9jYWxlKX0gJHt3YXRlclVuaXR9XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICR7c2hvd0Nvc3RzXG4gICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIodG90YWxXYXRlckNvc3QsIHRoaXMuaGFzcy5sb2NhbGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogXCJjdXJyZW5jeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiB0aGlzLmhhc3MuY29uZmlnLmN1cnJlbmN5ISxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPmBcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICA8L3RyPmBcbiAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICR7W3RvdGFsR2FzQ29zdCwgdG90YWxXYXRlckNvc3QsIHRvdGFsR3JpZENvc3RdLmZpbHRlcihCb29sZWFuKVxuICAgICAgICAgICAgICAgIC5sZW5ndGggPiAxXG4gICAgICAgICAgICAgICAgPyBodG1sYDx0ciBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19yb3cgdG90YWxcIj5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIj48L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiIHNjb3BlPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmxvdmVsYWNlLmNhcmRzLmVuZXJneS5lbmVyZ3lfc291cmNlc190YWJsZS50b3RhbF9jb3N0c1wiXG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgJHtjb21wYXJlXG4gICAgICAgICAgICAgICAgICAgICAgPyBodG1sYCR7c2hvd0Nvc3RzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsXCI+PC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxHYXNDb3N0Q29tcGFyZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsR3JpZENvc3RDb21wYXJlICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxXYXRlckNvc3RDb21wYXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNzLmxvY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IFwiY3VycmVuY3lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IHRoaXMuaGFzcy5jb25maWcuY3VycmVuY3khLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+YFxuICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIj48L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGRcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxHYXNDb3N0ICsgdG90YWxHcmlkQ29zdCArIHRvdGFsV2F0ZXJDb3N0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNzLmxvY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IFwiY3VycmVuY3lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IHRoaXMuaGFzcy5jb25maWcuY3VycmVuY3khLFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICA8L3RyPmBcbiAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9oYS1jYXJkPmA7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpOiBDU1NSZXN1bHRHcm91cCB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgICR7dW5zYWZlQ1NTKGRhdGFUYWJsZVN0eWxlcyl9XG4gICAgICAubWRjLWRhdGEtdGFibGUge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgYm9yZGVyOiAwO1xuICAgICAgfVxuICAgICAgLm1kYy1kYXRhLXRhYmxlX19oZWFkZXItY2VsbCxcbiAgICAgIC5tZGMtZGF0YS10YWJsZV9fY2VsbCB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LXRleHQtY29sb3IpO1xuICAgICAgICBib3JkZXItYm90dG9tLWNvbG9yOiB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICAgICAgdGV4dC1hbGlnbjogdmFyKC0tZmxvYXQtc3RhcnQpO1xuICAgICAgfVxuICAgICAgLm1kYy1kYXRhLXRhYmxlX19yb3c6bm90KC5tZGMtZGF0YS10YWJsZV9fcm93LS1zZWxlY3RlZCk6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKHZhcigtLXJnYi1wcmltYXJ5LXRleHQtY29sb3IpLCAwLjA0KTtcbiAgICAgIH1cbiAgICAgIC50b3RhbCB7XG4gICAgICAgIC0tbWRjLXR5cG9ncmFwaHktYm9keTItZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgIH1cbiAgICAgIC50b3RhbCAubWRjLWRhdGEtdGFibGVfX2NlbGwge1xuICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tZGl2aWRlci1jb2xvcik7XG4gICAgICB9XG4gICAgICBoYS1jYXJkIHtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgfVxuICAgICAgLmNhcmQtaGVhZGVyIHtcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDA7XG4gICAgICB9XG4gICAgICAuY29udGVudCB7XG4gICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICB9XG4gICAgICAuaGFzLWhlYWRlciB7XG4gICAgICAgIHBhZGRpbmctdG9wOiAwO1xuICAgICAgfVxuICAgICAgLmNlbGwtYnVsbGV0IHtcbiAgICAgICAgd2lkdGg6IDMycHg7XG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDA7XG4gICAgICAgIHBhZGRpbmctaW5saW5lLWVuZDogMDtcbiAgICAgICAgcGFkZGluZy1pbmxpbmUtc3RhcnQ6IDE2cHg7XG4gICAgICAgIGRpcmVjdGlvbjogdmFyKC0tZGlyZWN0aW9uKTtcbiAgICAgIH1cbiAgICAgIC5idWxsZXQge1xuICAgICAgICBib3JkZXItd2lkdGg6IDFweDtcbiAgICAgICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICBoZWlnaHQ6IDE2cHg7XG4gICAgICAgIHdpZHRoOiAzMnB4O1xuICAgICAgfVxuICAgICAgLm1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljIHtcbiAgICAgICAgZGlyZWN0aW9uOiBsdHI7XG4gICAgICB9XG4gICAgYDtcbiAgfVxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwiaHVpLWVuZXJneS1zb3VyY2VzLXRhYmxlLWNhcmRcIjogSHVpRW5lcmd5U291cmNlc1RhYmxlQ2FyZDtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/panels/lovelace/cards/energy/hui-energy-sources-table-card.ts\n");

/***/ })

}]);