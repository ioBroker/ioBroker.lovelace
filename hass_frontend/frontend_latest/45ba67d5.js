"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[33085],{62770:(e,a,i)=>{let r,t,n,o;var s,_;let d;i.d(a,{TW:()=>r,tt:()=>t,is:()=>n,Uf:()=>o,hP:()=>d,N2:()=>c,TA:()=>l,kM:()=>v,e4:()=>u,Fy:()=>g,OV:()=>p,aK:()=>w,rs:()=>y,pr:()=>f,wz:()=>m,PE:()=>S,tY:()=>z,xK:()=>b,Qf:()=>j,JT:()=>h,BP:()=>W,f$:()=>I,vS:()=>k,mZ:()=>E,B7:()=>T,Mb:()=>D,cH:()=>A,kL:()=>P,yD:()=>M,vN:()=>F,uq:()=>Z,Hr:()=>B,OF:()=>N,Ir:()=>O,EW:()=>R,kV:()=>x,lo:()=>L,se:()=>H,u0:()=>K,zn:()=>q,IG:()=>C,JL:()=>U,LD:()=>V,Db:()=>$,xw:()=>J}),function(e){e[e.Idle=0]="Idle",e[e.Including=1]="Including",e[e.Excluding=2]="Excluding",e[e.Busy=3]="Busy",e[e.SmartStart=4]="SmartStart"}(r||(r={})),function(e){e[e.Default=0]="Default",e[e.SmartStart=1]="SmartStart",e[e.Insecure=2]="Insecure",e[e.Security_S0=3]="Security_S0",e[e.Security_S2=4]="Security_S2"}(t||(t={})),function(e){e[e.Temporary=-2]="Temporary",e[e.None=-1]="None",e[e.S2_Unauthenticated=0]="S2_Unauthenticated",e[e.S2_Authenticated=1]="S2_Authenticated",e[e.S2_AccessControl=2]="S2_AccessControl",e[e.S0_Legacy=7]="S0_Legacy"}(n||(n={})),function(e){e[e.SmartStart=0]="SmartStart"}(o||(o={})),function(e){e[e.S2=0]="S2",e[e.SmartStart=1]="SmartStart"}(s||(s={})),function(e){e[e.ZWave=0]="ZWave",e[e.ZWaveLongRange=1]="ZWaveLongRange"}(_||(_={})),function(e){e[e.Error_Timeout=-1]="Error_Timeout",e[e.Error_Checksum=0]="Error_Checksum",e[e.Error_TransmissionFailed=1]="Error_TransmissionFailed",e[e.Error_InvalidManufacturerID=2]="Error_InvalidManufacturerID",e[e.Error_InvalidFirmwareID=3]="Error_InvalidFirmwareID",e[e.Error_InvalidFirmwareTarget=4]="Error_InvalidFirmwareTarget",e[e.Error_InvalidHeaderInformation=5]="Error_InvalidHeaderInformation",e[e.Error_InvalidHeaderFormat=6]="Error_InvalidHeaderFormat",e[e.Error_InsufficientMemory=7]="Error_InsufficientMemory",e[e.Error_InvalidHardwareVersion=8]="Error_InvalidHardwareVersion",e[e.OK_WaitingForActivation=253]="OK_WaitingForActivation",e[e.OK_NoRestart=254]="OK_NoRestart",e[e.OK_RestartPending=255]="OK_RestartPending"}(d||(d={}));const c=52;let l,v,u;!function(e){e[e.NotAvailable=127]="NotAvailable",e[e.ReceiverSaturated=126]="ReceiverSaturated",e[e.NoSignalDetected=125]="NoSignalDetected"}(l||(l={})),function(e){e[e.ZWave_9k6=1]="ZWave_9k6",e[e.ZWave_40k=2]="ZWave_40k",e[e.ZWave_100k=3]="ZWave_100k",e[e.LongRange_100k=4]="LongRange_100k"}(v||(v={})),function(e){e[e.Unknown=0]="Unknown",e[e.Asleep=1]="Asleep",e[e.Awake=2]="Awake",e[e.Dead=3]="Dead",e[e.Alive=4]="Alive"}(u||(u={}));const g=["unknown","asleep","awake","dead","alive"],p=(e,a)=>{if(a.device_id&&a.entry_id)throw new Error("Only one of device or entry ID should be supplied.");if(!a.device_id&&!a.entry_id)throw new Error("Either device or entry ID should be supplied.");return e.callWS({type:"zwave_js/network_status",device_id:a.device_id,entry_id:a.entry_id})},w=(e,a)=>e.callWS({type:"zwave_js/data_collection_status",entry_id:a}),y=(e,a,i)=>e.callWS({type:"zwave_js/update_data_collection_preference",entry_id:a,opted_in:i}),f=(e,a)=>e.callWS({type:"zwave_js/get_provisioning_entries",entry_id:a}),m=(e,a,i,r=t.Default,n,o,s)=>e.connection.subscribeMessage((e=>i(e)),{type:"zwave_js/add_node",entry_id:a,inclusion_strategy:r,qr_code_string:o,qr_provisioning_information:n,planned_provisioning_entry:s}),S=(e,a)=>e.callWS({type:"zwave_js/stop_inclusion",entry_id:a}),z=(e,a)=>e.callWS({type:"zwave_js/stop_exclusion",entry_id:a}),b=(e,a,i,r)=>e.callWS({type:"zwave_js/grant_security_classes",entry_id:a,security_classes:i,client_side_auth:r}),j=(e,a,i)=>e.callWS({type:"zwave_js/validate_dsk_and_enter_pin",entry_id:a,pin:i}),h=(e,a,i)=>e.callWS({type:"zwave_js/supports_feature",entry_id:a,feature:i}),W=(e,a,i)=>e.callWS({type:"zwave_js/parse_qr_code_string",entry_id:a,qr_code_string:i}),I=(e,a,i,r,t)=>e.callWS({type:"zwave_js/provision_smart_start_node",entry_id:a,qr_code_string:r,qr_provisioning_information:i,planned_provisioning_entry:t}),k=(e,a,i,r)=>e.callWS({type:"zwave_js/unprovision_smart_start_node",entry_id:a,dsk:i,node_id:r}),E=(e,a)=>e.callWS({type:"zwave_js/node_status",device_id:a}),T=(e,a,i)=>e.connection.subscribeMessage((e=>i(e)),{type:"zwave_js/subscribe_node_status",device_id:a}),D=(e,a)=>e.callWS({type:"zwave_js/node_metadata",device_id:a}),A=(e,a)=>e.callWS({type:"zwave_js/node_comments",device_id:a}),P=(e,a)=>e.callWS({type:"zwave_js/get_config_parameters",device_id:a}),M=(e,a,i,r,t)=>{const n={type:"zwave_js/set_config_parameter",device_id:a,property:i,value:r,property_key:t};return e.callWS(n)},F=(e,a,i)=>e.connection.subscribeMessage((e=>i(e)),{type:"zwave_js/refresh_node_info",device_id:a}),Z=(e,a)=>e.callWS({type:"zwave_js/heal_node",device_id:a}),B=(e,a,i)=>e.connection.subscribeMessage((e=>i(e)),{type:"zwave_js/remove_failed_node",device_id:a}),N=(e,a)=>e.callWS({type:"zwave_js/begin_healing_network",entry_id:a}),O=(e,a)=>e.callWS({type:"zwave_js/stop_healing_network",entry_id:a}),R=(e,a,i)=>e.connection.subscribeMessage((e=>i(e)),{type:"zwave_js/subscribe_heal_network_progress",entry_id:a}),x=(e,a,i)=>e.connection.subscribeMessage((e=>i(e)),{type:"zwave_js/subscribe_controller_statistics",entry_id:a}),L=(e,a,i)=>e.connection.subscribeMessage((e=>i(e)),{type:"zwave_js/subscribe_node_statistics",device_id:a}),H=(e,a)=>e.callWS({type:"zwave_js/get_firmware_update_progress",device_id:a}),K=(e,a)=>e.callWS({type:"zwave_js/get_any_firmware_update_progress",entry_id:a}),q=async(e,a,i,r)=>{const t=new FormData;t.append("file",i),void 0!==r&&t.append("target",r.toString());const n=await e.fetchWithAuth(`/api/zwave_js/firmware/upload/${a}`,{method:"POST",body:t});if(200!==n.status)throw new Error(n.statusText)},C=(e,a,i)=>e.connection.subscribeMessage((e=>i(e)),{type:"zwave_js/subscribe_firmware_update_status",device_id:a}),U=(e,a)=>e.callWS({type:"zwave_js/abort_firmware_update",device_id:a}),V=(e,a,i)=>e.connection.subscribeMessage(i,{type:"zwave_js/subscribe_log_updates",entry_id:a}),$=(e,a)=>e.callWS({type:"zwave_js/get_log_config",entry_id:a}),J=(e,a,i)=>e.callWS({type:"zwave_js/update_log_config",entry_id:a,config:{level:i}})},33085:(e,a,i)=>{i.r(a),i.d(a,{getZwaveDeviceActions:()=>u});var r=i(81582),t=i(62770),n=i(26765),o=i(47181);const s=()=>Promise.all([i.e(85084),i.e(35650)]).then(i.bind(i,35650)),_=()=>Promise.all([i.e(85084),i.e(32454)]).then(i.bind(i,32454)),d=()=>Promise.all([i.e(85084),i.e(92696)]).then(i.bind(i,92696)),c=()=>Promise.all([i.e(85084),i.e(67029)]).then(i.bind(i,67029)),l=()=>Promise.all([i.e(88278),i.e(85084),i.e(45507),i.e(22799),i.e(12545),i.e(13701),i.e(67622),i.e(79620)]).then(i.bind(i,80635)),v=(e,a)=>{(0,o.B)(e,"show-dialog",{dialogTag:"dialog-zwave_js-update-firmware-node",dialogImport:l,dialogParams:a})},u=async(e,a,i)=>{const l=(await(0,r.pB)(a,{domain:"zwave_js"})).find((e=>i.config_entries.includes(e.entry_id)));if(!l)return[];const u=l.entry_id,g=await(0,t.mZ)(a,i.id);if(!g||g.is_controller_node)return[];const p=[{label:a.localize("ui.panel.config.zwave_js.device_info.device_config"),href:`/config/zwave_js/node_config/${i.id}?config_entry=${u}`},{label:a.localize("ui.panel.config.zwave_js.device_info.reinterview_device"),action:()=>{return a=e,r={device_id:i.id},void(0,o.B)(a,"show-dialog",{dialogTag:"dialog-zwave_js-reinterview-node",dialogImport:d,dialogParams:r});var a,r}},{label:a.localize("ui.panel.config.zwave_js.device_info.heal_node"),action:()=>{return a=e,r={device:i},void(0,o.B)(a,"show-dialog",{dialogTag:"dialog-zwave_js-heal-node",dialogImport:s,dialogParams:r});var a,r}},{label:a.localize("ui.panel.config.zwave_js.device_info.remove_failed"),action:()=>{return a=e,r={device_id:i.id},void(0,o.B)(a,"show-dialog",{dialogTag:"dialog-zwave_js-remove-failed-node",dialogImport:c,dialogParams:r});var a,r}},{label:a.localize("ui.panel.config.zwave_js.device_info.node_statistics"),action:()=>{return a=e,r={device:i},void(0,o.B)(a,"show-dialog",{dialogTag:"dialog-zwave_js-node-statistics",dialogImport:_,dialogParams:r});var a,r}}];if(!g.ready)return p;const[w,y]=await Promise.all([(0,t.u0)(a,u),(0,t.se)(a,i.id)]);return w&&!y||p.push({label:a.localize("ui.panel.config.zwave_js.device_info.update_firmware"),action:async()=>{(y||await(0,t.se)(a,i.id)||await(0,n.g7)(e,{text:a.localize("ui.panel.config.zwave_js.update_firmware.warning"),dismissText:a.localize("ui.common.no"),confirmText:a.localize("ui.common.yes")}))&&v(e,{device:i})}}),p}}}]);