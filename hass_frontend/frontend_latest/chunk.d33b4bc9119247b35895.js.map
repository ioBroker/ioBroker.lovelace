{"version":3,"sources":["webpack:///./node_modules/@polymer/paper-item/paper-icon-item.js","webpack:///./node_modules/@polymer/paper-item/paper-item-body.js","webpack:///./src/panels/lovelace/editor/config-elements/config-elements-style.ts","webpack:///./src/components/entity/ha-entity-picker.ts","webpack:///./node_modules/@polymer/paper-dialog-behavior/paper-dialog-behavior.js","webpack:///./node_modules/@polymer/paper-dialog-behavior/paper-dialog-shared-styles.js","webpack:///./src/panels/lovelace/components/hui-theme-select-editor.ts","webpack:///./node_modules/@polymer/paper-dialog/paper-dialog.js","webpack:///./src/components/dialog/ha-iron-focusables-helper.js","webpack:///./src/components/dialog/ha-paper-dialog.ts","webpack:///./src/panels/lovelace/components/hui-entity-editor.ts","webpack:///./node_modules/@polymer/paper-dialog-scrollable/paper-dialog-scrollable.js","webpack:///./src/panels/lovelace/editor/process-editor-entities.ts","webpack:///./src/common/string/slugify.ts","webpack:///./src/panels/lovelace/editor/view-editor/hui-view-editor.ts","webpack:///./src/panels/lovelace/editor/view-editor/hui-edit-view.ts","webpack:///./src/panels/lovelace/editor/view-editor/hui-dialog-edit-view.ts"],"names":["__webpack_require__","_polymer_polymer_lib_legacy_polymer_fn_js__WEBPACK_IMPORTED_MODULE_4__","_polymer_polymer_lib_utils_html_tag_js__WEBPACK_IMPORTED_MODULE_5__","_paper_item_behavior_js__WEBPACK_IMPORTED_MODULE_6__","Object","_template","is","behaviors","d","__webpack_exports__","configElementStyle","rowRenderer","root","_owner","model","firstElementChild","innerHTML","querySelector","stateObj","item","textContent","_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_8__","entity_id","HaEntityPicker","lit_element__WEBPACK_IMPORTED_MODULE_9__","[object Object]","this","_getStates","memoize_one__WEBPACK_IMPORTED_MODULE_6__","hass","domainFilter","entityFilter","states","entityIds","keys","filter","eid","substr","indexOf","sort","map","key","value","changedProps","super","updated","has","_opened","_hass","_value","allowCustomEntity","_openedChanged","_valueChanged","autofocus","undefined","label","localize","disabled","length","ev","detail","setTimeout","_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_10__","styles","tslib__WEBPACK_IMPORTED_MODULE_0__","type","Boolean","attribute","customElements","define","PaperDialogBehaviorImpl","PaperDialogBehavior","_polymer_iron_overlay_behavior_iron_overlay_behavior_js__WEBPACK_IMPORTED_MODULE_1__","_polymer_polymer_lib_legacy_polymer_dom_js__WEBPACK_IMPORTED_MODULE_2__","hostAttributes","role","tabindex","properties","modal","__readied","observers","listeners","tap","ready","__prevNoCancelOnOutsideClick","noCancelOnOutsideClick","__prevNoCancelOnEscKey","noCancelOnEscKey","__prevWithBackdrop","withBackdrop","_modalChanged","readied","_updateClosingReasonConfirmed","confirmed","closingReason","_onDialogClick","event","path","i","l","target","hasAttribute","close","stopPropagation","$_documentContainer","document","createElement","setAttribute","head","appendChild","content","HuiThemeSelectEditor","lit_element__WEBPACK_IMPORTED_MODULE_1__","themes","concat","_changed","theme","_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_3__","polymer_fn","html_tag","paper_dialog_behavior","neon_animation_runner_behavior","neon-animation-finish","_renderOpened","cancelAnimation","playAnimation","_renderClosed","_onNeonAnimationFinish","opened","_finishRenderOpened","_finishRenderClosed","HaIronFocusablesHelper","getTabbableNodes","node","result","_collectTabbableNodes","iron_focusables_helper","_sortByTabIndex","nodeType","Node","ELEMENT_NODE","_isVisible","children","element","tabIndex","_normalizedTabIndex","needsSort","push","localName","polymer_dom","getDistributedNodes","shadowRoot","paperDialogClass","get","haTabFixBehaviorImpl","_focusableNodes","legacy_class","HuiEntityEditor","entities","entityConf","index","entity","_entityDown","_entityUp","_addEntity","newConfigEntities","newEntities","splice","assign","_polymer_paper_dialog_behavior_paper_dialog_behavior_js__WEBPACK_IMPORTED_MODULE_3__","dialogElement","scrollTarget","$","scrollable","_ensureTarget","classList","add","attached","requestAnimationFrame","updateScrollState","bind","toggleClass","scrollTop","offsetHeight","scrollHeight","parentElement","sizingTarget","remove","processEditorEntities","slugify","a","p","RegExp","split","join","toString","toLowerCase","replace","c","charAt","hui_view_editor_HuiViewEditor","lit_element","_suggestedPath","_path","_config","_title","title","_icon","icon","_theme","_panel","panel","config","config_elements_style","_handleTitleBlur","currentTarget","configValue","newConfig","checked","fire_event","isNew","tslib_es6","hui_edit_view_HuiEditView","_saving","_curTabIndex","_dialog","updateComplete","viewIndex","_badges","_cards","_a","lovelace","views","cards","badges","viewConfig","process_editor_entities","open","_curTab","_viewConfigChanged","_badgesChanged","_handleTabSelected","_delete","_closeDialog","_save","alert","confirm","saveConfig","config_util","common_navigate","err","message","id","_resizeDialog","_isConfigChanged","viewConf","_creatingView","JSON","stringify","hui_dialog_edit_view_HuiDialogEditView","params","_params","showDialog"],"mappings":"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","file":"chunk.d33b4bc9119247b35895.js","sourcesContent":["/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport '@polymer/paper-styles/typography.js';\nimport './paper-item-shared-styles.js';\n\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\n\nimport {PaperItemBehavior} from './paper-item-behavior.js';\n\n/*\n`<paper-icon-item>` is a convenience element to make an item with icon. It is an\ninteractive list item with a fixed-width icon area, according to Material\nDesign. This is useful if the icons are of varying widths, but you want the item\nbodies to line up. Use this like a `<paper-item>`. The child node with the slot\nname `item-icon` is placed in the icon area.\n\n    <paper-icon-item>\n      <iron-icon icon=\"favorite\" slot=\"item-icon\"></iron-icon>\n      Favorite\n    </paper-icon-item>\n    <paper-icon-item>\n      <div class=\"avatar\" slot=\"item-icon\"></div>\n      Avatar\n    </paper-icon-item>\n\n### Styling\n\nThe following custom properties and mixins are available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-item-icon-width` | Width of the icon area | `56px`\n`--paper-item-icon` | Mixin applied to the icon area | `{}`\n`--paper-icon-item` | Mixin applied to the item | `{}`\n`--paper-item-selected-weight` | The font weight of a selected item | `bold`\n`--paper-item-selected` | Mixin applied to selected paper-items | `{}`\n`--paper-item-disabled-color` | The color for disabled paper-items | `--disabled-text-color`\n`--paper-item-disabled` | Mixin applied to disabled paper-items | `{}`\n`--paper-item-focused` | Mixin applied to focused paper-items | `{}`\n`--paper-item-focused-before` | Mixin applied to :before focused paper-items | `{}`\n\n*/\nPolymer({\n  _template: html`\n    <style include=\"paper-item-shared-styles\"></style>\n    <style>\n      :host {\n        @apply --layout-horizontal;\n        @apply --layout-center;\n        @apply --paper-font-subhead;\n\n        @apply --paper-item;\n        @apply --paper-icon-item;\n      }\n\n      .content-icon {\n        @apply --layout-horizontal;\n        @apply --layout-center;\n\n        width: var(--paper-item-icon-width, 56px);\n        @apply --paper-item-icon;\n      }\n    </style>\n\n    <div id=\"contentIcon\" class=\"content-icon\">\n      <slot name=\"item-icon\"></slot>\n    </div>\n    <slot></slot>\n`,\n\n  is: 'paper-icon-item',\n  behaviors: [PaperItemBehavior]\n});\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport '@polymer/paper-styles/default-theme.js';\nimport '@polymer/paper-styles/typography.js';\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\n\n/*\nUse `<paper-item-body>` in a `<paper-item>` or `<paper-icon-item>` to make two-\nor three- line items. It is a flex item that is a vertical flexbox.\n\n    <paper-item>\n      <paper-item-body two-line>\n        <div>Show your status</div>\n        <div secondary>Your status is visible to everyone</div>\n      </paper-item-body>\n    </paper-item>\n\nThe child elements with the `secondary` attribute is given secondary text\nstyling.\n\n### Styling\n\nThe following custom properties and mixins are available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-item-body-two-line-min-height` | Minimum height of a two-line item | `72px`\n`--paper-item-body-three-line-min-height` | Minimum height of a three-line item | `88px`\n`--paper-item-body-secondary-color` | Foreground color for the `secondary` area | `--secondary-text-color`\n`--paper-item-body-secondary` | Mixin applied to the `secondary` area | `{}`\n\n*/\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        overflow: hidden; /* needed for text-overflow: ellipsis to work on ff */\n        @apply --layout-vertical;\n        @apply --layout-center-justified;\n        @apply --layout-flex;\n      }\n\n      :host([two-line]) {\n        min-height: var(--paper-item-body-two-line-min-height, 72px);\n      }\n\n      :host([three-line]) {\n        min-height: var(--paper-item-body-three-line-min-height, 88px);\n      }\n\n      :host > ::slotted(*) {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n\n      :host > ::slotted([secondary]) {\n        @apply --paper-font-body1;\n\n        color: var(--paper-item-body-secondary-color, var(--secondary-text-color));\n\n        @apply --paper-item-body-secondary;\n      }\n    </style>\n\n    <slot></slot>\n`,\n\n  is: 'paper-item-body'\n});\n","import { html } from \"lit-element\";\n\nexport const configElementStyle = html`\n  <style>\n    paper-toggle-button {\n      padding-top: 16px;\n    }\n    .side-by-side {\n      display: flex;\n    }\n    .side-by-side > * {\n      flex: 1;\n      padding-right: 4px;\n    }\n    .suffix {\n      margin: 0 8px;\n    }\n  </style>\n`;\n","import \"@polymer/paper-icon-button/paper-icon-button\";\nimport \"@polymer/paper-input/paper-input\";\nimport \"@polymer/paper-item/paper-icon-item\";\nimport \"@polymer/paper-item/paper-item-body\";\nimport \"@vaadin/vaadin-combo-box/vaadin-combo-box-light\";\nimport memoizeOne from \"memoize-one\";\n\nimport \"./state-badge\";\n\nimport computeStateName from \"../../common/entity/compute_state_name\";\nimport {\n  LitElement,\n  TemplateResult,\n  html,\n  css,\n  CSSResult,\n  property,\n  PropertyValues,\n} from \"lit-element\";\nimport { HomeAssistant } from \"../../types\";\nimport { HassEntity } from \"home-assistant-js-websocket\";\nimport { PolymerChangedEvent } from \"../../polymer-types\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\n\nexport type HaEntityPickerEntityFilterFunc = (entityId: HassEntity) => boolean;\n\nconst rowRenderer = (\n  root: HTMLElement,\n  _owner,\n  model: { item: HassEntity }\n) => {\n  if (!root.firstElementChild) {\n    root.innerHTML = `\n      <style>\n        paper-icon-item {\n          margin: -10px;\n          padding: 0;\n        }\n      </style>\n      <paper-icon-item>\n        <state-badge state-obj=\"[[item]]\" slot=\"item-icon\"></state-badge>\n        <paper-item-body two-line=\"\">\n          <div class='name'>[[_computeStateName(item)]]</div>\n          <div secondary>[[item.entity_id]]</div>\n        </paper-item-body>\n      </paper-icon-item>\n    `;\n  }\n\n  root.querySelector(\"state-badge\")!.stateObj = model.item;\n  root.querySelector(\".name\")!.textContent = computeStateName(model.item);\n  root.querySelector(\"[secondary]\")!.textContent = model.item.entity_id;\n};\n\nclass HaEntityPicker extends LitElement {\n  @property({ type: Boolean }) public autofocus?: boolean;\n  @property({ type: Boolean }) public disabled?: boolean;\n  @property({ type: Boolean, attribute: \"allow-custom-entity\" })\n  public allowCustomEntity;\n  @property() public hass?: HomeAssistant;\n  @property() public label?: string;\n  @property() public value?: string;\n  @property({ attribute: \"domain-filter\" }) public domainFilter?: string;\n  @property() public entityFilter?: HaEntityPickerEntityFilterFunc;\n  @property({ type: Boolean }) private _opened?: boolean;\n  @property() private _hass?: HomeAssistant;\n\n  private _getStates = memoizeOne(\n    (\n      hass: this[\"hass\"],\n      domainFilter: this[\"domainFilter\"],\n      entityFilter: this[\"entityFilter\"]\n    ) => {\n      let states: HassEntity[] = [];\n\n      if (!hass) {\n        return [];\n      }\n      let entityIds = Object.keys(hass.states);\n\n      if (domainFilter) {\n        entityIds = entityIds.filter(\n          (eid) => eid.substr(0, eid.indexOf(\".\")) === domainFilter\n        );\n      }\n\n      states = entityIds.sort().map((key) => hass!.states[key]);\n\n      if (entityFilter) {\n        states = states.filter(\n          (stateObj) =>\n            // We always want to include the entity of the current value\n            stateObj.entity_id === this.value || entityFilter!(stateObj)\n        );\n      }\n      return states;\n    }\n  );\n\n  protected updated(changedProps: PropertyValues) {\n    super.updated(changedProps);\n\n    if (changedProps.has(\"hass\") && !this._opened) {\n      this._hass = this.hass;\n    }\n  }\n\n  protected render(): TemplateResult | void {\n    const states = this._getStates(\n      this._hass,\n      this.domainFilter,\n      this.entityFilter\n    );\n\n    return html`\n      <vaadin-combo-box-light\n        item-value-path=\"entity_id\"\n        item-label-path=\"entity_id\"\n        .items=${states}\n        .value=${this._value}\n        .allowCustomValue=${this.allowCustomEntity}\n        .renderer=${rowRenderer}\n        @opened-changed=${this._openedChanged}\n        @value-changed=${this._valueChanged}\n      >\n        <paper-input\n          .autofocus=${this.autofocus}\n          .label=${this.label === undefined && this._hass\n            ? this._hass.localize(\"ui.components.entity.entity-picker.entity\")\n            : this.label}\n          .value=${this._value}\n          .disabled=${this.disabled}\n          class=\"input\"\n          autocapitalize=\"none\"\n          autocomplete=\"off\"\n          autocorrect=\"off\"\n          spellcheck=\"false\"\n        >\n          ${this.value\n            ? html`\n                <paper-icon-button\n                  aria-label=\"Clear\"\n                  slot=\"suffix\"\n                  class=\"clear-button\"\n                  icon=\"hass:close\"\n                  no-ripple\n                >\n                  Clear\n                </paper-icon-button>\n              `\n            : \"\"}\n          ${states.length > 0\n            ? html`\n                <paper-icon-button\n                  aria-label=\"Show entities\"\n                  slot=\"suffix\"\n                  class=\"toggle-button\"\n                  .icon=${this._opened ? \"hass:menu-up\" : \"hass:menu-down\"}\n                >\n                  Toggle\n                </paper-icon-button>\n              `\n            : \"\"}\n        </paper-input>\n      </vaadin-combo-box-light>\n    `;\n  }\n\n  private get _value() {\n    return this.value || \"\";\n  }\n\n  private _openedChanged(ev: PolymerChangedEvent<boolean>) {\n    this._opened = ev.detail.value;\n  }\n\n  private _valueChanged(ev: PolymerChangedEvent<string>) {\n    const newValue = ev.detail.value;\n    if (newValue !== this._value) {\n      this.value = ev.detail.value;\n      setTimeout(() => {\n        fireEvent(this, \"value-changed\", { value: this.value });\n        fireEvent(this, \"change\");\n      }, 0);\n    }\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      paper-input > paper-icon-button {\n        width: 24px;\n        height: 24px;\n        padding: 2px;\n        color: var(--secondary-text-color);\n      }\n      [hidden] {\n        display: none;\n      }\n    `;\n  }\n}\n\ncustomElements.define(\"ha-entity-picker\", HaEntityPicker);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-entity-picker\": HaEntityPicker;\n  }\n}\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport {IronOverlayBehavior} from '@polymer/iron-overlay-behavior/iron-overlay-behavior.js';\nimport {dom} from '@polymer/polymer/lib/legacy/polymer.dom.js';\n\n/**\n  Use `Polymer.PaperDialogBehavior` and `paper-dialog-shared-styles.html` to\n  implement a Material Design dialog.\n\n  For example, if `<paper-dialog-impl>` implements this behavior:\n\n      <paper-dialog-impl>\n          <h2>Header</h2>\n          <div>Dialog body</div>\n          <div class=\"buttons\">\n              <paper-button dialog-dismiss>Cancel</paper-button>\n              <paper-button dialog-confirm>Accept</paper-button>\n          </div>\n      </paper-dialog-impl>\n\n  `paper-dialog-shared-styles.html` provide styles for a header, content area,\n  and an action area for buttons. Use the `<h2>` tag for the header and the\n  `buttons` class for the action area. You can use the `paper-dialog-scrollable`\n  element (in its own repository) if you need a scrolling content area.\n\n  Use the `dialog-dismiss` and `dialog-confirm` attributes on interactive\n  controls to close the dialog. If the user dismisses the dialog with\n  `dialog-confirm`, the `closingReason` will update to include `confirmed:\n  true`.\n\n  ### Accessibility\n\n  This element has `role=\"dialog\"` by default. Depending on the context, it may\n  be more appropriate to override this attribute with `role=\"alertdialog\"`.\n\n  If `modal` is set, the element will prevent the focus from exiting the\n  element. It will also ensure that focus remains in the dialog.\n\n  @hero hero.svg\n  @demo demo/index.html\n  @polymerBehavior PaperDialogBehavior\n */\nexport const PaperDialogBehaviorImpl = {\n\n  hostAttributes: {'role': 'dialog', 'tabindex': '-1'},\n\n  properties: {\n\n    /**\n     * If `modal` is true, this implies `no-cancel-on-outside-click`,\n     * `no-cancel-on-esc-key` and `with-backdrop`.\n     */\n    modal: {type: Boolean, value: false},\n\n    __readied: {type: Boolean, value: false}\n\n  },\n\n  observers: ['_modalChanged(modal, __readied)'],\n\n  listeners: {'tap': '_onDialogClick'},\n\n  /**\n   * @return {void}\n   */\n  ready: function() {\n    // Only now these properties can be read.\n    this.__prevNoCancelOnOutsideClick = this.noCancelOnOutsideClick;\n    this.__prevNoCancelOnEscKey = this.noCancelOnEscKey;\n    this.__prevWithBackdrop = this.withBackdrop;\n    this.__readied = true;\n  },\n\n  _modalChanged: function(modal, readied) {\n    // modal implies noCancelOnOutsideClick, noCancelOnEscKey and withBackdrop.\n    // We need to wait for the element to be ready before we can read the\n    // properties values.\n    if (!readied) {\n      return;\n    }\n\n    if (modal) {\n      this.__prevNoCancelOnOutsideClick = this.noCancelOnOutsideClick;\n      this.__prevNoCancelOnEscKey = this.noCancelOnEscKey;\n      this.__prevWithBackdrop = this.withBackdrop;\n      this.noCancelOnOutsideClick = true;\n      this.noCancelOnEscKey = true;\n      this.withBackdrop = true;\n    } else {\n      // If the value was changed to false, let it false.\n      this.noCancelOnOutsideClick =\n          this.noCancelOnOutsideClick && this.__prevNoCancelOnOutsideClick;\n      this.noCancelOnEscKey =\n          this.noCancelOnEscKey && this.__prevNoCancelOnEscKey;\n      this.withBackdrop = this.withBackdrop && this.__prevWithBackdrop;\n    }\n  },\n\n  _updateClosingReasonConfirmed: function(confirmed) {\n    this.closingReason = this.closingReason || {};\n    this.closingReason.confirmed = confirmed;\n  },\n\n  /**\n   * Will dismiss the dialog if user clicked on an element with dialog-dismiss\n   * or dialog-confirm attribute.\n   */\n  _onDialogClick: function(event) {\n    // Search for the element with dialog-confirm or dialog-dismiss,\n    // from the root target until this (excluded).\n    var path = dom(event).path;\n    for (var i = 0, l = path.indexOf(this); i < l; i++) {\n      var target = path[i];\n      if (target.hasAttribute &&\n          (target.hasAttribute('dialog-dismiss') ||\n           target.hasAttribute('dialog-confirm'))) {\n        this._updateClosingReasonConfirmed(\n            target.hasAttribute('dialog-confirm'));\n        this.close();\n        event.stopPropagation();\n        break;\n      }\n    }\n  }\n\n};\n\n/** @polymerBehavior */\nexport const PaperDialogBehavior =\n    [IronOverlayBehavior, PaperDialogBehaviorImpl];\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\n/*\n### Styling\n\nThe following custom properties and mixins are available for styling.\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-dialog-background-color` | Dialog background color | `--primary-background-color`\n`--paper-dialog-color` | Dialog foreground color | `--primary-text-color`\n`--paper-dialog` | Mixin applied to the dialog | `{}`\n`--paper-dialog-title` | Mixin applied to the title (`<h2>`) element | `{}`\n`--paper-dialog-button-color` | Button area foreground color | `--default-primary-color`\n*/\nimport '@polymer/polymer/polymer-legacy.js';\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport '@polymer/paper-styles/default-theme.js';\nimport '@polymer/paper-styles/typography.js';\nimport '@polymer/paper-styles/shadow.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.setAttribute('style', 'display: none;');\n\n$_documentContainer.innerHTML = `<dom-module id=\"paper-dialog-shared-styles\">\n  <template>\n    <style>\n      :host {\n        display: block;\n        margin: 24px 40px;\n\n        background: var(--paper-dialog-background-color, var(--primary-background-color));\n        color: var(--paper-dialog-color, var(--primary-text-color));\n\n        @apply --paper-font-body1;\n        @apply --shadow-elevation-16dp;\n        @apply --paper-dialog;\n      }\n\n      :host > ::slotted(*) {\n        margin-top: 20px;\n        padding: 0 24px;\n      }\n\n      :host > ::slotted(.no-padding) {\n        padding: 0;\n      }\n\n      \n      :host > ::slotted(*:first-child) {\n        margin-top: 24px;\n      }\n\n      :host > ::slotted(*:last-child) {\n        margin-bottom: 24px;\n      }\n\n      /* In 1.x, this selector was \\`:host > ::content h2\\`. In 2.x <slot> allows\n      to select direct children only, which increases the weight of this\n      selector, so we have to re-define first-child/last-child margins below. */\n      :host > ::slotted(h2) {\n        position: relative;\n        margin: 0;\n\n        @apply --paper-font-title;\n        @apply --paper-dialog-title;\n      }\n\n      /* Apply mixin again, in case it sets margin-top. */\n      :host > ::slotted(h2:first-child) {\n        margin-top: 24px;\n        @apply --paper-dialog-title;\n      }\n\n      /* Apply mixin again, in case it sets margin-bottom. */\n      :host > ::slotted(h2:last-child) {\n        margin-bottom: 24px;\n        @apply --paper-dialog-title;\n      }\n\n      :host > ::slotted(.paper-dialog-buttons),\n      :host > ::slotted(.buttons) {\n        position: relative;\n        padding: 8px 8px 8px 24px;\n        margin: 0;\n\n        color: var(--paper-dialog-button-color, var(--primary-color));\n\n        @apply --layout-horizontal;\n        @apply --layout-end-justified;\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n","import {\n  html,\n  LitElement,\n  TemplateResult,\n  customElement,\n  property,\n  css,\n  CSSResult,\n} from \"lit-element\";\nimport \"@material/mwc-button\";\n\nimport { HomeAssistant } from \"../../../types\";\nimport { fireEvent, HASSDomEvent } from \"../../../common/dom/fire_event\";\n\ndeclare global {\n  // for fire event\n  interface HASSDomEvents {\n    \"theme-changed\": undefined;\n  }\n  // for add event listener\n  interface HTMLElementEventMap {\n    \"theme-changed\": HASSDomEvent<undefined>;\n  }\n}\n\n@customElement(\"hui-theme-select-editor\")\nexport class HuiThemeSelectEditor extends LitElement {\n  @property() public value?: string;\n\n  @property() public hass?: HomeAssistant;\n\n  protected render(): TemplateResult | void {\n    const themes = [\"Backend-selected\", \"default\"].concat(\n      Object.keys(this.hass!.themes.themes).sort()\n    );\n\n    return html`\n      <paper-dropdown-menu\n        label=\"Theme\"\n        dynamic-align\n        @value-changed=\"${this._changed}\"\n      >\n        <paper-listbox\n          slot=\"dropdown-content\"\n          .selected=\"${this.value}\"\n          attr-for-selected=\"theme\"\n        >\n          ${themes.map((theme) => {\n            return html`\n              <paper-item theme=\"${theme}\">${theme}</paper-item>\n            `;\n          })}\n        </paper-listbox>\n      </paper-dropdown-menu>\n    `;\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      paper-dropdown-menu {\n        width: 100%;\n      }\n    `;\n  }\n\n  private _changed(ev): void {\n    if (!this.hass || ev.target.value === \"\") {\n      return;\n    }\n    this.value = ev.target.value;\n    fireEvent(this, \"theme-changed\");\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hui-theme-select-editor\": HuiThemeSelectEditor;\n  }\n}\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\nimport '@polymer/paper-dialog-behavior/paper-dialog-shared-styles.js';\n\nimport {NeonAnimationRunnerBehavior} from '@polymer/neon-animation/neon-animation-runner-behavior.js';\nimport {PaperDialogBehavior} from '@polymer/paper-dialog-behavior/paper-dialog-behavior.js';\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\n\n/**\nMaterial design:\n[Dialogs](https://www.google.com/design/spec/components/dialogs.html)\n\n`<paper-dialog>` is a dialog with Material Design styling and optional\nanimations when it is opened or closed. It provides styles for a header, content\narea, and an action area for buttons. You can use the\n`<paper-dialog-scrollable>` element (in its own repository) if you need a\nscrolling content area. To autofocus a specific child element after opening the\ndialog, give it the `autofocus` attribute. See `Polymer.PaperDialogBehavior` and\n`Polymer.IronOverlayBehavior` for specifics.\n\nFor example, the following code implements a dialog with a header, scrolling\ncontent area and buttons. Focus will be given to the `dialog-confirm` button\nwhen the dialog is opened.\n\n    <paper-dialog>\n      <h2>Header</h2>\n      <paper-dialog-scrollable>\n        Lorem ipsum...\n      </paper-dialog-scrollable>\n      <div class=\"buttons\">\n        <paper-button dialog-dismiss>Cancel</paper-button>\n        <paper-button dialog-confirm autofocus>Accept</paper-button>\n      </div>\n    </paper-dialog>\n\n### Styling\n\nSee the docs for `Polymer.PaperDialogBehavior` for the custom properties\navailable for styling this element.\n\n### Animations\n\nSet the `entry-animation` and/or `exit-animation` attributes to add an animation\nwhen the dialog is opened or closed. See the documentation in\n[PolymerElements/neon-animation](https://github.com/PolymerElements/neon-animation)\nfor more info.\n\nFor example:\n\n    <script type=\"module\">\n      import '@polymer/neon-animation/animations/fade-out-animation.js';\n      import '@polymer/neon-animation/animations/scale-up-animation.js';\n    </script>\n\n    <paper-dialog entry-animation=\"scale-up-animation\"\n                  exit-animation=\"fade-out-animation\">\n      <h2>Header</h2>\n      <div>Dialog body</div>\n    </paper-dialog>\n\n### Accessibility\n\nSee the docs for `Polymer.PaperDialogBehavior` for accessibility features\nimplemented by this element.\n\n@group Paper Elements\n@element paper-dialog\n@hero hero.svg\n@demo demo/index.html\n*/\nPolymer({\n  _template: html`\n    <style include=\"paper-dialog-shared-styles\"></style>\n    <slot></slot>\n`,\n\n  is: 'paper-dialog',\n  behaviors: [PaperDialogBehavior, NeonAnimationRunnerBehavior],\n  listeners: {'neon-animation-finish': '_onNeonAnimationFinish'},\n\n  _renderOpened: function() {\n    this.cancelAnimation();\n    this.playAnimation('entry');\n  },\n\n  _renderClosed: function() {\n    this.cancelAnimation();\n    this.playAnimation('exit');\n  },\n\n  _onNeonAnimationFinish: function() {\n    if (this.opened) {\n      this._finishRenderOpened();\n    } else {\n      this._finishRenderClosed();\n    }\n  }\n});\n","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\n/*\n  Fixes issue with not using shadow dom properly in iron-overlay-behavior/icon-focusables-helper.js\n*/\nimport { dom } from \"@polymer/polymer/lib/legacy/polymer.dom.js\";\n\nimport { IronFocusablesHelper } from \"@polymer/iron-overlay-behavior/iron-focusables-helper.js\";\n\nexport const HaIronFocusablesHelper = {\n  /**\n   * Returns a sorted array of tabbable nodes, including the root node.\n   * It searches the tabbable nodes in the light and shadow dom of the chidren,\n   * sorting the result by tabindex.\n   * @param {!Node} node\n   * @return {!Array<!HTMLElement>}\n   */\n  getTabbableNodes: function(node) {\n    var result = [];\n    // If there is at least one element with tabindex > 0, we need to sort\n    // the final array by tabindex.\n    var needsSortByTabIndex = this._collectTabbableNodes(node, result);\n    if (needsSortByTabIndex) {\n      return IronFocusablesHelper._sortByTabIndex(result);\n    }\n    return result;\n  },\n\n  /**\n   * Searches for nodes that are tabbable and adds them to the `result` array.\n   * Returns if the `result` array needs to be sorted by tabindex.\n   * @param {!Node} node The starting point for the search; added to `result`\n   * if tabbable.\n   * @param {!Array<!HTMLElement>} result\n   * @return {boolean}\n   * @private\n   */\n  _collectTabbableNodes: function(node, result) {\n    // If not an element or not visible, no need to explore children.\n    if (\n      node.nodeType !== Node.ELEMENT_NODE ||\n      !IronFocusablesHelper._isVisible(node)\n    ) {\n      return false;\n    }\n    var element = /** @type {!HTMLElement} */ (node);\n    var tabIndex = IronFocusablesHelper._normalizedTabIndex(element);\n    var needsSort = tabIndex > 0;\n    if (tabIndex >= 0) {\n      result.push(element);\n    }\n\n    // In ShadowDOM v1, tab order is affected by the order of distrubution.\n    // E.g. getTabbableNodes(#root) in ShadowDOM v1 should return [#A, #B];\n    // in ShadowDOM v0 tab order is not affected by the distrubution order,\n    // in fact getTabbableNodes(#root) returns [#B, #A].\n    //  <div id=\"root\">\n    //   <!-- shadow -->\n    //     <slot name=\"a\">\n    //     <slot name=\"b\">\n    //   <!-- /shadow -->\n    //   <input id=\"A\" slot=\"a\">\n    //   <input id=\"B\" slot=\"b\" tabindex=\"1\">\n    //  </div>\n    // TODO(valdrin) support ShadowDOM v1 when upgrading to Polymer v2.0.\n    var children;\n    if (element.localName === \"content\" || element.localName === \"slot\") {\n      children = dom(element).getDistributedNodes();\n    } else {\n      // /////////////////////////\n      // Use shadow root if possible, will check for distributed nodes.\n      // THIS IS THE CHANGED LINE\n      children = dom(element.shadowRoot || element.root || element).children;\n      // /////////////////////////\n    }\n    for (var i = 0; i < children.length; i++) {\n      // Ensure method is always invoked to collect tabbable children.\n      needsSort = this._collectTabbableNodes(children[i], result) || needsSort;\n    }\n    return needsSort;\n  },\n};\n","import \"@polymer/paper-dialog/paper-dialog\";\nimport { mixinBehaviors } from \"@polymer/polymer/lib/legacy/class\";\nimport { HaIronFocusablesHelper } from \"./ha-iron-focusables-helper.js\";\n// tslint:disable-next-line\nimport { PaperDialogElement } from \"@polymer/paper-dialog/paper-dialog\";\n\nconst paperDialogClass = customElements.get(\"paper-dialog\");\n\n// behavior that will override existing iron-overlay-behavior and call the fixed implementation\nconst haTabFixBehaviorImpl = {\n  get _focusableNodes() {\n    return HaIronFocusablesHelper.getTabbableNodes(this);\n  },\n};\n\n// paper-dialog that uses the haTabFixBehaviorImpl behvaior\n// export class HaPaperDialog extends paperDialogClass {}\n// @ts-ignore\nexport class HaPaperDialog\n  extends mixinBehaviors([haTabFixBehaviorImpl], paperDialogClass)\n  implements PaperDialogElement {}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-paper-dialog\": HaPaperDialog;\n  }\n}\ncustomElements.define(\"ha-paper-dialog\", HaPaperDialog);\n","import {\n  html,\n  LitElement,\n  TemplateResult,\n  customElement,\n  property,\n  css,\n  CSSResult,\n} from \"lit-element\";\nimport \"@polymer/paper-icon-button/paper-icon-button\";\n\nimport { HomeAssistant } from \"../../../types\";\nimport { fireEvent } from \"../../../common/dom/fire_event\";\nimport { EntityConfig } from \"../entity-rows/types\";\n\nimport \"../../../components/entity/ha-entity-picker\";\nimport { EditorTarget } from \"../editor/types\";\n\n@customElement(\"hui-entity-editor\")\nexport class HuiEntityEditor extends LitElement {\n  @property() protected hass?: HomeAssistant;\n\n  @property() protected entities?: EntityConfig[];\n\n  protected render(): TemplateResult | void {\n    if (!this.entities) {\n      return html``;\n    }\n\n    return html`\n      <h3>Entities</h3>\n      <div class=\"entities\">\n        ${this.entities.map((entityConf, index) => {\n          return html`\n            <div class=\"entity\">\n              <ha-entity-picker\n                .hass=\"${this.hass}\"\n                .value=\"${entityConf.entity}\"\n                .index=\"${index}\"\n                @change=\"${this._valueChanged}\"\n                allow-custom-entity\n              ></ha-entity-picker>\n              <paper-icon-button\n                title=\"Move entity down\"\n                icon=\"hass:arrow-down\"\n                .index=\"${index}\"\n                @click=\"${this._entityDown}\"\n                ?disabled=\"${index === this.entities!.length - 1}\"\n              ></paper-icon-button>\n              <paper-icon-button\n                title=\"Move entity up\"\n                icon=\"hass:arrow-up\"\n                .index=\"${index}\"\n                @click=\"${this._entityUp}\"\n                ?disabled=\"${index === 0}\"\n              ></paper-icon-button>\n            </div>\n          `;\n        })}\n        <ha-entity-picker\n          .hass=\"${this.hass}\"\n          @change=\"${this._addEntity}\"\n        ></ha-entity-picker>\n      </div>\n    `;\n  }\n\n  private _addEntity(ev: Event): void {\n    const target = ev.target! as EditorTarget;\n    if (target.value === \"\") {\n      return;\n    }\n    const newConfigEntities = this.entities!.concat({\n      entity: target.value as string,\n    });\n    target.value = \"\";\n    fireEvent(this, \"entities-changed\", { entities: newConfigEntities });\n  }\n\n  private _entityUp(ev: Event): void {\n    const target = ev.target! as EditorTarget;\n    const newEntities = this.entities!.concat();\n\n    [newEntities[target.index! - 1], newEntities[target.index!]] = [\n      newEntities[target.index!],\n      newEntities[target.index! - 1],\n    ];\n\n    fireEvent(this, \"entities-changed\", { entities: newEntities });\n  }\n\n  private _entityDown(ev: Event): void {\n    const target = ev.target! as EditorTarget;\n    const newEntities = this.entities!.concat();\n\n    [newEntities[target.index! + 1], newEntities[target.index!]] = [\n      newEntities[target.index!],\n      newEntities[target.index! + 1],\n    ];\n\n    fireEvent(this, \"entities-changed\", { entities: newEntities });\n  }\n\n  private _valueChanged(ev: Event): void {\n    const target = ev.target! as EditorTarget;\n    const newConfigEntities = this.entities!.concat();\n\n    if (target.value === \"\") {\n      newConfigEntities.splice(target.index!, 1);\n    } else {\n      newConfigEntities[target.index!] = {\n        ...newConfigEntities[target.index!],\n        entity: target.value!,\n      };\n    }\n\n    fireEvent(this, \"entities-changed\", { entities: newConfigEntities });\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      .entities {\n        padding-left: 20px;\n      }\n      .entity {\n        display: flex;\n        align-items: flex-end;\n      }\n      .entity ha-entity-picker {\n        flex-grow: 1;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hui-entity-editor\": HuiEntityEditor;\n  }\n}\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport '@polymer/paper-styles/default-theme.js';\n\nimport {PaperDialogBehaviorImpl} from '@polymer/paper-dialog-behavior/paper-dialog-behavior.js';\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\n\n/**\nMaterial design:\n[Dialogs](https://www.google.com/design/spec/components/dialogs.html)\n\n`paper-dialog-scrollable` implements a scrolling area used in a Material Design\ndialog. It shows a divider at the top and/or bottom indicating more content,\ndepending on scroll position. Use this together with elements implementing\n`Polymer.PaperDialogBehavior`.\n\n    <paper-dialog-impl>\n      <h2>Header</h2>\n      <paper-dialog-scrollable>\n        Lorem ipsum...\n      </paper-dialog-scrollable>\n      <div class=\"buttons\">\n        <paper-button>OK</paper-button>\n      </div>\n    </paper-dialog-impl>\n\nIt shows a top divider after scrolling if it is not the first child in its\nparent container, indicating there is more content above. It shows a bottom\ndivider if it is scrollable and it is not the last child in its parent\ncontainer, indicating there is more content below. The bottom divider is hidden\nif it is scrolled to the bottom.\n\nIf `paper-dialog-scrollable` is not a direct child of the element implementing\n`Polymer.PaperDialogBehavior`, remember to set the `dialogElement`:\n\n    <paper-dialog-impl id=\"myDialog\">\n      <h2>Header</h2>\n      <div class=\"my-content-wrapper\">\n        <h4>Sub-header</h4>\n        <paper-dialog-scrollable>\n          Lorem ipsum...\n        </paper-dialog-scrollable>\n      </div>\n      <div class=\"buttons\">\n        <paper-button>OK</paper-button>\n      </div>\n    </paper-dialog-impl>\n\n    <script>\n      var scrollable =\nPolymer.dom(myDialog).querySelector('paper-dialog-scrollable');\n      scrollable.dialogElement = myDialog;\n    </script>\n\n### Styling\nThe following custom properties and mixins are available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-dialog-scrollable` | Mixin for the scrollable content | {}\n\n@group Paper Elements\n@element paper-dialog-scrollable\n@demo demo/index.html\n@hero hero.svg\n*/\nPolymer({\n  _template: html`\n    <style>\n\n      :host {\n        display: block;\n        @apply --layout-relative;\n      }\n\n      :host(.is-scrolled:not(:first-child))::before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        height: 1px;\n        background: var(--divider-color);\n      }\n\n      :host(.can-scroll:not(.scrolled-to-bottom):not(:last-child))::after {\n        content: '';\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        height: 1px;\n        background: var(--divider-color);\n      }\n\n      .scrollable {\n        padding: 0 24px;\n\n        @apply --layout-scroll;\n        @apply --paper-dialog-scrollable;\n      }\n\n      .fit {\n        @apply --layout-fit;\n      }\n    </style>\n\n    <div id=\"scrollable\" class=\"scrollable\" on-scroll=\"updateScrollState\">\n      <slot></slot>\n    </div>\n`,\n\n  is: 'paper-dialog-scrollable',\n\n  properties: {\n\n    /**\n     * The dialog element that implements `Polymer.PaperDialogBehavior`\n     * containing this element.\n     * @type {?Node}\n     */\n    dialogElement: {type: Object}\n\n  },\n\n  /**\n   * Returns the scrolling element.\n   */\n  get scrollTarget() {\n    return this.$.scrollable;\n  },\n\n  ready: function() {\n    this._ensureTarget();\n    this.classList.add('no-padding');\n  },\n\n  attached: function() {\n    this._ensureTarget();\n    requestAnimationFrame(this.updateScrollState.bind(this));\n  },\n\n  updateScrollState: function() {\n    this.toggleClass('is-scrolled', this.scrollTarget.scrollTop > 0);\n    this.toggleClass(\n        'can-scroll',\n        this.scrollTarget.offsetHeight < this.scrollTarget.scrollHeight);\n    this.toggleClass(\n        'scrolled-to-bottom',\n        this.scrollTarget.scrollTop + this.scrollTarget.offsetHeight >=\n            this.scrollTarget.scrollHeight);\n  },\n\n  _ensureTarget: function() {\n    // Read parentElement instead of parentNode in order to skip shadowRoots.\n    this.dialogElement = this.dialogElement || this.parentElement;\n    // Check if dialog implements paper-dialog-behavior. If not, fit\n    // scrollTarget to host.\n    if (this.dialogElement && this.dialogElement.behaviors &&\n        this.dialogElement.behaviors.indexOf(PaperDialogBehaviorImpl) >= 0) {\n      this.dialogElement.sizingTarget = this.scrollTarget;\n      this.scrollTarget.classList.remove('fit');\n    } else if (this.dialogElement) {\n      this.scrollTarget.classList.add('fit');\n    }\n  }\n});\n","import { EntityConfig } from \"../entity-rows/types\";\n\nexport function processEditorEntities(entities): EntityConfig[] {\n  return entities.map((entityConf) => {\n    if (typeof entityConf === \"string\") {\n      return { entity: entityConf };\n    }\n    return entityConf;\n  });\n}\n","// https://gist.github.com/hagemann/382adfc57adbd5af078dc93feef01fe1\nexport const slugify = (value: string) => {\n  const a =\n    \"/_,:;\";\n  const b =\n    \"aaaaaaaaacccddeeeeeeegghiiiiilmnnnnooooooprrsssssttuuuuuuuuuwxyyzzz------\";\n  const p = new RegExp(a.split(\"\").join(\"|\"), \"g\");\n\n  return value\n    .toString()\n    .toLowerCase()\n    .replace(/\\s+/g, \"-\") // Replace spaces with -\n    .replace(p, (c) => b.charAt(a.indexOf(c))) // Replace special characters\n    .replace(/&/g, \"-and-\") // Replace & with 'and'\n    .replace(/[^\\w\\-]+/g, \"\") // Remove all non-word characters\n    .replace(/\\-\\-+/g, \"-\") // Replace multiple - with single -\n    .replace(/^-+/, \"\") // Trim - from start of text\n    .replace(/-+$/, \"\"); // Trim - from end of text\n};\n","import {\n  html,\n  LitElement,\n  TemplateResult,\n  customElement,\n  property,\n} from \"lit-element\";\nimport \"@polymer/paper-input/paper-input\";\nimport \"@polymer/paper-toggle-button/paper-toggle-button\";\n\nimport { EditorTarget } from \"../types\";\nimport { HomeAssistant } from \"../../../../types\";\nimport { fireEvent } from \"../../../../common/dom/fire_event\";\nimport { configElementStyle } from \"../config-elements/config-elements-style\";\n\nimport \"../../components/hui-theme-select-editor\";\nimport { LovelaceViewConfig } from \"../../../../data/lovelace\";\nimport { slugify } from \"../../../../common/string/slugify\";\n\ndeclare global {\n  interface HASSDomEvents {\n    \"view-config-changed\": {\n      config: LovelaceViewConfig;\n    };\n  }\n}\n\n@customElement(\"hui-view-editor\")\nexport class HuiViewEditor extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public isNew!: boolean;\n  @property() private _config!: LovelaceViewConfig;\n  private _suggestedPath = false;\n\n  get _path(): string {\n    if (!this._config) {\n      return \"\";\n    }\n    return this._config.path || \"\";\n  }\n\n  get _title(): string {\n    if (!this._config) {\n      return \"\";\n    }\n    return this._config.title || \"\";\n  }\n\n  get _icon(): string {\n    if (!this._config) {\n      return \"\";\n    }\n    return this._config.icon || \"\";\n  }\n\n  get _theme(): string {\n    if (!this._config) {\n      return \"\";\n    }\n    return this._config.theme || \"Backend-selected\";\n  }\n\n  get _panel(): boolean {\n    if (!this._config) {\n      return false;\n    }\n    return this._config.panel || false;\n  }\n\n  set config(config: LovelaceViewConfig) {\n    this._config = config;\n  }\n\n  protected render(): TemplateResult | void {\n    if (!this.hass) {\n      return html``;\n    }\n\n    return html`\n      ${configElementStyle}\n      <div class=\"card-config\">\n        <paper-input\n          label=\"Title\"\n          .value=${this._title}\n          .configValue=${\"title\"}\n          @value-changed=${this._valueChanged}\n          @blur=${this._handleTitleBlur}\n        ></paper-input>\n        <paper-input\n          label=\"Icon\"\n          .value=${this._icon}\n          .configValue=${\"icon\"}\n          @value-changed=${this._valueChanged}\n        ></paper-input>\n        <paper-input\n          label=\"URL Path\"\n          .value=${this._path}\n          .configValue=${\"path\"}\n          @value-changed=${this._valueChanged}\n        ></paper-input>\n        <hui-theme-select-editor\n          .hass=${this.hass}\n          .value=${this._theme}\n          .configValue=${\"theme\"}\n          @theme-changed=${this._valueChanged}\n        ></hui-theme-select-editor>\n        <paper-toggle-button\n          ?checked=${this._panel !== false}\n          .configValue=${\"panel\"}\n          @change=${this._valueChanged}\n          >Panel Mode?</paper-toggle-button\n        >\n      </div>\n    `;\n  }\n\n  private _valueChanged(ev: Event): void {\n    const target = ev.currentTarget! as EditorTarget;\n\n    if (this[`_${target.configValue}`] === target.value) {\n      return;\n    }\n\n    let newConfig;\n\n    if (target.configValue) {\n      newConfig = {\n        ...this._config,\n        [target.configValue!]:\n          target.checked !== undefined ? target.checked : target.value,\n      };\n    }\n\n    fireEvent(this, \"view-config-changed\", { config: newConfig });\n  }\n\n  private _handleTitleBlur(ev) {\n    if (\n      !this.isNew ||\n      this._suggestedPath ||\n      this._config.path ||\n      !ev.currentTarget.value\n    ) {\n      return;\n    }\n\n    const config = { ...this._config, path: slugify(ev.currentTarget.value) };\n    fireEvent(this, \"view-config-changed\", { config });\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hui-view-editor\": HuiViewEditor;\n  }\n}\n","import {\n  html,\n  css,\n  LitElement,\n  TemplateResult,\n  CSSResult,\n  customElement,\n  property,\n} from \"lit-element\";\n\nimport \"@polymer/paper-spinner/paper-spinner\";\nimport \"@polymer/paper-tabs/paper-tab\";\nimport \"@polymer/paper-tabs/paper-tabs\";\nimport \"@polymer/paper-icon-button/paper-icon-button.js\";\nimport \"../../../../components/dialog/ha-paper-dialog\";\n// tslint:disable-next-line:no-duplicate-imports\nimport { HaPaperDialog } from \"../../../../components/dialog/ha-paper-dialog\";\nimport \"@material/mwc-button\";\nimport \"@polymer/paper-dialog-scrollable/paper-dialog-scrollable\";\n\nimport { haStyleDialog } from \"../../../../resources/styles\";\n\nimport \"../../components/hui-entity-editor\";\nimport \"./hui-view-editor\";\nimport { HomeAssistant } from \"../../../../types\";\nimport {\n  LovelaceViewConfig,\n  LovelaceCardConfig,\n} from \"../../../../data/lovelace\";\nimport { fireEvent } from \"../../../../common/dom/fire_event\";\nimport { EntitiesEditorEvent, ViewEditEvent } from \"../types\";\nimport { processEditorEntities } from \"../process-editor-entities\";\nimport { EntityConfig } from \"../../entity-rows/types\";\nimport { navigate } from \"../../../../common/navigate\";\nimport { Lovelace } from \"../../types\";\nimport { deleteView, addView, replaceView } from \"../config-util\";\n\n@customElement(\"hui-edit-view\")\nexport class HuiEditView extends LitElement {\n  @property() public lovelace?: Lovelace;\n\n  @property() public viewIndex?: number;\n\n  @property() public hass?: HomeAssistant;\n\n  @property() private _config?: LovelaceViewConfig;\n\n  @property() private _badges?: EntityConfig[];\n\n  @property() private _cards?: LovelaceCardConfig[];\n\n  @property() private _saving: boolean;\n\n  @property() private _curTab?: string;\n\n  private _curTabIndex: number;\n\n  public constructor() {\n    super();\n    this._saving = false;\n    this._curTabIndex = 0;\n  }\n\n  public async showDialog(): Promise<void> {\n    // Wait till dialog is rendered.\n    if (this._dialog == null) {\n      await this.updateComplete;\n    }\n\n    if (this.viewIndex === undefined) {\n      this._config = {};\n      this._badges = [];\n      this._cards = [];\n    } else {\n      const { cards, badges, ...viewConfig } = this.lovelace!.config.views[\n        this.viewIndex\n      ];\n      this._config = viewConfig;\n      this._badges = badges ? processEditorEntities(badges) : [];\n      this._cards = cards;\n    }\n\n    this._dialog.open();\n  }\n\n  private get _dialog(): HaPaperDialog {\n    return this.shadowRoot!.querySelector(\"ha-paper-dialog\")!;\n  }\n\n  protected render(): TemplateResult | void {\n    let content;\n    switch (this._curTab) {\n      case \"tab-settings\":\n        content = html`\n          <hui-view-editor\n            .isNew=${this.viewIndex === undefined}\n            .hass=\"${this.hass}\"\n            .config=\"${this._config}\"\n            @view-config-changed=\"${this._viewConfigChanged}\"\n          ></hui-view-editor>\n        `;\n        break;\n      case \"tab-badges\":\n        content = html`\n          <hui-entity-editor\n            .hass=\"${this.hass}\"\n            .entities=\"${this._badges}\"\n            @entities-changed=\"${this._badgesChanged}\"\n          ></hui-entity-editor>\n        `;\n        break;\n      case \"tab-cards\":\n        content = html`\n          Cards\n        `;\n        break;\n    }\n    return html`\n      <ha-paper-dialog with-backdrop>\n        <h2>\n          ${this.hass!.localize(\"ui.panel.lovelace.editor.edit_view.header\")}\n        </h2>\n        <paper-tabs\n          scrollable\n          hide-scroll-buttons\n          .selected=\"${this._curTabIndex}\"\n          @selected-item-changed=\"${this._handleTabSelected}\"\n        >\n          <paper-tab id=\"tab-settings\">Settings</paper-tab>\n          <paper-tab id=\"tab-badges\">Badges</paper-tab>\n        </paper-tabs>\n        <paper-dialog-scrollable> ${content} </paper-dialog-scrollable>\n        <div class=\"paper-dialog-buttons\">\n          ${this.viewIndex !== undefined\n            ? html`\n                <paper-icon-button\n                  class=\"delete\"\n                  title=\"Delete\"\n                  icon=\"hass:delete\"\n                  @click=\"${this._delete}\"\n                ></paper-icon-button>\n              `\n            : \"\"}\n          <mwc-button @click=\"${this._closeDialog}\"\n            >${this.hass!.localize(\"ui.common.cancel\")}</mwc-button\n          >\n          <mwc-button\n            ?disabled=\"${!this._config || this._saving}\"\n            @click=\"${this._save}\"\n          >\n            <paper-spinner\n              ?active=\"${this._saving}\"\n              alt=\"Saving\"\n            ></paper-spinner>\n            ${this.hass!.localize(\"ui.common.save\")}</mwc-button\n          >\n        </div>\n      </ha-paper-dialog>\n    `;\n  }\n\n  private async _delete(): Promise<void> {\n    if (this._cards && this._cards.length > 0) {\n      alert(\n        \"You can't delete a view that has cards in it. Remove the cards first.\"\n      );\n      return;\n    }\n\n    if (!confirm(\"Are you sure you want to delete this view?\")) {\n      return;\n    }\n\n    try {\n      await this.lovelace!.saveConfig(\n        deleteView(this.lovelace!.config, this.viewIndex!)\n      );\n      this._closeDialog();\n      navigate(this, `/lovelace/0`);\n    } catch (err) {\n      alert(`Deleting failed: ${err.message}`);\n    }\n  }\n\n  private async _resizeDialog(): Promise<void> {\n    await this.updateComplete;\n    fireEvent(this._dialog as HTMLElement, \"iron-resize\");\n  }\n\n  private _closeDialog(): void {\n    this._curTabIndex = 0;\n    this.lovelace = undefined;\n    this._config = {};\n    this._badges = [];\n    this._dialog.close();\n  }\n\n  private _handleTabSelected(ev: CustomEvent): void {\n    if (!ev.detail.value) {\n      return;\n    }\n    this._curTab = ev.detail.value.id;\n    this._resizeDialog();\n  }\n\n  private async _save(): Promise<void> {\n    if (!this._config) {\n      return;\n    }\n    if (!this._isConfigChanged()) {\n      this._closeDialog();\n      return;\n    }\n\n    this._saving = true;\n\n    const viewConf: LovelaceViewConfig = {\n      cards: this._cards,\n      badges: this._badges!.map((entityConf) => entityConf.entity),\n      ...this._config,\n    };\n\n    const lovelace = this.lovelace!;\n\n    try {\n      await lovelace.saveConfig(\n        this._creatingView\n          ? addView(lovelace.config, viewConf)\n          : replaceView(lovelace.config, this.viewIndex!, viewConf)\n      );\n      this._closeDialog();\n    } catch (err) {\n      alert(`Saving failed: ${err.message}`);\n    } finally {\n      this._saving = false;\n    }\n  }\n\n  private _viewConfigChanged(ev: ViewEditEvent): void {\n    if (ev.detail && ev.detail.config) {\n      this._config = ev.detail.config;\n    }\n  }\n\n  private _badgesChanged(ev: EntitiesEditorEvent): void {\n    if (!this._badges || !this.hass || !ev.detail || !ev.detail.entities) {\n      return;\n    }\n    this._badges = ev.detail.entities;\n  }\n\n  private _isConfigChanged(): boolean {\n    return (\n      this._creatingView ||\n      JSON.stringify(this._config) !==\n        JSON.stringify(this.lovelace!.config.views[this.viewIndex!])\n    );\n  }\n\n  private get _creatingView(): boolean {\n    return this.viewIndex === undefined;\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      haStyleDialog,\n      css`\n        @media all and (max-width: 450px), all and (max-height: 500px) {\n          /* overrule the ha-style-dialog max-height on small screens */\n          ha-paper-dialog {\n            max-height: 100%;\n            height: 100%;\n          }\n        }\n        @media all and (min-width: 660px) {\n          ha-paper-dialog {\n            width: 650px;\n          }\n        }\n        ha-paper-dialog {\n          max-width: 650px;\n        }\n        paper-tabs {\n          --paper-tabs-selection-bar-color: var(--primary-color);\n          text-transform: uppercase;\n          border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n        }\n        mwc-button paper-spinner {\n          width: 14px;\n          height: 14px;\n          margin-right: 20px;\n        }\n        paper-icon-button.delete {\n          margin-right: auto;\n          color: var(--secondary-text-color);\n        }\n        paper-spinner {\n          display: none;\n        }\n        paper-spinner[active] {\n          display: block;\n        }\n        .hidden {\n          display: none;\n        }\n        .error {\n          color: #ef5350;\n          border-bottom: 1px solid #ef5350;\n        }\n      </style>\n    `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hui-edit-view\": HuiEditView;\n  }\n}\n","import {\n  html,\n  LitElement,\n  TemplateResult,\n  customElement,\n  property,\n} from \"lit-element\";\n\nimport { HomeAssistant } from \"../../../../types\";\nimport { HASSDomEvent } from \"../../../../common/dom/fire_event\";\nimport \"./hui-edit-view\";\nimport { EditViewDialogParams } from \"./show-edit-view-dialog\";\n\ndeclare global {\n  // for fire event\n  interface HASSDomEvents {\n    \"reload-lovelace\": undefined;\n  }\n  // for add event listener\n  interface HTMLElementEventMap {\n    \"reload-lovelace\": HASSDomEvent<undefined>;\n  }\n}\n\n@customElement(\"hui-dialog-edit-view\")\nexport class HuiDialogEditView extends LitElement {\n  @property() protected hass?: HomeAssistant;\n\n  @property() private _params?: EditViewDialogParams;\n\n  public async showDialog(params: EditViewDialogParams): Promise<void> {\n    this._params = params;\n    await this.updateComplete;\n    (this.shadowRoot!.children[0] as any).showDialog();\n  }\n\n  protected render(): TemplateResult | void {\n    if (!this._params) {\n      return html``;\n    }\n    return html`\n      <hui-edit-view\n        .hass=\"${this.hass}\"\n        .lovelace=\"${this._params.lovelace}\"\n        .viewIndex=\"${this._params.viewIndex}\"\n      >\n      </hui-edit-view>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hui-dialog-edit-view\": HuiDialogEditView;\n  }\n}\n"],"sourceRoot":""}