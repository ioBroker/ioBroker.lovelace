export const __webpack_ids__=["92127"];export const __webpack_modules__={17803:function(e,t,i){i.d(t,{I:()=>a});const a=(e,t,i,a)=>{const[o,n,r]=e.split(".",3);return Number(o)>t||Number(o)===t&&(void 0===a?Number(n)>=i:Number(n)>i)||void 0!==a&&Number(o)===t&&Number(n)===i&&Number(r)>=a}},92091:function(e,t,i){function a(e){return!!e&&(e instanceof Date&&!isNaN(e.valueOf()))}i.d(t,{Z:()=>a})},46467:function(e,t,i){i.a(e,(async function(e,a){try{i.d(t,{D_:()=>w,NC:()=>k,Nh:()=>b,U8:()=>C,WB:()=>p,mn:()=>u,p6:()=>l,ud:()=>f,yQ:()=>_});i(9359),i(1331);var o=i(16485),n=i(27486),r=i(20382),s=i(11104),d=e([o,s]);[o,s]=d.then?(await d)():d;(0,n.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"long",month:"long",day:"numeric",timeZone:(0,s.f)(e.time_zone,t)})));const l=(e,t,i)=>c(t,i.time_zone).format(e),c=(0,n.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric",timeZone:(0,s.f)(e.time_zone,t)}))),u=(e,t,i)=>h(t,i.time_zone).format(e),h=(0,n.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"short",day:"numeric",timeZone:(0,s.f)(e.time_zone,t)}))),p=(e,t,i)=>{const a=m(t,i.time_zone);if(t.date_format===r.t6.language||t.date_format===r.t6.system)return a.format(e);const o=a.formatToParts(e),n=o.find((e=>"literal"===e.type))?.value,s=o.find((e=>"day"===e.type))?.value,d=o.find((e=>"month"===e.type))?.value,l=o.find((e=>"year"===e.type))?.value,c=o.at(o.length-1);let u="literal"===c?.type?c?.value:"";"bg"===t.language&&t.date_format===r.t6.YMD&&(u="");return{[r.t6.DMY]:`${s}${n}${d}${n}${l}${u}`,[r.t6.MDY]:`${d}${n}${s}${n}${l}${u}`,[r.t6.YMD]:`${l}${n}${d}${n}${s}${u}`}[t.date_format]},m=(0,n.Z)(((e,t)=>{const i=e.date_format===r.t6.system?void 0:e.language;return e.date_format===r.t6.language||(e.date_format,r.t6.system),new Intl.DateTimeFormat(i,{year:"numeric",month:"numeric",day:"numeric",timeZone:(0,s.f)(e.time_zone,t)})})),f=(e,t,i)=>g(t,i.time_zone).format(e),g=(0,n.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{day:"numeric",month:"short",timeZone:(0,s.f)(e.time_zone,t)}))),k=(e,t,i)=>y(t,i.time_zone).format(e),y=(0,n.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{month:"long",year:"numeric",timeZone:(0,s.f)(e.time_zone,t)}))),b=(e,t,i)=>v(t,i.time_zone).format(e),v=(0,n.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{month:"long",timeZone:(0,s.f)(e.time_zone,t)}))),_=(e,t,i)=>x(t,i.time_zone).format(e),x=(0,n.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",timeZone:(0,s.f)(e.time_zone,t)}))),w=(e,t,i)=>$(t,i.time_zone).format(e),$=(0,n.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"long",timeZone:(0,s.f)(e.time_zone,t)}))),C=(e,t,i)=>z(t,i.time_zone).format(e),z=(0,n.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"short",timeZone:(0,s.f)(e.time_zone,t)})));a()}catch(e){a(e)}}))},64214:function(e,t,i){i.a(e,(async function(e,a){try{i.d(t,{DG:()=>f,E8:()=>b,W0:()=>p,o0:()=>u,yD:()=>k});var o=i(16485),n=i(27486),r=i(46467),s=i(33570),d=i(11104),l=i(16922),c=e([o,r,s,d]);[o,r,s,d]=c.then?(await c)():c;const u=(e,t,i)=>h(t,i.time_zone).format(e),h=(0,n.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric",hour:(0,l.y)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,l.y)(e)?"h12":"h23",timeZone:(0,d.f)(e.time_zone,t)}))),p=e=>m().format(e),m=(0,n.Z)((()=>new Intl.DateTimeFormat(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}))),f=(e,t,i)=>g(t,i.time_zone).format(e),g=(0,n.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"short",day:"numeric",hour:(0,l.y)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,l.y)(e)?"h12":"h23",timeZone:(0,d.f)(e.time_zone,t)}))),k=(e,t,i)=>y(t,i.time_zone).format(e),y=(0,n.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{month:"short",day:"numeric",hour:(0,l.y)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,l.y)(e)?"h12":"h23",timeZone:(0,d.f)(e.time_zone,t)}))),b=(e,t,i)=>v(t,i.time_zone).format(e),v=(0,n.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric",hour:(0,l.y)(e)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:(0,l.y)(e)?"h12":"h23",timeZone:(0,d.f)(e.time_zone,t)})));a()}catch(e){a(e)}}))},33570:function(e,t,i){i.a(e,(async function(e,a){try{i.d(t,{Vu:()=>u,Zs:()=>f,mr:()=>l,xO:()=>p});var o=i(16485),n=i(27486),r=i(11104),s=i(16922),d=e([o,r]);[o,r]=d.then?(await d)():d;const l=(e,t,i)=>c(t,i.time_zone).format(e),c=(0,n.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{hour:"numeric",minute:"2-digit",hourCycle:(0,s.y)(e)?"h12":"h23",timeZone:(0,r.f)(e.time_zone,t)}))),u=(e,t,i)=>h(t,i.time_zone).format(e),h=(0,n.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{hour:(0,s.y)(e)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:(0,s.y)(e)?"h12":"h23",timeZone:(0,r.f)(e.time_zone,t)}))),p=(e,t,i)=>m(t,i.time_zone).format(e),m=(0,n.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"long",hour:(0,s.y)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,s.y)(e)?"h12":"h23",timeZone:(0,r.f)(e.time_zone,t)}))),f=(e,t,i)=>g(t,i.time_zone).format(e),g=(0,n.Z)(((e,t)=>new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"2-digit",hour12:!1,timeZone:(0,r.f)(e.time_zone,t)})));a()}catch(e){a(e)}}))},11104:function(e,t,i){i.a(e,(async function(e,a){try{i.d(t,{Q:()=>d,f:()=>l});var o=i(16485),n=i(20382),r=e([o]);o=(r.then?(await r)():r)[0];const s=Intl.DateTimeFormat?.().resolvedOptions?.().timeZone,d=s??"UTC",l=(e,t)=>e===n.c_.local&&s?d:t;a()}catch(e){a(e)}}))},16922:function(e,t,i){i.d(t,{y:()=>n});var a=i(27486),o=i(20382);const n=(0,a.Z)((e=>{if(e.time_format===o.zt.language||e.time_format===o.zt.system){const t=e.time_format===o.zt.language?e.language:void 0;return new Date("January 1, 2023 22:00:00").toLocaleString(t).includes("10")}return e.time_format===o.zt.am_pm}))},68958:function(e,t,i){i.d(t,{t:()=>n});i(92745),i(9359),i(31526),i(88972);class a{constructor(e=window.localStorage){this.storage=void 0,this._storage={},this._listeners={},this.storage=e,e===window.localStorage&&window.addEventListener("storage",(e=>{e.key&&this.hasKey(e.key)&&(this._storage[e.key]=e.newValue?JSON.parse(e.newValue):e.newValue,this._listeners[e.key]&&this._listeners[e.key].forEach((t=>t(e.oldValue?JSON.parse(e.oldValue):e.oldValue,this._storage[e.key]))))}))}addFromStorage(e){if(!this._storage[e]){const t=this.storage.getItem(e);t&&(this._storage[e]=JSON.parse(t))}}subscribeChanges(e,t){return this._listeners[e]?this._listeners[e].push(t):this._listeners[e]=[t],()=>{this.unsubscribeChanges(e,t)}}unsubscribeChanges(e,t){if(!(e in this._listeners))return;const i=this._listeners[e].indexOf(t);-1!==i&&this._listeners[e].splice(i,1)}hasKey(e){return e in this._storage}getValue(e){return this._storage[e]}setValue(e,t){const i=this._storage[e];this._storage[e]=t;try{void 0===t?this.storage.removeItem(e):this.storage.setItem(e,JSON.stringify(t))}catch(e){}finally{this._listeners[e]&&this._listeners[e].forEach((e=>e(i,t)))}}}const o={},n=e=>t=>{const i=e.storage||"localStorage";let n;i&&i in o?n=o[i]:(n=new a(window[i]),o[i]=n);const r=String(t.key),s=e.key||String(t.key),d=t.initializer?t.initializer():void 0;n.addFromStorage(s);const l=!1!==e.subscribe?e=>n.subscribeChanges(s,((i,a)=>{e.requestUpdate(t.key,i)})):void 0,c=()=>n.hasKey(s)?e.deserializer?e.deserializer(n.getValue(s)):n.getValue(s):d;return{kind:"method",placement:"prototype",key:t.key,descriptor:{set(i){((i,a)=>{let o;e.state&&(o=c()),n.setValue(s,e.serializer?e.serializer(a):a),e.state&&i.requestUpdate(t.key,o)})(this,i)},get:()=>c(),enumerable:!0,configurable:!0},finisher(i){if(e.state&&e.subscribe){const e=i.prototype.connectedCallback,t=i.prototype.disconnectedCallback;i.prototype.connectedCallback=function(){e.call(this),this[`__unbsubLocalStorage${r}`]=l?.(this)},i.prototype.disconnectedCallback=function(){t.call(this),this[`__unbsubLocalStorage${r}`]?.(),this[`__unbsubLocalStorage${r}`]=void 0}}e.state&&i.createProperty(t.key,{noAccessor:!0,...e.stateOptions})}}}},87733:function(e,t,i){i.d(t,{f:()=>a});const a=e=>e.charAt(0).toUpperCase()+e.slice(1)},29095:function(e,t,i){i.a(e,(async function(e,t){try{var a=i(44249),o=i(57243),n=i(15093),r=(i(59826),i(17170)),s=(i(37583),e([r]));r=(s.then?(await s)():s)[0];const d="M2.2,16.06L3.88,12L2.2,7.94L6.26,6.26L7.94,2.2L12,3.88L16.06,2.2L17.74,6.26L21.8,7.94L20.12,12L21.8,16.06L17.74,17.74L16.06,21.8L12,20.12L7.94,21.8L6.26,17.74L2.2,16.06M13,17V15H11V17H13M13,13V7H11V13H13Z",l="M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z";(0,a.Z)([(0,n.Mo)("ha-progress-button")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,n.Cb)()],key:"label",value:void 0},{kind:"field",decorators:[(0,n.Cb)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,n.Cb)({type:Boolean})],key:"progress",value:()=>!1},{kind:"field",decorators:[(0,n.Cb)({type:Boolean})],key:"raised",value:()=>!1},{kind:"field",decorators:[(0,n.Cb)({type:Boolean})],key:"unelevated",value:()=>!1},{kind:"field",decorators:[(0,n.SB)()],key:"_result",value:void 0},{kind:"method",key:"render",value:function(){const e=this._result||this.progress;return o.dy` <ha-button .raised="${this.raised}" .label="${this.label}" .unelevated="${this.unelevated}" .disabled="${this.disabled||this.progress}" class="${this._result||""}"> <slot name="icon" slot="icon"></slot> <slot></slot> </ha-button> ${e?o.dy` <div class="progress"> ${"success"===this._result?o.dy`<ha-svg-icon .path="${l}"></ha-svg-icon>`:"error"===this._result?o.dy`<ha-svg-icon .path="${d}"></ha-svg-icon>`:this.progress?o.dy`<ha-spinner size="small"></ha-spinner>`:o.Ld} </div> `:o.Ld} `}},{kind:"method",key:"actionSuccess",value:function(){this._setResult("success")}},{kind:"method",key:"actionError",value:function(){this._setResult("error")}},{kind:"method",key:"_setResult",value:function(e){this._result=e,setTimeout((()=>{this._result=void 0}),2e3)}},{kind:"field",static:!0,key:"styles",value:()=>o.iv`:host{outline:0;display:inline-block;position:relative;pointer-events:none}ha-button{transition:all 1s;pointer-events:initial}ha-button.success{--mdc-theme-primary:white;background-color:var(--success-color);transition:none;border-radius:4px;pointer-events:none}ha-button[raised].success,ha-button[unelevated].success{--mdc-theme-primary:var(--success-color);--mdc-theme-on-primary:white}ha-button.error{--mdc-theme-primary:white;background-color:var(--error-color);transition:none;border-radius:4px;pointer-events:none}ha-button[raised].error,ha-button[unelevated].error{--mdc-theme-primary:var(--error-color);--mdc-theme-on-primary:white}.progress{bottom:4px;position:absolute;text-align:center;top:4px;width:100%}ha-svg-icon{color:#fff}ha-button.error slot,ha-button.success slot{visibility:hidden}:host([destructive]){--mdc-theme-primary:var(--error-color)}`}]}}),o.oi);t()}catch(e){t(e)}}))},83456:function(e,t,i){var a=i(44249),o=i(92444),n=i(76688),r=i(57243),s=i(15093);(0,a.Z)([(0,s.Mo)("ha-checkbox")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",static:!0,key:"styles",value:()=>[n.W,r.iv`:host{--mdc-theme-secondary:var(--primary-color)}`]}]}}),o.A)},55486:function(e,t,i){var a=i(44249),o=i(4918),n=i(6394),r=i(57243),s=i(15093),d=i(35359),l=i(36522);(0,a.Z)([(0,s.Mo)("ha-formfield")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.Cb)({type:Boolean,reflect:!0})],key:"disabled",value:()=>!1},{kind:"method",key:"render",value:function(){const e={"mdc-form-field--align-end":this.alignEnd,"mdc-form-field--space-between":this.spaceBetween,"mdc-form-field--nowrap":this.nowrap};return r.dy` <div class="mdc-form-field ${(0,d.$)(e)}"> <slot></slot> <label class="mdc-label" @click="${this._labelClick}"> <slot name="label">${this.label}</slot> </label> </div>`}},{kind:"method",key:"_labelClick",value:function(){const e=this.input;if(e&&(e.focus(),!e.disabled))switch(e.tagName){case"HA-CHECKBOX":e.checked=!e.checked,(0,l.B)(e,"change");break;case"HA-RADIO":e.checked=!0,(0,l.B)(e,"change");break;default:e.click()}}},{kind:"field",static:!0,key:"styles",value:()=>[n.W,r.iv`:host(:not([alignEnd])) ::slotted(ha-switch){margin-right:10px;margin-inline-end:10px;margin-inline-start:inline}.mdc-form-field{align-items:var(--ha-formfield-align-items,center);gap:4px}.mdc-form-field>label{direction:var(--direction);margin-inline-start:0;margin-inline-end:auto;padding:0}:host([disabled]) label{color:var(--disabled-text-color)}`]}]}}),o.a)},54202:function(e,t,i){i.r(t),i.d(t,{HaIconButtonArrowPrev:()=>s});var a=i(44249),o=i(57243),n=i(15093),r=i(5111);i(23334);let s=(0,a.Z)([(0,n.Mo)("ha-icon-button-arrow-prev")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,n.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.Cb)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,n.Cb)()],key:"label",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_icon",value:()=>"rtl"===r.E.document.dir?"M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z":"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"},{kind:"method",key:"render",value:function(){return o.dy` <ha-icon-button .disabled="${this.disabled}" .label="${this.label||this.hass?.localize("ui.common.back")||"Back"}" .path="${this._icon}"></ha-icon-button> `}}]}}),o.oi)},34326:function(e,t,i){var a=i(44249),o=i(57243),n=i(15093);i(23334),i(83166);(0,a.Z)([(0,n.Mo)("ha-password-field")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,n.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.Cb)({type:Boolean})],key:"invalid",value:void 0},{kind:"field",decorators:[(0,n.Cb)({attribute:"error-message"})],key:"errorMessage",value:void 0},{kind:"field",decorators:[(0,n.Cb)({type:Boolean})],key:"icon",value:()=>!1},{kind:"field",decorators:[(0,n.Cb)({type:Boolean})],key:"iconTrailing",value:()=>!1},{kind:"field",decorators:[(0,n.Cb)()],key:"autocomplete",value:void 0},{kind:"field",decorators:[(0,n.Cb)()],key:"autocorrect",value:void 0},{kind:"field",decorators:[(0,n.Cb)({attribute:"input-spellcheck"})],key:"inputSpellcheck",value:void 0},{kind:"field",decorators:[(0,n.Cb)({type:String})],key:"value",value:()=>""},{kind:"field",decorators:[(0,n.Cb)({type:String})],key:"placeholder",value:()=>""},{kind:"field",decorators:[(0,n.Cb)({type:String})],key:"label",value:()=>""},{kind:"field",decorators:[(0,n.Cb)({type:Boolean,reflect:!0})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,n.Cb)({type:Boolean})],key:"required",value:()=>!1},{kind:"field",decorators:[(0,n.Cb)({type:Number})],key:"minLength",value:()=>-1},{kind:"field",decorators:[(0,n.Cb)({type:Number})],key:"maxLength",value:()=>-1},{kind:"field",decorators:[(0,n.Cb)({type:Boolean,reflect:!0})],key:"outlined",value:()=>!1},{kind:"field",decorators:[(0,n.Cb)({type:String})],key:"helper",value:()=>""},{kind:"field",decorators:[(0,n.Cb)({type:Boolean})],key:"validateOnInitialRender",value:()=>!1},{kind:"field",decorators:[(0,n.Cb)({type:String})],key:"validationMessage",value:()=>""},{kind:"field",decorators:[(0,n.Cb)({type:Boolean})],key:"autoValidate",value:()=>!1},{kind:"field",decorators:[(0,n.Cb)({type:String})],key:"pattern",value:()=>""},{kind:"field",decorators:[(0,n.Cb)({type:Number})],key:"size",value:()=>null},{kind:"field",decorators:[(0,n.Cb)({type:Boolean})],key:"helperPersistent",value:()=>!1},{kind:"field",decorators:[(0,n.Cb)({type:Boolean})],key:"charCounter",value:()=>!1},{kind:"field",decorators:[(0,n.Cb)({type:Boolean})],key:"endAligned",value:()=>!1},{kind:"field",decorators:[(0,n.Cb)({type:String})],key:"prefix",value:()=>""},{kind:"field",decorators:[(0,n.Cb)({type:String})],key:"suffix",value:()=>""},{kind:"field",decorators:[(0,n.Cb)({type:String})],key:"name",value:()=>""},{kind:"field",decorators:[(0,n.Cb)({type:String,attribute:"input-mode"})],key:"inputMode",value:void 0},{kind:"field",decorators:[(0,n.Cb)({type:Boolean})],key:"readOnly",value:()=>!1},{kind:"field",decorators:[(0,n.Cb)({attribute:!1,type:String})],key:"autocapitalize",value:()=>""},{kind:"field",decorators:[(0,n.SB)()],key:"_unmaskedPassword",value:()=>!1},{kind:"field",decorators:[(0,n.IO)("ha-textfield")],key:"_textField",value:void 0},{kind:"method",key:"render",value:function(){return o.dy`<ha-textfield .invalid="${this.invalid}" .errorMessage="${this.errorMessage}" .icon="${this.icon}" .iconTrailing="${this.iconTrailing}" .autocomplete="${this.autocomplete}" .autocorrect="${this.autocorrect}" .inputSpellcheck="${this.inputSpellcheck}" .value="${this.value}" .placeholder="${this.placeholder}" .label="${this.label}" .disabled="${this.disabled}" .required="${this.required}" .minLength="${this.minLength}" .maxLength="${this.maxLength}" .outlined="${this.outlined}" .helper="${this.helper}" .validateOnInitialRender="${this.validateOnInitialRender}" .validationMessage="${this.validationMessage}" .autoValidate="${this.autoValidate}" .pattern="${this.pattern}" .size="${this.size}" .helperPersistent="${this.helperPersistent}" .charCounter="${this.charCounter}" .endAligned="${this.endAligned}" .prefix="${this.prefix}" .name="${this.name}" .inputMode="${this.inputMode}" .readOnly="${this.readOnly}" .autocapitalize="${this.autocapitalize}" .type="${this._unmaskedPassword?"text":"password"}" .suffix="${o.dy`<div style="width:24px"></div>`}" @input="${this._handleInputEvent}" @change="${this._handleChangeEvent}"></ha-textfield> <ha-icon-button .label="${this.hass?.localize(this._unmaskedPassword?"ui.components.selectors.text.hide_password":"ui.components.selectors.text.show_password")||(this._unmaskedPassword?"Hide password":"Show password")}" @click="${this._toggleUnmaskedPassword}" .path="${this._unmaskedPassword?"M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z":"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"}"></ha-icon-button>`}},{kind:"method",key:"focus",value:function(){this._textField.focus()}},{kind:"method",key:"checkValidity",value:function(){return this._textField.checkValidity()}},{kind:"method",key:"reportValidity",value:function(){return this._textField.reportValidity()}},{kind:"method",key:"setCustomValidity",value:function(e){return this._textField.setCustomValidity(e)}},{kind:"method",key:"layout",value:function(){return this._textField.layout()}},{kind:"method",key:"_toggleUnmaskedPassword",value:function(){this._unmaskedPassword=!this._unmaskedPassword}},{kind:"method",decorators:[(0,n.hO)({passive:!0})],key:"_handleInputEvent",value:function(e){this.value=e.target.value}},{kind:"method",decorators:[(0,n.hO)({passive:!0})],key:"_handleChangeEvent",value:function(e){this.value=e.target.value,this._reDispatchEvent(e)}},{kind:"method",key:"_reDispatchEvent",value:function(e){const t=new Event(e.type,e);this.dispatchEvent(t)}},{kind:"field",static:!0,key:"styles",value:()=>o.iv`:host{display:block;position:relative}ha-textfield{width:100%}ha-icon-button{position:absolute;top:8px;right:8px;inset-inline-start:initial;inset-inline-end:8px;--mdc-icon-button-size:40px;--mdc-icon-size:20px;color:var(--secondary-text-color);direction:var(--direction)}`}]}}),o.oi)},17170:function(e,t,i){i.a(e,(async function(e,t){try{var a=i(44249),o=i(72621),n=i(97677),r=i(43580),s=i(57243),d=i(15093),l=e([n]);n=(l.then?(await l)():l)[0];(0,a.Z)([(0,d.Mo)("ha-spinner")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,d.Cb)()],key:"size",value:void 0},{kind:"method",key:"updated",value:function(e){if((0,o.Z)(i,"updated",this,3)([e]),e.has("size"))switch(this.size){case"tiny":this.style.setProperty("--ha-spinner-size","16px");break;case"small":this.style.setProperty("--ha-spinner-size","28px");break;case"medium":this.style.setProperty("--ha-spinner-size","48px");break;case"large":this.style.setProperty("--ha-spinner-size","68px");break;case void 0:this.style.removeProperty("--ha-progress-ring-size")}}},{kind:"field",static:!0,key:"styles",value:()=>[r.Z,s.iv`:host{--indicator-color:var(
          --ha-spinner-indicator-color,
          var(--primary-color)
        );--track-color:var(--ha-spinner-divider-color, var(--divider-color));--track-width:4px;--speed:3.5s;font-size:var(--ha-spinner-size, 48px)}`]}]}}),n.Z);t()}catch(e){t(e)}}))},83166:function(e,t,i){var a=i(44249),o=i(72621),n=i(1105),r=i(33990),s=i(57243),d=i(15093),l=i(5111);(0,a.Z)([(0,d.Mo)("ha-textfield")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,d.Cb)({type:Boolean})],key:"invalid",value:void 0},{kind:"field",decorators:[(0,d.Cb)({attribute:"error-message"})],key:"errorMessage",value:void 0},{kind:"field",decorators:[(0,d.Cb)({type:Boolean})],key:"icon",value:()=>!1},{kind:"field",decorators:[(0,d.Cb)({type:Boolean})],key:"iconTrailing",value:()=>!1},{kind:"field",decorators:[(0,d.Cb)()],key:"autocomplete",value:void 0},{kind:"field",decorators:[(0,d.Cb)()],key:"autocorrect",value:void 0},{kind:"field",decorators:[(0,d.Cb)({attribute:"input-spellcheck"})],key:"inputSpellcheck",value:void 0},{kind:"field",decorators:[(0,d.IO)("input")],key:"formElement",value:void 0},{kind:"method",key:"updated",value:function(e){(0,o.Z)(i,"updated",this,3)([e]),(e.has("invalid")||e.has("errorMessage"))&&(this.setCustomValidity(this.invalid?this.errorMessage||this.validationMessage||"Invalid":""),(this.invalid||this.validateOnInitialRender||e.has("invalid")&&void 0!==e.get("invalid"))&&this.reportValidity()),e.has("autocomplete")&&(this.autocomplete?this.formElement.setAttribute("autocomplete",this.autocomplete):this.formElement.removeAttribute("autocomplete")),e.has("autocorrect")&&(this.autocorrect?this.formElement.setAttribute("autocorrect",this.autocorrect):this.formElement.removeAttribute("autocorrect")),e.has("inputSpellcheck")&&(this.inputSpellcheck?this.formElement.setAttribute("spellcheck",this.inputSpellcheck):this.formElement.removeAttribute("spellcheck"))}},{kind:"method",key:"renderIcon",value:function(e,t=!1){const i=t?"trailing":"leading";return s.dy` <span class="mdc-text-field__icon mdc-text-field__icon--${i}" tabindex="${t?1:-1}"> <slot name="${i}Icon"></slot> </span> `}},{kind:"field",static:!0,key:"styles",value:()=>[r.W,s.iv`.mdc-text-field__input{width:var(--ha-textfield-input-width,100%)}.mdc-text-field:not(.mdc-text-field--with-leading-icon){padding:var(--text-field-padding,0px 16px)}.mdc-text-field__affix--suffix{padding-left:var(--text-field-suffix-padding-left,12px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,12px);padding-inline-end:var(--text-field-suffix-padding-right,0px);direction:ltr}.mdc-text-field--with-leading-icon{padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,16px);direction:var(--direction)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:var(--text-field-suffix-padding-left,0px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,0px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:var(--secondary-text-color)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon{color:var(--secondary-text-color)}.mdc-text-field__icon--leading{margin-inline-start:16px;margin-inline-end:8px;direction:var(--direction)}.mdc-text-field__icon--trailing{padding:var(--textfield-icon-trailing-padding,12px)}.mdc-floating-label:not(.mdc-floating-label--float-above){text-overflow:ellipsis;width:inherit;padding-right:30px;padding-inline-end:30px;padding-inline-start:initial;box-sizing:border-box;direction:var(--direction)}input{text-align:var(--text-field-text-align,start)}input[type=color]{height:20px}::-ms-reveal{display:none}:host([no-spinner]) input::-webkit-inner-spin-button,:host([no-spinner]) input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=color]::-webkit-color-swatch-wrapper{padding:0}:host([no-spinner]) input[type=number]{-moz-appearance:textfield}.mdc-text-field__ripple{overflow:hidden}.mdc-text-field{overflow:var(--text-field-overflow)}.mdc-floating-label{inset-inline-start:16px!important;inset-inline-end:initial!important;transform-origin:var(--float-start);direction:var(--direction);text-align:var(--float-start)}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px - var(--text-field-suffix-padding-left,0px));inset-inline-start:calc(48px + var(--text-field-suffix-padding-left,0px))!important;inset-inline-end:initial!important;direction:var(--direction)}.mdc-text-field__input[type=number]{direction:var(--direction)}.mdc-text-field__affix--prefix{padding-right:var(--text-field-prefix-padding-right,2px);padding-inline-end:var(--text-field-prefix-padding-right,2px);padding-inline-start:initial}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:var(--mdc-text-field-label-ink-color)}#helper-text ha-markdown{display:inline-block}`,"rtl"===l.E.document.dir?s.iv`.mdc-floating-label,.mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field__icon--leading,.mdc-text-field__input[type=number]{direction:rtl;--direction:rtl}`:s.iv``]}]}}),n.P)},26779:function(e,t,i){i.a(e,(async function(e,a){try{i.d(t,{$u:()=>g,Kn:()=>f,LG:()=>h,OT:()=>p,U0:()=>x,UR:()=>m});i(26200),i(25754),i(22246),i(9359),i(56475),i(1331),i(31526),i(70104),i(71375),i(15524),i(20267),i(21917),i(56193),i(25020),i(86913),i(75656),i(50100),i(18084);var o=i(66952),n=i(55116),r=i(5423),s=i(27486),d=i(64214),l=i(33570),c=(i(58014),i(92091)),u=e([d,o,l]);[d,o,l]=u.then?(await u)():u;const h=e=>e.callWS({type:"backup/config/info"}),p=e=>{const t=e.find(k);if(t)return t;const i=e.find(y);return i||e[0]},m="backup.local",f="hassio.local",g="cloud.cloud",k=e=>[m,f].includes(e),y=e=>{const[t,i]=e.split(".");return"hassio"===t&&"local"!==i},b=["automatic","manual","addon_update"],v=((0,o.z)((e=>e?b:b.filter((e=>"addon_update"!==e)))),(0,n.H)((0,r.B)(new Date,4),45)),_=(0,n.H)((0,r.B)(new Date,5),45),x=((0,s.Z)(((e,t,i)=>{if((0,c.Z)(i))return(0,l.mr)(i,e,t);if("string"==typeof i&&i){const a=i.split(":"),o=(0,n.H)((0,r.B)(new Date,parseInt(a[0])),parseInt(a[1]));return(0,l.mr)(o,e,t)}return`${(0,l.mr)(v,e,t)} - ${(0,l.mr)(_,e,t)}`})),"application/x-tar");a()}catch(e){a(e)}}))},71562:function(e,t,i){i.d(t,{_n:()=>o,gC:()=>r,h8:()=>n});i(9359),i(31526),i(75656),i(50100),i(18084);var a=i(11257);const o=async()=>(0,a.h9)(fetch(`${location.protocol}//${location.host}/api/onboarding/backup/info`)),n=async e=>(0,a.h9)(fetch(`${location.protocol}//${location.host}/api/onboarding/backup/restore`,{method:"POST",body:JSON.stringify(e)})),r=async(e,t)=>{const i=new FormData;i.append("file",e);const o=new URLSearchParams;return t.forEach((e=>{o.append("agent_id",e)})),(0,a.h9)(fetch(`${location.protocol}//${location.host}/api/onboarding/backup/upload?${o.toString()}`,{method:"POST",body:i}))}},56785:function(e,t,i){i.d(t,{js:()=>o,rY:()=>a});i(92519),i(42179),i(89256),i(24931),i(88463),i(57449),i(19814);const a=e=>e.data,o=e=>"object"==typeof e?"object"==typeof e.body?e.body.message||"Unknown error, see supervisor logs":e.body||e.message||"Unknown error, see supervisor logs":e;new Set([502,503,504])},28728:function(e,t,i){i.a(e,(async function(e,a){try{i.r(t);var o=i(44249),n=i(72621),r=(i(9359),i(1331),i(57243)),s=i(15093),d=i(50519),l=(i(46461),i(21596),i(58776)),c=i(83523),u=i(17409),h=i(71562),p=i(26779),m=i(68958),f=i(37013),g=i(72473),k=e([d,p]);[d,p]=k.then?(await k)():k;const y=5e3;(0,o.Z)([(0,s.Mo)("onboarding-restore-backup")],(function(e,t){class a extends t{constructor(...t){super(...t),e(this)}}return{F:a,d:[{kind:"field",decorators:[(0,s.Cb)({attribute:!1})],key:"localize",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Boolean})],key:"supervisor",value:()=>!1},{kind:"field",decorators:[(0,s.Cb)()],key:"mode",value:void 0},{kind:"field",decorators:[(0,s.SB)()],key:"_view",value:()=>"loading"},{kind:"field",decorators:[(0,s.SB)()],key:"_backup",value:void 0},{kind:"field",decorators:[(0,s.SB)()],key:"_backupInfo",value:void 0},{kind:"field",decorators:[(0,s.SB)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,s.SB)()],key:"_failed",value:void 0},{kind:"field",decorators:[(0,s.SB)()],key:"_cloudStatus",value:void 0},{kind:"field",decorators:[(0,m.t)({key:"onboarding-restore-backup-backup-id"})],key:"_backupId",value:void 0},{kind:"field",decorators:[(0,m.t)({key:"onboarding-restore-running"})],key:"_restoreRunning",value:void 0},{kind:"method",key:"render",value:function(){return r.dy` ${"loading"===this._view?r.dy`<onboarding-loading></onboarding-loading>`:"upload"===this._view?r.dy` <onboarding-restore-backup-upload .supervisor="${this.supervisor}" .localize="${this.localize}" @backup-uploaded="${this._backupUploaded}"></onboarding-restore-backup-upload> `:"cloud_login"===this._view?r.dy` <onboarding-restore-backup-cloud-login .localize="${this.localize}" @ha-refresh-cloud-status="${this._showCloudBackup}"></onboarding-restore-backup-cloud-login> `:"empty_cloud"===this._view?r.dy` <onboarding-restore-backup-no-cloud-backup .localize="${this.localize}" @sign-out="${this._signOut}"></onboarding-restore-backup-no-cloud-backup> `:"restore"===this._view?r.dy`<onboarding-restore-backup-restore .mode="${this.mode}" .localize="${this.localize}" .backup="${this._backup}" .supervisor="${this.supervisor}" .error="${this._failed?this.localize("ui.panel.page-onboarding.restore."+("password_incorrect"===this._backupInfo?.last_action_event?.reason?"failed_wrong_password_description":"failed_description")):this._error}" @restore-started="${this._restoreStarted}" @restore-backup-back="${this._back}" @sign-out="${this._signOut}"></onboarding-restore-backup-restore>`:r.Ld} ${"status"===this._view&&this._backupInfo?r.dy`<onboarding-restore-backup-status .localize="${this.localize}" .backupInfo="${this._backupInfo}" @restore-backup-back="${this._back}"></onboarding-restore-backup-status>`:r.Ld} `}},{kind:"method",key:"firstUpdated",value:function(e){(0,n.Z)(a,"firstUpdated",this,3)([e]),"cloud"===this.mode?(Promise.all([i.e("91552"),i.e("78456"),i.e("56898"),i.e("35671"),i.e("8795"),i.e("71588"),i.e("92139"),i.e("7068"),i.e("45125"),i.e("88482"),i.e("89522"),i.e("18865"),i.e("88975"),i.e("52358"),i.e("79931"),i.e("44251"),i.e("65005"),i.e("60487"),i.e("3371"),i.e("92691"),i.e("38326"),i.e("10745"),i.e("16912"),i.e("70639"),i.e("92368"),i.e("29354"),i.e("8754"),i.e("29929")]).then(i.bind(i,61877)),i.e("30543").then(i.bind(i,28506))):i.e("19655").then(i.bind(i,75547)),this._loadBackupInfo()}},{kind:"method",key:"_loadBackupInfo",value:async function(){let e;try{e=await(0,h._n)()}catch(e){if(this._restoreRunning){if("Request error"===e.error||500===e.status_code&&"backup_disabled"===e.body?.error)return void this._scheduleLoadBackupInfo();if(404===e.status_code)return this._restoreRunning=void 0,this._backupId=void 0,void window.location.replace("/")}return this._error=e?.message||"Cannot get backup info",void("loading"===this._view&&(this._view="upload"))}const{last_action_event:t,state:i,backups:a}=e;if(this._backupInfo={state:i,last_action_event:t},"cloud"===this.mode){try{this._cloudStatus=await(0,f.Ey)()}catch(e){this._error=e?.message||"Cannot get ioBroker Cloud status"}if(this._cloudStatus?.logged_in&&!this._backupId){if(this._backup=a.find((({agents:e})=>Object.keys(e).includes(p.$u))),!this._backup)return void(this._view="empty_cloud");this._backupId=this._backup?.backup_id}}else this._backupId&&(this._backup=a.find((({backup_id:e})=>e===this._backupId)));const o="restore_backup"===t?.manager_state&&"failed"===t?.state;if(o&&(this._failed=!0),this._restoreRunning)return this._view="status",void(o||"restore_backup"!==i?(this._failed=!0,this._restoreRunning=void 0):this._scheduleLoadBackupInfo());this._backup?this._view="restore":"upload"===this.mode?this._view="upload":this._cloudStatus?.logged_in?this._view="empty_cloud":this._view="cloud_login"}},{kind:"method",key:"_showCloudBackup",value:function(){this._view="loading",this._loadBackupInfo()}},{kind:"method",key:"_scheduleLoadBackupInfo",value:function(){setTimeout((()=>this._loadBackupInfo()),y)}},{kind:"method",key:"_backupUploaded",value:async function(e){this._backupId=e.detail.backupId,await this._loadBackupInfo()}},{kind:"method",key:"_restoreStarted",value:async function(){this._backupInfo&&(this._backupInfo.state="restore_backup"),this._view="status",this._restoreRunning=!0,await this._loadBackupInfo()}},{kind:"method",key:"_signOut",value:async function(){this._view="loading",(0,g.C)(this,{id:"sign-out-ha-cloud",message:this.localize("ui.panel.page-onboarding.restore.ha-cloud.sign_out_progress")}),this._backupId=void 0,this._cloudStatus=void 0;try{await(0,f.He)(),(0,g.C)(this,{id:"sign-out-ha-cloud",message:this.localize("ui.panel.page-onboarding.restore.ha-cloud.sign_out_success")})}catch(e){console.error(e),(0,g.C)(this,{id:"sign-out-ha-cloud",message:this.localize("ui.panel.page-onboarding.restore.ha-cloud.sign_out_error")})}(0,c.c)(`${location.pathname}?${(0,l.pc)("page")}`)}},{kind:"method",key:"_back",value:async function(){this._view="loading",this._backup=void 0,this._backupId=void 0,"upload"===this.mode?this._view="upload":(0,c.c)(`${location.pathname}?${(0,l.pc)("page")}`)}},{kind:"field",static:!0,key:"styles",value:()=>[u.I,r.iv`:host{display:flex;flex-direction:column;position:relative}.logout{white-space:nowrap}`]}]}}),r.oi);a()}catch(e){a(e)}}))},50519:function(e,t,i){i.a(e,(async function(e,t){try{var a=i(44249),o=(i(9359),i(70104),i(57243)),n=i(15093),r=(i(59826),i(99426),i(19993),i(74633),i(29095)),s=(i(54202),i(34326),i(29232),i(15369),i(26779)),d=i(71562),l=i(36522),c=i(17409),u=i(64214),h=e([r,s,u]);[r,s,u]=h.then?(await h)():h;(0,a.Z)([(0,n.Mo)("onboarding-restore-backup-restore")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,n.Cb)({attribute:!1})],key:"localize",value:void 0},{kind:"field",decorators:[(0,n.Cb)({attribute:!1})],key:"backup",value:void 0},{kind:"field",decorators:[(0,n.Cb)({type:Boolean})],key:"supervisor",value:()=>!1},{kind:"field",decorators:[(0,n.Cb)()],key:"error",value:void 0},{kind:"field",decorators:[(0,n.Cb)()],key:"mode",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_encryptionKey",value:()=>""},{kind:"field",decorators:[(0,n.SB)()],key:"_encryptionKeyWrong",value:()=>!1},{kind:"field",decorators:[(0,n.SB)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,n.SB)()],key:"_loading",value:()=>!1},{kind:"field",decorators:[(0,n.SB)()],key:"_selectedData",value:void 0},{kind:"field",decorators:[(0,n.IO)("ha-progress-button")],key:"_progressButtonElement",value:void 0},{kind:"method",key:"render",value:function(){const e=(0,s.OT)(Object.keys(this.backup.agents)),t=this.backup.agents[e].protected,i=(0,u.W0)(new Date(this.backup.date)),a=0===this.backup.addons.length&&0===this.backup.folders.length;return o.dy` <ha-icon-button-arrow-prev .label="${this.localize("ui.panel.page-onboarding.restore.back")}" @click="${this._back}"></ha-icon-button-arrow-prev> <h1> ${this.localize("ui.panel.page-onboarding.restore.details.restore.title")} </h1> ${this.backup.homeassistant_included?o.dy`<div class="description"> ${this.localize("ui.panel.page-onboarding.restore.confirm_restore_full_backup_text")} </div>`:o.dy` <ha-alert alert-type="error"> ${this.localize("ui.panel.page-onboarding.restore.details.home_assistant_missing")} </ha-alert> `} ${this.error?o.dy`<ha-alert alert-type="error" .title="${this.localize("ui.panel.page-onboarding.restore.failed")}"> ${this.error} </ha-alert>`:o.Ld} <ha-md-list> <ha-md-list-item> <span slot="headline"> ${this.localize("ui.panel.page-onboarding.restore.details.summary.created")} </span> <span slot="supporting-text">${i}</span> </ha-md-list-item> ${a?o.dy`<ha-md-list-item> <span slot="headline"> ${this.localize("ui.panel.page-onboarding.restore.details.summary.content")} </span> <ha-backup-formfield-label slot="supporting-text" .version="${this.backup.homeassistant_version}" .label="${this.localize("ui.panel.page-onboarding.restore.data_picker."+(this.backup.database_included?"settings_and_history":"settings"))}"></ha-backup-formfield-label> </ha-md-list-item>`:o.Ld} </ha-md-list> ${a?o.Ld:o.dy`<h2> ${this.localize("ui.panel.page-onboarding.restore.select_type")} </h2>`} ${this.backup.homeassistant_included&&!this.supervisor&&this.backup.addons.length>0?o.dy`<ha-alert class="supervisor-warning"> ${this.localize("ui.panel.page-onboarding.restore.details.addons_unsupported")} <a slot="action" href="https://www.home-assistant.io/installation/#advanced-installation-methods" target="_blank" rel="noreferrer noopener"> <ha-button>${this.localize("ui.panel.page-onboarding.restore.ha-cloud.learn_more")}</ha-button> </a> </ha-alert>`:o.Ld} ${a?o.Ld:o.dy`<ha-backup-data-picker translation-key-panel="page-onboarding.restore" .localize="${this.localize}" .data="${this.backup}" .value="${this._selectedData}" @value-changed="${this._selectedBackupChanged}" .requiredItems="${["config"]}" .addonsDisabled="${!this.supervisor}"></ha-backup-data-picker>`} ${this._error?o.dy`<ha-alert alert-type="error">${this._error}</ha-alert> `:o.Ld} ${t?o.dy`<div class="encryption"> <h2> ${this.localize("ui.panel.page-onboarding.restore.details.restore.encryption.label")} </h2> <span> ${this.localize("ui.panel.page-onboarding.restore.details.restore.encryption.description"+("cloud"===this.mode?"_cloud":""))} </span> <ha-password-field .disabled="${this._loading}" @input="${this._encryptionKeyChanged}" .label="${this.localize("ui.panel.page-onboarding.restore.details.restore.encryption.input_label")}" .value="${this._encryptionKey}" @keydown="${this._keyDown}" .errorMessage="${this._encryptionKeyWrong?this.localize("ui.panel.page-onboarding.restore.details.restore.encryption.incorrect_key"):""}" .invalid="${this._encryptionKeyWrong}"></ha-password-field> </div>`:o.Ld} <div class="actions${"cloud"===this.mode?" cloud":""}"> ${"cloud"===this.mode?o.dy`<ha-button @click="${this._signOut}"> ${this.localize("ui.panel.page-onboarding.restore.ha-cloud.sign_out")} </ha-button>`:o.Ld} <ha-progress-button unelevated .progress="${this._loading}" .disabled="${this._loading||t&&""===this._encryptionKey||!this.backup.homeassistant_included}" @click="${this._startRestore}"> ${this.localize("ui.panel.page-onboarding.restore.details.restore.action")} </ha-progress-button> </div> `}},{kind:"method",key:"willUpdate",value:function(){this.hasUpdated||(this._selectedData={homeassistant_included:!0,folders:[],addons:[],homeassistant_version:this.backup.homeassistant_version,database_included:this.backup.database_included})}},{kind:"method",key:"_keyDown",value:function(e){"Enter"===e.key&&""!==this._encryptionKey&&this._progressButtonElement.click()}},{kind:"method",key:"_signOut",value:function(){(0,l.B)(this,"sign-out")}},{kind:"method",key:"_selectedBackupChanged",value:function(e){e.stopPropagation(),this._selectedData=e.detail.value}},{kind:"method",key:"_encryptionKeyChanged",value:function(e){this._encryptionKey=e.target.value}},{kind:"method",key:"_startRestore",value:async function(e){const t=Object.keys(this.backup.agents)[0],i=this.backup.agents[t].protected;if(this._loading||i&&""===this._encryptionKey||!this.backup.homeassistant_included||!this._selectedData)return;this._loading=!0;const a=e.currentTarget;this._error=void 0,this._encryptionKeyWrong=!1;const o=Object.keys(this.backup.agents)[0];try{await(0,d.h8)({agent_id:o,backup_id:this.backup.backup_id,password:this._encryptionKey||void 0,restore_addons:this._selectedData.addons.map((e=>e.slug)),restore_database:this._selectedData.database_included,restore_folders:this._selectedData.folders}),a.actionSuccess(),(0,l.B)(this,"restore-started")}catch(e){if("Request error"===e.error)return a.actionSuccess(),void(0,l.B)(this,"restore-started");a.actionError(),"incorrect_password"===e.body?.code?this._encryptionKeyWrong=!0:this._error=e.body?.message||e.message||"Unknown error occurred",this._loading=!1}}},{kind:"method",key:"_back",value:function(){(0,l.B)(this,"restore-backup-back")}},{kind:"get",static:!0,key:"styles",value:function(){return[c.I,o.iv`h1,p{text-align:left}.description{font-size:1rem;line-height:1.5rem;margin-top:24px;margin-bottom:16px}ha-alert{display:block;margin-top:16px}ha-md-list{background:0 0;padding:0}ha-md-list-item{--md-list-item-leading-space:0;--md-list-item-trailing-space:0;--md-list-item-two-line-container-height:64px;--md-list-item-supporting-text-size:1rem;--md-list-item-label-text-size:0.875rem;--md-list-item-label-text-color:var(--secondary-text-color);--md-list-item-supporting-text-color:var(--primary-text-color)}ha-md-list-item [slot=supporting-text]{display:flex;align-items:center;flex-direction:row;gap:8px;line-height:normal}h2{font-size:22px;margin-top:24px;margin-bottom:8px;font-style:normal;font-weight:400}.supervisor-warning{display:block;margin-bottom:16px}ha-backup-data-picker{display:block;margin-bottom:32px}.encryption{margin-bottom:32px}.encryption ha-password-field{margin-top:24px}.actions{display:flex;justify-content:flex-end}.actions.cloud{justify-content:space-between}a ha-button{--mdc-theme-primary:var(--primary-color);white-space:nowrap}`]}}]}}),o.oi);t()}catch(e){t(e)}}))},46461:function(e,t,i){var a=i(44249),o=(i(24427),i(57243)),n=i(15093),r=(i(99426),i(59826),i(17409)),s=i(36522);(0,a.Z)([(0,n.Mo)("onboarding-restore-backup-status")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,n.Cb)({attribute:!1})],key:"localize",value:void 0},{kind:"field",decorators:[(0,n.Cb)({attribute:!1})],key:"backupInfo",value:void 0},{kind:"method",key:"render",value:function(){return o.dy` <h1> ${this.localize("ui.panel.page-onboarding.restore."+("restore_backup"===this.backupInfo.state?"in_progress":"failed"))} </h1> ${"restore_backup"===this.backupInfo.state?o.dy` <p> ${this.localize("ui.panel.page-onboarding.restore.in_progress_description")} </p>`:o.Ld} <div class="card-content"> ${"restore_backup"===this.backupInfo.state?o.dy` <div class="loading"> <mwc-linear-progress indeterminate></mwc-linear-progress> </div> `:o.dy` <ha-alert alert-type="error"> ${this.localize("ui.panel.page-onboarding.restore.failed_status_description")} </ha-alert> ${this.backupInfo.last_action_event?.reason?o.dy` <div class="failed"> <h4>Error:</h4> ${this.backupInfo.last_action_event?.reason} </div> `:o.Ld} `} </div> ${"restore_backup"!==this.backupInfo.state?o.dy`<div class="actions"> <ha-button @click="${this._back}"> ${this.localize("ui.panel.page-onboarding.restore.back")} </ha-button> </div>`:o.Ld} `}},{kind:"method",key:"_back",value:function(){(0,s.B)(this,"restore-backup-back")}},{kind:"get",static:!0,key:"styles",value:function(){return[r.I,o.iv`h1,p{text-align:left}.actions{display:flex;justify-content:flex-end}.loading{display:flex;justify-content:center;padding:32px}p{text-align:center;padding:0 16px;font-size:16px}.failed{padding:16px 0;font-size:16px}mwc-linear-progress{width:100%}`]}}]}}),o.oi)},30511:function(e,t,i){i.r(t),i.d(t,{mdiHomeAssistant:()=>a});const a="m12.151 1.5882c-.3262 0-.6523.1291-.8996.3867l-8.3848 8.7354c-.0619.0644-.1223.1368-.1807.2154-.0588.0789-.1151.1638-.1688.2534-.2593.4325-.4552.9749-.5232 1.4555-.0026.018-.0076.0369-.0094.0548-.0121.0987-.0184.1944-.0184.2857v8.0124a1.2731 1.2731 0 001.2731 1.2731h7.8313l-3.4484-3.593a1.7399 1.7399 0 111.0803-1.125l2.6847 2.7972v-10.248a1.7399 1.7399 0 111.5276-0v7.187l2.6702-2.782a1.7399 1.7399 0 111.0566 1.1505l-3.7269 3.8831v2.7299h8.174a1.2471 1.2471 0 001.2471-1.2471v-8.0375c0-.0912-.0059-.1868-.0184-.2855-.0603-.4935-.2636-1.0617-.5326-1.5105-.0537-.0896-.1101-.1745-.1684-.253-.0588-.079-.1191-.1513-.181-.2158l-8.3848-8.7363c-.2473-.2577-.5735-.3866-.8995-.3864"},58014:function(e,t,i){i.d(t,{N:()=>o,G:()=>n});var a=i(18117);const o=(e,t="")=>{const i=document.createElement("a");i.target="_blank",i.href=e,i.download=t,i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click")),document.body.removeChild(i)},n=e=>!(e=>!!e.auth.external&&a.G)(e)||!!e.auth.external?.config.downloadFileSupported},18117:function(e,t,i){i.d(t,{G:()=>a});const a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}};
//# sourceMappingURL=92127.5aaaff0cb38e18f8.js.map