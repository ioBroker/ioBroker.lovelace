export const id=14869;export const ids=[14869,4631];export const modules={12198:(e,t,a)=>{a.a(e,(async(e,i)=>{try{a.d(t,{D_:()=>$,NC:()=>g,Nh:()=>_,U8:()=>Z,WB:()=>p,mn:()=>u,p6:()=>h,pU:()=>l,ud:()=>v,yQ:()=>w});var o=a(14516),n=a(66477),r=a(4631),s=e([r]);r=(s.then?(await s)():s)[0];const l=(e,t,a)=>d(t,a.time_zone).format(e),d=(0,o.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"long",month:"long",day:"numeric",timeZone:"server"===e.time_zone?t:void 0}))),h=(e,t,a)=>c(t,a.time_zone).format(e),c=(0,o.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric",timeZone:"server"===e.time_zone?t:void 0}))),u=(e,t,a)=>m(t,a.time_zone).format(e),m=(0,o.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"short",day:"numeric",timeZone:"server"===e.time_zone?t:void 0}))),p=(e,t,a)=>{var i,o,r,s;const l=f(t,a.time_zone);if(t.date_format===n.t6.language||t.date_format===n.t6.system)return l.format(e);const d=l.formatToParts(e),h=null===(i=d.find((e=>"literal"===e.type)))||void 0===i?void 0:i.value,c=null===(o=d.find((e=>"day"===e.type)))||void 0===o?void 0:o.value,u=null===(r=d.find((e=>"month"===e.type)))||void 0===r?void 0:r.value,m=null===(s=d.find((e=>"year"===e.type)))||void 0===s?void 0:s.value,p=d.at(d.length-1);let v="literal"===(null==p?void 0:p.type)?null==p?void 0:p.value:"";"bg"===t.language&&t.date_format===n.t6.YMD&&(v="");return{[n.t6.DMY]:`${c}${h}${u}${h}${m}${v}`,[n.t6.MDY]:`${u}${h}${c}${h}${m}${v}`,[n.t6.YMD]:`${m}${h}${u}${h}${c}${v}`}[t.date_format]},f=(0,o.Z)(((e,t)=>{const a=e.date_format===n.t6.system?void 0:e.language;return e.date_format===n.t6.language||(e.date_format,n.t6.system),new Intl.DateTimeFormat(a,{year:"numeric",month:"numeric",day:"numeric",timeZone:"server"===e.time_zone?t:void 0})})),v=(e,t,a)=>y(t,a.time_zone).format(e),y=(0,o.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{day:"numeric",month:"short",timeZone:"server"===e.time_zone?t:void 0}))),g=(e,t,a)=>b(t,a.time_zone).format(e),b=(0,o.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{month:"long",year:"numeric",timeZone:"server"===e.time_zone?t:void 0}))),_=(e,t,a)=>k(t,a.time_zone).format(e),k=(0,o.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{month:"long",timeZone:"server"===e.time_zone?t:void 0}))),w=(e,t,a)=>x(t,a.time_zone).format(e),x=(0,o.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",timeZone:"server"===e.time_zone?t:void 0}))),$=(e,t,a)=>z(t,a.time_zone).format(e),z=(0,o.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"long",timeZone:"server"===e.time_zone?t:void 0}))),Z=(e,t,a)=>C(t,a.time_zone).format(e),C=(0,o.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"short",timeZone:"server"===e.time_zone?t:void 0})));i()}catch(e){i(e)}}))},44583:(e,t,a)=>{a.a(e,(async(e,i)=>{try{a.d(t,{DG:()=>u,E8:()=>v,NR:()=>g,o0:()=>h,yD:()=>p});var o=a(14516),n=a(4631),r=a(12198),s=a(49684),l=a(65810),d=e([n,r,s]);[n,r,s]=d.then?(await d)():d;const h=(e,t,a)=>c(t,a.time_zone).format(e),c=(0,o.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric",hour:(0,l.y)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,l.y)(e)?"h12":"h23",timeZone:"server"===e.time_zone?t:void 0}))),u=(e,t,a)=>m(t,a.time_zone).format(e),m=(0,o.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"short",day:"numeric",hour:(0,l.y)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,l.y)(e)?"h12":"h23",timeZone:"server"===e.time_zone?t:void 0}))),p=(e,t,a)=>f(t,a.time_zone).format(e),f=(0,o.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{month:"short",day:"numeric",hour:(0,l.y)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,l.y)(e)?"h12":"h23",timeZone:"server"===e.time_zone?t:void 0}))),v=(e,t,a)=>y(t,a.time_zone).format(e),y=(0,o.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric",hour:(0,l.y)(e)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:(0,l.y)(e)?"h12":"h23",timeZone:"server"===e.time_zone?t:void 0}))),g=(e,t,a)=>`${(0,r.WB)(e,t,a)}, ${(0,s.mr)(e,t,a)}`;i()}catch(e){i(e)}}))},8395:(e,t,a)=>{a.a(e,(async(e,i)=>{try{a.d(t,{L:()=>s});var o=a(4631),n=e([o]);o=(n.then?(await n)():n)[0];const r=e=>e<10?`0${e}`:e,s=(e,t)=>{const a=t.days||0,i=t.hours||0,o=t.minutes||0,n=t.seconds||0,s=t.milliseconds||0;return a>0?`${Intl.NumberFormat(e.language,{style:"unit",unit:"day",unitDisplay:"long"}).format(a)} ${i}:${r(o)}:${r(n)}`:i>0?`${i}:${r(o)}:${r(n)}`:o>0?`${o}:${r(n)}`:n>0?Intl.NumberFormat(e.language,{style:"unit",unit:"second",unitDisplay:"long"}).format(n):s>0?Intl.NumberFormat(e.language,{style:"unit",unit:"millisecond",unitDisplay:"long"}).format(s):null};i()}catch(e){i(e)}}))},49684:(e,t,a)=>{a.a(e,(async(e,i)=>{try{a.d(t,{Vu:()=>h,Zs:()=>p,mr:()=>l,xO:()=>u});var o=a(14516),n=a(4631),r=a(65810),s=e([n]);n=(s.then?(await s)():s)[0];const l=(e,t,a)=>d(t,a.time_zone).format(e),d=(0,o.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{hour:"numeric",minute:"2-digit",hourCycle:(0,r.y)(e)?"h12":"h23",timeZone:"server"===e.time_zone?t:void 0}))),h=(e,t,a)=>c(t,a.time_zone).format(e),c=(0,o.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{hour:(0,r.y)(e)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:(0,r.y)(e)?"h12":"h23",timeZone:"server"===e.time_zone?t:void 0}))),u=(e,t,a)=>m(t,a.time_zone).format(e),m=(0,o.Z)(((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"long",hour:(0,r.y)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,r.y)(e)?"h12":"h23",timeZone:"server"===e.time_zone?t:void 0}))),p=(e,t,a)=>f(t,a.time_zone).format(e),f=(0,o.Z)(((e,t)=>new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"2-digit",hour12:!1,timeZone:"server"===e.time_zone?t:void 0})));i()}catch(e){i(e)}}))},65810:(e,t,a)=>{a.d(t,{y:()=>n});var i=a(14516),o=a(66477);const n=(0,i.Z)((e=>{if(e.time_format===o.zt.language||e.time_format===o.zt.system){const t=e.time_format===o.zt.language?e.language:void 0;return new Date("January 1, 2023 22:00:00").toLocaleString(t).includes("10")}return e.time_format===o.zt.am_pm}))},22098:(e,t,a)=>{var i=a(17463),o=a(68144),n=a(79932);(0,i.Z)([(0,n.Mo)("ha-card")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,n.Cb)()],key:"header",value:void 0},{kind:"field",decorators:[(0,n.Cb)({type:Boolean,reflect:!0})],key:"raised",value:()=>!1},{kind:"get",static:!0,key:"styles",value:function(){return o.iv`:host{background:var(--ha-card-background,var(--card-background-color,#fff));box-shadow:var(--ha-card-box-shadow,none);box-sizing:border-box;border-radius:var(--ha-card-border-radius,12px);border-width:var(--ha-card-border-width,1px);border-style:solid;border-color:var(--ha-card-border-color,var(--divider-color,#e0e0e0));color:var(--primary-text-color);display:block;transition:all .3s ease-out;position:relative}:host([raised]){border:none;box-shadow:var(--ha-card-box-shadow,0px 2px 1px -1px rgba(0,0,0,.2),0px 1px 1px 0px rgba(0,0,0,.14),0px 1px 3px 0px rgba(0,0,0,.12))}.card-header,:host ::slotted(.card-header){color:var(--ha-card-header-color,--primary-text-color);font-family:var(--ha-card-header-font-family, inherit);font-size:var(--ha-card-header-font-size, 24px);letter-spacing:-.012em;line-height:48px;padding:12px 16px 16px;display:block;margin-block-start:0px;margin-block-end:0px;font-weight:400}:host ::slotted(.card-content:not(:first-child)),slot:not(:first-child)::slotted(.card-content){padding-top:0px;margin-top:-8px}:host ::slotted(.card-content){padding:16px}:host ::slotted(.card-actions){border-top:1px solid var(--divider-color,#e8e8e8);padding:5px 16px}`}},{kind:"method",key:"render",value:function(){return o.dy` ${this.header?o.dy`<h1 class="card-header">${this.header}</h1>`:o.Ld} <slot></slot> `}}]}}),o.oi)},10983:(e,t,a)=>{a.d(t,{$:()=>s});var i=a(17463),o=(a(20210),a(68144)),n=a(79932),r=a(30153);a(52039);let s=(0,i.Z)([(0,n.Mo)("ha-icon-button")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,n.Cb)({type:Boolean,reflect:!0})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,n.Cb)({type:String})],key:"path",value:void 0},{kind:"field",decorators:[(0,n.Cb)({type:String})],key:"label",value:void 0},{kind:"field",decorators:[(0,n.Cb)({type:String,attribute:"aria-haspopup"})],key:"ariaHasPopup",value:void 0},{kind:"field",decorators:[(0,n.Cb)({type:Boolean})],key:"hideTitle",value:()=>!1},{kind:"field",decorators:[(0,n.IO)("mwc-icon-button",!0)],key:"_button",value:void 0},{kind:"method",key:"focus",value:function(){var e;null===(e=this._button)||void 0===e||e.focus()}},{kind:"field",static:!0,key:"shadowRootOptions",value:()=>({mode:"open",delegatesFocus:!0})},{kind:"method",key:"render",value:function(){return o.dy` <mwc-icon-button aria-label="${(0,r.o)(this.label)}" title="${(0,r.o)(this.hideTitle?void 0:this.label)}" aria-haspopup="${(0,r.o)(this.ariaHasPopup)}" .disabled="${this.disabled}"> ${this.path?o.dy`<ha-svg-icon .path="${this.path}"></ha-svg-icon>`:o.dy`<slot></slot>`} </mwc-icon-button> `}},{kind:"get",static:!0,key:"styles",value:function(){return o.iv`:host{display:inline-block;outline:0}:host([disabled]){pointer-events:none}mwc-icon-button{--mdc-theme-on-primary:currentColor;--mdc-theme-text-disabled-on-light:var(--disabled-text-color)}`}}]}}),o.oi)},48932:(e,t,a)=>{var i=a(17463),o=a(34541),n=a(47838),r=a(68144),s=a(79932),l=a(47181),d=a(6936);a(10983);(0,i.Z)([(0,s.Mo)("ha-menu-button")],(function(e,t){class a extends t{constructor(...t){super(...t),e(this)}}return{F:a,d:[{kind:"field",decorators:[(0,s.Cb)({type:Boolean})],key:"hassio",value:()=>!1},{kind:"field",decorators:[(0,s.Cb)()],key:"narrow",value:void 0},{kind:"field",decorators:[(0,s.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.SB)()],key:"_hasNotifications",value:()=>!1},{kind:"field",decorators:[(0,s.SB)()],key:"_show",value:()=>!1},{kind:"field",key:"_alwaysVisible",value:()=>!1},{kind:"field",key:"_attachNotifOnConnect",value:()=>!1},{kind:"field",key:"_unsubNotifications",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,o.Z)((0,n.Z)(a.prototype),"connectedCallback",this).call(this),this._attachNotifOnConnect&&(this._attachNotifOnConnect=!1,this._subscribeNotifications())}},{kind:"method",key:"disconnectedCallback",value:function(){(0,o.Z)((0,n.Z)(a.prototype),"disconnectedCallback",this).call(this),this._unsubNotifications&&(this._attachNotifOnConnect=!0,this._unsubNotifications(),this._unsubNotifications=void 0)}},{kind:"method",key:"render",value:function(){if(!this._show)return r.Ld;const e=this._hasNotifications&&(this.narrow||"always_hidden"===this.hass.dockedSidebar);return r.dy` <ha-icon-button .label="${this.hass.localize("ui.sidebar.sidebar_toggle")}" .path="${"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"}" @click="${this._toggleMenu}"></ha-icon-button> ${e?r.dy`<div class="dot"></div>`:""} `}},{kind:"method",key:"firstUpdated",value:function(e){(0,o.Z)((0,n.Z)(a.prototype),"firstUpdated",this).call(this,e),this.hassio&&(this._alwaysVisible=(Number(window.parent.frontendVersion)||0)<20190710)}},{kind:"method",key:"willUpdate",value:function(e){if((0,o.Z)((0,n.Z)(a.prototype),"willUpdate",this).call(this,e),!e.has("narrow")&&!e.has("hass"))return;const t=e.has("hass")?e.get("hass"):this.hass,i=(e.has("narrow")?e.get("narrow"):this.narrow)||"always_hidden"===(null==t?void 0:t.dockedSidebar),r=this.narrow||"always_hidden"===this.hass.dockedSidebar;this.hasUpdated&&i===r||(this._show=r||this._alwaysVisible,r?this._subscribeNotifications():this._unsubNotifications&&(this._unsubNotifications(),this._unsubNotifications=void 0))}},{kind:"method",key:"_subscribeNotifications",value:function(){if(this._unsubNotifications)throw new Error("Already subscribed");this._unsubNotifications=(0,d.r)(this.hass.connection,(e=>{this._hasNotifications=e.length>0}))}},{kind:"method",key:"_toggleMenu",value:function(){(0,l.B)(this,"hass-toggle-menu")}},{kind:"get",static:!0,key:"styles",value:function(){return r.iv`:host{position:relative}.dot{pointer-events:none;position:absolute;background-color:var(--accent-color);width:12px;height:12px;top:9px;right:7px;border-radius:50%;border:2px solid var(--app-header-background-color)}`}}]}}),r.oi)},52039:(e,t,a)=>{a.d(t,{C:()=>r});var i=a(17463),o=a(68144),n=a(79932);let r=(0,i.Z)([(0,n.Mo)("ha-svg-icon")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,n.Cb)()],key:"path",value:void 0},{kind:"field",decorators:[(0,n.Cb)()],key:"secondaryPath",value:void 0},{kind:"field",decorators:[(0,n.Cb)()],key:"viewBox",value:void 0},{kind:"method",key:"render",value:function(){return o.YP` <svg viewBox="${this.viewBox||"0 0 24 24"}" preserveAspectRatio="xMidYMid meet" focusable="false" role="img" aria-hidden="true"> <g> ${this.path?o.YP`<path class="primary-path" d="${this.path}"></path>`:o.Ld} ${this.secondaryPath?o.YP`<path class="secondary-path" d="${this.secondaryPath}"></path>`:o.Ld} </g> </svg>`}},{kind:"get",static:!0,key:"styles",value:function(){return o.iv`:host{display:var(--ha-icon-display,inline-flex);align-items:center;justify-content:center;position:relative;vertical-align:middle;fill:var(--icon-primary-color,currentcolor);width:var(--mdc-icon-size,24px);height:var(--mdc-icon-size,24px)}svg{width:100%;height:100%;pointer-events:none;display:block}path.primary-path{opacity:var(--icon-primary-opactity, 1)}path.secondary-path{fill:var(--icon-secondary-color,currentcolor);opacity:var(--icon-secondary-opactity, .5)}`}}]}}),o.oi)},46167:(e,t,a)=>{var i=a(17463),o=a(34541),n=a(47838),r=(a(6491),a(79932));const s=customElements.get("paper-tabs");let l;(0,i.Z)([(0,r.Mo)("ha-tabs")],(function(e,t){class a extends t{constructor(...t){super(...t),e(this)}}return{F:a,d:[{kind:"field",key:"_firstTabWidth",value:()=>0},{kind:"field",key:"_lastTabWidth",value:()=>0},{kind:"field",key:"_lastLeftHiddenState",value:()=>!1},{kind:"get",static:!0,key:"template",value:function(){if(!l){l=s.template.cloneNode(!0);const e=l.content.querySelector("style");l.content.querySelectorAll("paper-icon-button").forEach((e=>{e.setAttribute("noink","")})),e.appendChild(document.createTextNode("\n          #selectionBar {\n            box-sizing: border-box;\n          }\n          .not-visible {\n            display: none;\n          }\n          paper-icon-button {\n            width: 24px;\n            height: 48px;\n            padding: 0;\n            margin: 0;\n          }\n        "))}return l}},{kind:"method",key:"_tabChanged",value:function(e,t){(0,o.Z)((0,n.Z)(a.prototype),"_tabChanged",this).call(this,e,t);const i=this.querySelectorAll("paper-tab:not(.hide-tab)");i.length>0&&(this._firstTabWidth=i[0].clientWidth,this._lastTabWidth=i[i.length-1].clientWidth);const r=this.querySelector(".iron-selected");r&&(r.scrollIntoView(),this._affectScroll(0))}},{kind:"method",key:"_affectScroll",value:function(e){if(0===this._firstTabWidth||0===this._lastTabWidth)return;this.$.tabsContainer.scrollLeft+=e;const t=this.$.tabsContainer.scrollLeft;this._leftHidden=t-this._firstTabWidth<0,this._rightHidden=t+this._lastTabWidth>this._tabContainerScrollSize,this._lastLeftHiddenState!==this._leftHidden&&(this._lastLeftHiddenState=this._leftHidden,this.$.tabsContainer.scrollLeft+=this._leftHidden?-23:23)}}]}}),s)},36226:(e,t,a)=>{var i=a(17463),o=a(67625),n=a(71711),r=a(68144),s=a(79932);(0,i.Z)([(0,s.Mo)("ha-top-app-bar-fixed")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",static:!0,key:"styles",value:()=>[n.W,r.iv`.mdc-top-app-bar__row{height:var(--header-height);border-bottom:var(--app-header-border-bottom)}.mdc-top-app-bar--fixed-adjust{padding-top:var(--header-height)}.mdc-top-app-bar{--mdc-typography-headline6-font-weight:400;color:var(--app-header-text-color,var(--mdc-theme-on-primary,#fff));background-color:var(--app-header-background-color,var(--mdc-theme-primary))}`]}]}}),o.s)},6936:(e,t,a)=>{a.d(t,{r:()=>i});const i=(e,t)=>{const a=new o,i=e.subscribeMessage((e=>t(a.processMessage(e))),{type:"persistent_notification/subscribe"});return()=>{i.then((e=>null==e?void 0:e()))}};class o{constructor(){this.notifications=void 0,this.notifications={}}processMessage(e){if("removed"===e.type)for(const t of Object.keys(e.notifications))delete this.notifications[t];else this.notifications={...this.notifications,...e.notifications};return Object.values(this.notifications)}}},14869:(e,t,a)=>{a.a(e,(async(e,i)=>{try{a.r(t);var o=a(17463),n=a(34541),r=a(47838),s=a(68144),l=a(79932),d=(a(14271),a(44583)),h=(a(22098),a(48932),a(46167),a(53973),a(89194),a(91441),a(47181)),c=a(11654),u=(a(36226),a(8395)),m=e([d,u]);[d,u]=m.then?(await m)():m;let p=!1;(0,o.Z)([(0,l.Mo)("ha-panel-mailbox")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,l.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,l.Cb)({attribute:!1})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,l.Cb)({attribute:!1})],key:"platforms",value:void 0},{kind:"field",decorators:[(0,l.SB)()],key:"_messages",value:void 0},{kind:"field",decorators:[(0,l.SB)()],key:"_currentPlatform",value:()=>0},{kind:"field",key:"_unsubEvents",value:void 0},{kind:"method",key:"render",value:function(){var e,t,a;return s.dy` <ha-top-app-bar-fixed> <ha-menu-button slot="navigationIcon" .hass="${this.hass}" .narrow="${this.narrow}"></ha-menu-button> <div slot="title">${this.hass.localize("panel.mailbox")}</div> ${this._areTabsHidden(this.platforms)?"":s.dy`<div sticky> <ha-tabs scrollable .selected="${this._currentPlatform}" @iron-activate="${this._handlePlatformSelected}"> ${null===(e=this.platforms)||void 0===e?void 0:e.map((e=>s.dy` <paper-tab data-entity="${e}"> ${this._getPlatformName(e)} </paper-tab>`))} </ha-tabs> </div>`} </ha-top-app-bar-fixed> <div class="content"> <ha-card> ${null!==(t=this._messages)&&void 0!==t&&t.length?s.Ld:s.dy`<div class="card-content empty"> ${this.hass.localize("ui.panel.mailbox.empty")} </div>`} ${null===(a=this._messages)||void 0===a?void 0:a.map((e=>s.dy` <paper-item .message="${e}" @click="${this._openMP3Dialog}"> <paper-item-body style="width:100%" two-line> <div class="row"> <div>${e.caller}</div> <div class="tip"> ${(0,u.L)(this.hass.locale,{seconds:e.duration})} </div> </div> <div secondary> <span class="date">${e.timestamp}</span> - ${e.message} </div> </paper-item-body> </paper-item>`))} </ha-card> </div> `}},{kind:"method",key:"connectedCallback",value:function(){(0,n.Z)((0,r.Z)(i.prototype),"connectedCallback",this).call(this),p||(p=!0,(0,h.B)(this,"register-dialog",{dialogShowEvent:"show-audio-message-dialog",dialogTag:"ha-dialog-show-audio-message",dialogImport:()=>Promise.all([a.e(28597),a.e(55813)]).then(a.bind(a,55813))})),this.hassChanged=this.hassChanged.bind(this),this.hass.connection.subscribeEvents(this.hassChanged,"mailbox_updated").then((e=>{this._unsubEvents=e})),this._computePlatforms().then((e=>{this.platforms=e,this.hassChanged()}))}},{kind:"method",key:"disconnectedCallback",value:function(){(0,n.Z)((0,r.Z)(i.prototype),"disconnectedCallback",this).call(this),this._unsubEvents&&this._unsubEvents()}},{kind:"method",key:"hassChanged",value:function(){this._messages||(this._messages=[]),this._getMessages().then((e=>{this._messages=e}))}},{kind:"method",key:"_openMP3Dialog",value:function(e){const t=e.currentTarget.message;(0,h.B)(this,"show-audio-message-dialog",{hass:this.hass,message:t})}},{kind:"method",key:"_getMessages",value:function(){const e=this.platforms[this._currentPlatform];return this.hass.callApi("GET",`mailbox/messages/${e.name}`).then((t=>{const a=[],i=t.length;for(let o=0;o<i;o++){const i=(0,d.o0)(new Date(1e3*t[o].info.origtime),this.hass.locale,this.hass.config);a.push({timestamp:i,caller:t[o].info.callerid,message:t[o].text,sha:t[o].sha,duration:t[o].info.duration,platform:e})}return a.sort(((e,t)=>t.timestamp-e.timestamp))}))}},{kind:"method",key:"_computePlatforms",value:function(){return this.hass.callApi("GET","mailbox/platforms")}},{kind:"method",key:"_handlePlatformSelected",value:function(e){const t=e.detail.selected;t!==this._currentPlatform&&(this._currentPlatform=t,this.hassChanged())}},{kind:"method",key:"_areTabsHidden",value:function(e){return!e||e.length<2}},{kind:"method",key:"_getPlatformName",value:function(e){const t=`mailbox.${e.name}`;return this.hass.states[t.toLowerCase()].attributes.friendly_name}},{kind:"get",static:!0,key:"styles",value:function(){return[c.Qx,s.iv`:host{-ms-user-select:initial;-webkit-user-select:initial;-moz-user-select:initial}.content{padding:16px;max-width:600px;margin:0 auto}ha-card{overflow:hidden}paper-item{cursor:pointer}ha-tabs{margin-left:max(env(safe-area-inset-left),24px);margin-right:max(env(safe-area-inset-right),24px);--paper-tabs-selection-bar-color:#fff;text-transform:uppercase}.empty{text-align:center;color:var(--secondary-text-color)}.header{@apply --paper-font-title;}.row{display:flex;justify-content:space-between}@media all and (max-width:450px){.content{width:auto;padding:0}}.tip{color:var(--secondary-text-color);font-size:14px}.date{color:var(--primary-text-color)}`]}}]}}),s.oi);i()}catch(e){i(e)}}))},4631:(e,t,a)=>{a.a(e,(async(e,i)=>{try{a.r(t);var o=a(43170),n=a(27499),r=a(16723),s=a(82874),l=a(32812),d=a(99331),h=a(27815),c=a(64532),u=a(69906),m=a(24517);const e=async()=>{const e=(0,u.sS)(),t=[];(0,r.Y)()&&await Promise.all([a.e(39460),a.e(20254)]).then(a.bind(a,20254)),(0,l.Y)()&&await Promise.all([a.e(77021),a.e(39460),a.e(48196)]).then(a.bind(a,48196)),(0,o.Y)(e)&&t.push(Promise.all([a.e(77021),a.e(76554)]).then(a.bind(a,76554)).then((()=>(0,m.H)()))),(0,n.Yq)(e)&&t.push(Promise.all([a.e(77021),a.e(72684)]).then(a.bind(a,72684))),(0,s.Y)(e)&&t.push(Promise.all([a.e(77021),a.e(69029)]).then(a.bind(a,69029))),(0,d.Y)(e)&&t.push(Promise.all([a.e(77021),a.e(87048)]).then(a.bind(a,87048))),(0,h.Y)(e)&&t.push(Promise.all([a.e(77021),a.e(20655)]).then(a.bind(a,20655)).then((()=>a.e(64827).then(a.t.bind(a,64827,23))))),(0,c.Y)(e)&&t.push(Promise.all([a.e(77021),a.e(20759)]).then(a.bind(a,20759))),0!==t.length&&await Promise.all(t).then((()=>(0,m.n)(e)))};await e(),i()}catch(e){i(e)}}),1)},11654:(e,t,a)=>{a.d(t,{$c:()=>s,Qx:()=>n,k1:()=>o,yu:()=>r});var i=a(68144);const o=i.iv`button.link{background:0 0;color:inherit;border:none;padding:0;font:inherit;text-align:left;text-decoration:underline;cursor:pointer;outline:0}`,n=i.iv`:host{font-family:var(--paper-font-body1_-_font-family);-webkit-font-smoothing:var(--paper-font-body1_-_-webkit-font-smoothing);font-size:var(--paper-font-body1_-_font-size);font-weight:var(--paper-font-body1_-_font-weight);line-height:var(--paper-font-body1_-_line-height)}app-header div[sticky]{height:48px}app-toolbar [main-title]{margin-left:20px}h1{font-family:var(--paper-font-headline_-_font-family);-webkit-font-smoothing:var(--paper-font-headline_-_-webkit-font-smoothing);white-space:var(--paper-font-headline_-_white-space);overflow:var(--paper-font-headline_-_overflow);text-overflow:var(--paper-font-headline_-_text-overflow);font-size:var(--paper-font-headline_-_font-size);font-weight:var(--paper-font-headline_-_font-weight);line-height:var(--paper-font-headline_-_line-height)}h2{font-family:var(--paper-font-title_-_font-family);-webkit-font-smoothing:var(--paper-font-title_-_-webkit-font-smoothing);white-space:var(--paper-font-title_-_white-space);overflow:var(--paper-font-title_-_overflow);text-overflow:var(--paper-font-title_-_text-overflow);font-size:var(--paper-font-title_-_font-size);font-weight:var(--paper-font-title_-_font-weight);line-height:var(--paper-font-title_-_line-height)}h3{font-family:var(--paper-font-subhead_-_font-family);-webkit-font-smoothing:var(--paper-font-subhead_-_-webkit-font-smoothing);white-space:var(--paper-font-subhead_-_white-space);overflow:var(--paper-font-subhead_-_overflow);text-overflow:var(--paper-font-subhead_-_text-overflow);font-size:var(--paper-font-subhead_-_font-size);font-weight:var(--paper-font-subhead_-_font-weight);line-height:var(--paper-font-subhead_-_line-height)}a{color:var(--primary-color)}.secondary{color:var(--secondary-text-color)}.error{color:var(--error-color)}.warning{color:var(--error-color)}mwc-button.warning{--mdc-theme-primary:var(--error-color)}${o} .card-actions a{text-decoration:none}.card-actions .warning{--mdc-theme-primary:var(--error-color)}.layout.horizontal,.layout.vertical{display:flex}.layout.inline{display:inline-flex}.layout.horizontal{flex-direction:row}.layout.vertical{flex-direction:column}.layout.wrap{flex-wrap:wrap}.layout.no-wrap{flex-wrap:nowrap}.layout.center,.layout.center-center{align-items:center}.layout.bottom{align-items:flex-end}.layout.center-center,.layout.center-justified{justify-content:center}.flex{flex:1;flex-basis:0.000000001px}.flex-auto{flex:1 1 auto}.flex-none{flex:none}.layout.justified{justify-content:space-between}`,r=i.iv`ha-dialog{--mdc-dialog-min-width:400px;--mdc-dialog-max-width:600px;--mdc-dialog-max-width:min(600px, 95vw);--justify-action-buttons:space-between}ha-dialog .form{color:var(--primary-text-color)}a{color:var(--primary-color)}@media all and (max-width:450px),all and (max-height:500px){ha-dialog{--mdc-dialog-min-width:calc(
        100vw - env(safe-area-inset-right) - env(safe-area-inset-left)
      );--mdc-dialog-max-width:calc(
        100vw - env(safe-area-inset-right) - env(safe-area-inset-left)
      );--mdc-dialog-min-height:100%;--mdc-dialog-max-height:100%;--vertical-align-dialog:flex-end;--ha-dialog-border-radius:0}}ha-button.warning,mwc-button.warning{--mdc-theme-primary:var(--error-color)}.error{color:var(--error-color)}`,s=i.iv`.ha-scrollbar::-webkit-scrollbar{width:.4rem;height:.4rem}.ha-scrollbar::-webkit-scrollbar-thumb{-webkit-border-radius:4px;border-radius:4px;background:var(--scrollbar-thumb-color)}.ha-scrollbar{overflow-y:auto;scrollbar-color:var(--scrollbar-thumb-color) transparent;scrollbar-width:thin}`;i.iv`body{background-color:var(--primary-background-color);color:var(--primary-text-color);height:calc(100vh - 32px);width:100vw}`}};
//# sourceMappingURL=14869.SJXHX6r8Vk0.js.map