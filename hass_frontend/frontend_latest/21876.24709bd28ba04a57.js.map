{"version":3,"file":"21876.24709bd28ba04a57.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20250306.0/src/components/ha-file-upload.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250306.0/src/dialogs/image-cropper-dialog/show-image-cropper-dialog.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250306.0/src/components/ha-picture-upload.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250306.0/src/components/media-player/show-media-browser-dialog.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250306.0/src/data/image_upload.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250306.0/src/util/bytes-to-string.ts"],"names":["mdiDelete","mdiFileUpload","_decorate","customElement","_initialize","_LitElement","HaFileUpload","constructor","args","F","d","kind","decorators","property","attribute","key","value","type","Object","Boolean","reflect","Number","state","query","changedProperties","_superPropGet","this","autoOpenFileDialog","_openFilePicker","undefined","FileList","Array","from","ensureArray","map","file","name","join","localize","hass","html","uploading","uploadingLabel","_name","progress","blankBeforePercent","locale","nothing","classMap","dragged","_drag","multiple","_handleDrop","_handleDragStart","_handleDragEnd","icon","_clearValue","deleteLabel","bytesToString","size","label","secondary","supports","accept","_handleFilePicked","_input","click","ev","preventDefault","stopPropagation","dataTransfer","files","fireEvent","length","target","static","css","LitElement","loadImageCropperDialog","selectMedia","select_media","_chooseMedia","_uploading","_handleFileCleared","currentImageAltText","_handleChangeClick","detail","crop","_cropFile","_uploadFile","mediaId","showImageCropperDialog","element","dialogParams","includes","options","cropOptions","round","aspectRatio","NaN","croppedCallback","croppedFile","generateImageThumbnailUrl","original","dialogTag","dialogImport","showAlertDialog","text","media","createImage","id","err","toString","showMediaBrowserDialog","action","entityId","navigateIds","media_content_id","media_content_type","MEDIA_PREFIX","minimumNavigateLevel","mediaPickedCallback","async","getIdFromUrl","pickedMedia","item","url","data","getImageData","metadata","File","title","haStyle","URL_PREFIX","startsWith","substring","idx","indexOf","Error","fd","FormData","append","resp","fetchWithAuth","method","body","status","json","deleteImage","callWS","image_id","response","fetch","ok","statusText","blob","decimals","i","Math","floor","log","parseFloat","toFixed"],"mappings":"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"}