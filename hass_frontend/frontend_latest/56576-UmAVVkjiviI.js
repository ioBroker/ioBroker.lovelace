"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[56576],{66737:(e,t,i)=>{var a=i(17463),o=(i(14271),i(68144)),s=i(79932),n=i(11654),d=(i(68101),i(3555),i(47181));(0,a.Z)([(0,s.Mo)("ha-aliases-editor")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"aliases",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"method",key:"render",value:function(){return this.aliases?o.dy` ${this.aliases.map(((e,t)=>o.dy` <div class="layout horizontal center-center row"> <ha-textfield .disabled="${this.disabled}" dialogInitialFocus="${t}" .index="${t}" class="flex-auto" .label="${this.hass.localize("ui.dialogs.aliases.input_label",{number:t+1})}" .value="${e}" ?data-last="${t===this.aliases.length-1}" @input="${this._editAlias}" @keydown="${this._keyDownAlias}"></ha-textfield> <ha-icon-button .disabled="${this.disabled}" .index="${t}" slot="navigationIcon" label="${this.hass.localize("ui.dialogs.aliases.remove_alias",{number:t+1})}" @click="${this._removeAlias}" .path="${"M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19M8,9H16V19H8V9M15.5,4L14.5,3H9.5L8.5,4H5V6H19V4H15.5Z"}"></ha-icon-button> </div> `))} <div class="layout horizontal center-center"> <mwc-button @click="${this._addAlias}" .disabled="${this.disabled}"> ${this.hass.localize("ui.dialogs.aliases.add_alias")} <ha-svg-icon slot="icon" .path="${"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"}"></ha-svg-icon> </mwc-button> </div> `:o.Ld}},{kind:"method",key:"_addAlias",value:async function(){var e;this.aliases=[...this.aliases,""],this._fireChanged(this.aliases),await this.updateComplete;const t=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("ha-textfield[data-last]");null==t||t.focus()}},{kind:"method",key:"_editAlias",value:async function(e){const t=e.target.index,i=[...this.aliases];i[t]=e.target.value,this._fireChanged(i)}},{kind:"method",key:"_keyDownAlias",value:async function(e){"Enter"===e.key&&(e.stopPropagation(),this._addAlias())}},{kind:"method",key:"_removeAlias",value:async function(e){const t=e.target.index,i=[...this.aliases];i.splice(t,1),this._fireChanged(i)}},{kind:"method",key:"_fireChanged",value:function(e){(0,d.B)(this,"value-changed",{value:e})}},{kind:"get",static:!0,key:"styles",value:function(){return[n.Qx,o.iv`.row{margin-bottom:8px}ha-textfield{display:block}ha-icon-button{display:block}mwc-button{margin-left:8px}#alias_input{margin-top:8px}.alias{border:1px solid var(--divider-color);border-radius:4px;margin-top:4px;--mdc-icon-button-size:24px}`]}}]}}),o.oi)},68101:(e,t,i)=>{var a=i(17463),o=(i(44577),i(68144)),s=i(79932),n=i(83448),d=i(14516),l=i(47181),r=i(58831),c=i(57066),h=i(57292),u=i(26765);i(77576),i(10983),i(52039);const v=e=>o.dy`<mwc-list-item class="${(0,n.$)({"add-new":"add_new"===e.area_id})}"> ${e.name} </mwc-list-item>`;(0,a.Z)([(0,s.Mo)("ha-area-picker")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"label",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"value",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"placeholder",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Boolean,attribute:"no-add"})],key:"noAdd",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Array,attribute:"include-domains"})],key:"includeDomains",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Array,attribute:"exclude-domains"})],key:"excludeDomains",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Array,attribute:"include-device-classes"})],key:"includeDeviceClasses",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Array,attribute:"exclude-areas"})],key:"excludeAreas",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"deviceFilter",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"entityFilter",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Boolean})],key:"disabled",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Boolean})],key:"required",value:void 0},{kind:"field",decorators:[(0,s.SB)()],key:"_opened",value:void 0},{kind:"field",decorators:[(0,s.IO)("ha-combo-box",!0)],key:"comboBox",value:void 0},{kind:"field",key:"_suggestion",value:void 0},{kind:"field",key:"_init",value:()=>!1},{kind:"method",key:"open",value:async function(){var e;await this.updateComplete,await(null===(e=this.comboBox)||void 0===e?void 0:e.open())}},{kind:"method",key:"focus",value:async function(){var e;await this.updateComplete,await(null===(e=this.comboBox)||void 0===e?void 0:e.focus())}},{kind:"field",key:"_getAreas",value(){return(0,d.Z)(((e,t,i,a,o,s,n,d,l,c)=>{if(!e.length)return[{area_id:"no_areas",name:this.hass.localize("ui.components.area-picker.no_areas"),picture:null,aliases:[]}];let u,v,p={};(a||o||s||n||d)&&(p=(0,h.R6)(i),u=t,v=i.filter((e=>e.area_id)),a&&(u=u.filter((e=>{const t=p[e.id];return!(!t||!t.length)&&p[e.id].some((e=>a.includes((0,r.M)(e.entity_id))))})),v=v.filter((e=>a.includes((0,r.M)(e.entity_id))))),o&&(u=u.filter((e=>{const t=p[e.id];return!t||!t.length||i.every((e=>!o.includes((0,r.M)(e.entity_id))))})),v=v.filter((e=>!o.includes((0,r.M)(e.entity_id))))),s&&(u=u.filter((e=>{const t=p[e.id];return!(!t||!t.length)&&p[e.id].some((e=>{const t=this.hass.states[e.entity_id];return!!t&&(t.attributes.device_class&&s.includes(t.attributes.device_class))}))})),v=v.filter((e=>{const t=this.hass.states[e.entity_id];return t.attributes.device_class&&s.includes(t.attributes.device_class)}))),n&&(u=u.filter((e=>n(e)))),d&&(u=u.filter((e=>{const t=p[e.id];return!(!t||!t.length)&&p[e.id].some((e=>{const t=this.hass.states[e.entity_id];return!!t&&d(t)}))})),v=v.filter((e=>{const t=this.hass.states[e.entity_id];return!!t&&d(t)}))));let m,y=e;var g;(u&&(m=u.filter((e=>e.area_id)).map((e=>e.area_id))),v)&&(m=(null!==(g=m)&&void 0!==g?g:[]).concat(v.filter((e=>e.area_id)).map((e=>e.area_id))));return m&&(y=e.filter((e=>m.includes(e.area_id)))),c&&(y=y.filter((e=>!c.includes(e.area_id)))),y.length||(y=[{area_id:"no_areas",name:this.hass.localize("ui.components.area-picker.no_match"),picture:null,aliases:[]}]),l?y:[...y,{area_id:"add_new",name:this.hass.localize("ui.components.area-picker.add_new"),picture:null,aliases:[]}]}))}},{kind:"method",key:"updated",value:function(e){if(!this._init&&this.hass||this._init&&e.has("_opened")&&this._opened){this._init=!0;const e=this._getAreas(Object.values(this.hass.areas),Object.values(this.hass.devices),Object.values(this.hass.entities),this.includeDomains,this.excludeDomains,this.includeDeviceClasses,this.deviceFilter,this.entityFilter,this.noAdd,this.excludeAreas);this.comboBox.items=e,this.comboBox.filteredItems=e}}},{kind:"method",key:"render",value:function(){var e;return o.dy` <ha-combo-box .hass="${this.hass}" .helper="${this.helper}" item-value-path="area_id" item-id-path="area_id" item-label-path="name" .value="${this.value}" .disabled="${this.disabled}" .required="${this.required}" .label="${void 0===this.label&&this.hass?this.hass.localize("ui.components.area-picker.area"):this.label}" .placeholder="${this.placeholder?null===(e=this.hass.areas[this.placeholder])||void 0===e?void 0:e.name:void 0}" .renderer="${v}" @filter-changed="${this._filterChanged}" @opened-changed="${this._openedChanged}" @value-changed="${this._areaChanged}"> </ha-combo-box> `}},{kind:"method",key:"_filterChanged",value:function(e){var t;const i=e.detail.value;if(!i)return void(this.comboBox.filteredItems=this.comboBox.items);const a=null===(t=this.comboBox.items)||void 0===t?void 0:t.filter((e=>e.name.toLowerCase().includes(i.toLowerCase())));this.noAdd||0!==(null==a?void 0:a.length)?this.comboBox.filteredItems=a:(this._suggestion=i,this.comboBox.filteredItems=[{area_id:"add_new_suggestion",name:this.hass.localize("ui.components.area-picker.add_new_sugestion",{name:this._suggestion}),picture:null}])}},{kind:"get",key:"_value",value:function(){return this.value||""}},{kind:"method",key:"_openedChanged",value:function(e){this._opened=e.detail.value}},{kind:"method",key:"_areaChanged",value:function(e){e.stopPropagation();let t=e.detail.value;"no_areas"===t&&(t=""),["add_new_suggestion","add_new"].includes(t)?(e.target.value=this._value,(0,u.D9)(this,{title:this.hass.localize("ui.components.area-picker.add_dialog.title"),text:this.hass.localize("ui.components.area-picker.add_dialog.text"),confirmText:this.hass.localize("ui.components.area-picker.add_dialog.add"),inputLabel:this.hass.localize("ui.components.area-picker.add_dialog.name"),defaultValue:"add_new_suggestion"===t?this._suggestion:void 0,confirm:async e=>{if(e)try{const t=await(0,c.Lo)(this.hass,{name:e}),i=[...Object.values(this.hass.areas),t];this.comboBox.filteredItems=this._getAreas(i,Object.values(this.hass.devices),Object.values(this.hass.entities),this.includeDomains,this.excludeDomains,this.includeDeviceClasses,this.deviceFilter,this.entityFilter,this.noAdd,this.excludeAreas),await this.updateComplete,await this.comboBox.updateComplete,this._setValue(t.area_id)}catch(e){(0,u.Ys)(this,{title:this.hass.localize("ui.components.area-picker.add_dialog.failed_create_area"),text:e.message})}},cancel:()=>{this._setValue(void 0),this._suggestion=void 0}})):t!==this._value&&this._setValue(t)}},{kind:"method",key:"_setValue",value:function(e){this.value=e,setTimeout((()=>{(0,l.B)(this,"value-changed",{value:e}),(0,l.B)(this,"change")}),0)}}]}}),o.oi)},77576:(e,t,i)=>{var a=i(17463),o=i(34541),s=i(47838),n=i(29530),d=(i(63873),i(53947)),l=i(68144),r=i(79932),c=i(30153),h=i(47181);i(10983),i(73366),i(3555);(0,d.hC)("vaadin-combo-box-item",l.iv`:host{padding:0!important}:host([focused]:not([disabled])){background-color:rgba(var(--rgb-primary-text-color,0,0,0),.12)}:host([selected]:not([disabled])){background-color:transparent;color:var(--mdc-theme-primary);--mdc-ripple-color:var(--mdc-theme-primary);--mdc-theme-text-primary-on-background:var(--mdc-theme-primary)}:host([selected]:not([disabled])):before{background-color:var(--mdc-theme-primary);opacity:.12;content:"";position:absolute;top:0;left:0;width:100%;height:100%}:host([selected][focused]:not([disabled])):before{opacity:.24}:host(:hover:not([disabled])){background-color:transparent}[part=content]{width:100%}[part=checkmark]{display:none}`);(0,a.Z)([(0,r.Mo)("ha-combo-box")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"label",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"value",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"placeholder",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"validationMessage",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,r.Cb)({attribute:"error-message"})],key:"errorMessage",value:void 0},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"invalid",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"icon",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"items",value:void 0},{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"filteredItems",value:void 0},{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"dataProvider",value:void 0},{kind:"field",decorators:[(0,r.Cb)({attribute:"allow-custom-value",type:Boolean})],key:"allowCustomValue",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({attribute:"item-value-path"})],key:"itemValuePath",value:()=>"value"},{kind:"field",decorators:[(0,r.Cb)({attribute:"item-label-path"})],key:"itemLabelPath",value:()=>"label"},{kind:"field",decorators:[(0,r.Cb)({attribute:"item-id-path"})],key:"itemIdPath",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"renderer",value:void 0},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"required",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean,reflect:!0,attribute:"opened"})],key:"opened",value:void 0},{kind:"field",decorators:[(0,r.IO)("vaadin-combo-box-light",!0)],key:"_comboBox",value:void 0},{kind:"field",decorators:[(0,r.IO)("ha-textfield",!0)],key:"_inputElement",value:void 0},{kind:"field",key:"_overlayMutationObserver",value:void 0},{kind:"field",key:"_bodyMutationObserver",value:void 0},{kind:"method",key:"open",value:async function(){var e;await this.updateComplete,null===(e=this._comboBox)||void 0===e||e.open()}},{kind:"method",key:"focus",value:async function(){var e,t;await this.updateComplete,await(null===(e=this._inputElement)||void 0===e?void 0:e.updateComplete),null===(t=this._inputElement)||void 0===t||t.focus()}},{kind:"method",key:"disconnectedCallback",value:function(){(0,o.Z)((0,s.Z)(i.prototype),"disconnectedCallback",this).call(this),this._overlayMutationObserver&&(this._overlayMutationObserver.disconnect(),this._overlayMutationObserver=void 0),this._bodyMutationObserver&&(this._bodyMutationObserver.disconnect(),this._bodyMutationObserver=void 0)}},{kind:"get",key:"selectedItem",value:function(){return this._comboBox.selectedItem}},{kind:"method",key:"setInputValue",value:function(e){this._comboBox.value=e}},{kind:"method",key:"render",value:function(){var e;return l.dy` <vaadin-combo-box-light .itemValuePath="${this.itemValuePath}" .itemIdPath="${this.itemIdPath}" .itemLabelPath="${this.itemLabelPath}" .items="${this.items}" .value="${this.value||""}" .filteredItems="${this.filteredItems}" .dataProvider="${this.dataProvider}" .allowCustomValue="${this.allowCustomValue}" .disabled="${this.disabled}" .required="${this.required}" ${(0,n.t)(this.renderer||this._defaultRowRenderer)} @opened-changed="${this._openedChanged}" @filter-changed="${this._filterChanged}" @value-changed="${this._valueChanged}" attr-for-value="value"> <ha-textfield label="${(0,c.o)(this.label)}" placeholder="${(0,c.o)(this.placeholder)}" ?disabled="${this.disabled}" ?required="${this.required}" validationMessage="${(0,c.o)(this.validationMessage)}" .errorMessage="${this.errorMessage}" class="input" autocapitalize="none" autocomplete="off" autocorrect="off" spellcheck="false" .suffix="${l.dy`<div style="width:28px" role="none presentation"></div>`}" .icon="${this.icon}" .invalid="${this.invalid}" helper="${(0,c.o)(this.helper)}" helperPersistent> <slot name="icon" slot="leadingIcon"></slot> </ha-textfield> ${this.value?l.dy`<ha-svg-icon role="button" tabindex="-1" aria-label="${(0,c.o)(null===(e=this.hass)||void 0===e?void 0:e.localize("ui.common.clear"))}" class="clear-button" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}" @click="${this._clearValue}"></ha-svg-icon>`:""} <ha-svg-icon role="button" tabindex="-1" aria-label="${(0,c.o)(this.label)}" aria-expanded="${this.opened?"true":"false"}" class="toggle-button" .path="${this.opened?"M7,15L12,10L17,15H7Z":"M7,10L12,15L17,10H7Z"}" @click="${this._toggleOpen}"></ha-svg-icon> </vaadin-combo-box-light> `}},{kind:"field",key:"_defaultRowRenderer",value(){return e=>l.dy`<ha-list-item> ${this.itemLabelPath?e[this.itemLabelPath]:e} </ha-list-item>`}},{kind:"method",key:"_clearValue",value:function(e){e.stopPropagation(),(0,h.B)(this,"value-changed",{value:void 0})}},{kind:"method",key:"_toggleOpen",value:function(e){var t,i;this.opened?(null===(t=this._comboBox)||void 0===t||t.close(),e.stopPropagation()):null===(i=this._comboBox)||void 0===i||i.inputElement.focus()}},{kind:"method",key:"_openedChanged",value:function(e){e.stopPropagation();const t=e.detail.value;if(setTimeout((()=>{this.opened=t}),0),(0,h.B)(this,"opened-changed",{value:e.detail.value}),t){const e=document.querySelector("vaadin-combo-box-overlay");e&&(e.setAttribute("required-vertical-space","0"),this._removeInert(e)),this._observeBody()}else{var i;null===(i=this._bodyMutationObserver)||void 0===i||i.disconnect(),this._bodyMutationObserver=void 0}}},{kind:"method",key:"_observeBody",value:function(){"MutationObserver"in window&&!this._bodyMutationObserver&&(this._bodyMutationObserver=new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.forEach((e=>{"VAADIN-COMBO-BOX-OVERLAY"===e.nodeName&&this._removeInert(e)})),e.removedNodes.forEach((e=>{var t;"VAADIN-COMBO-BOX-OVERLAY"===e.nodeName&&(null===(t=this._overlayMutationObserver)||void 0===t||t.disconnect(),this._overlayMutationObserver=void 0)}))}))})),this._bodyMutationObserver.observe(document.body,{childList:!0}))}},{kind:"method",key:"_removeInert",value:function(e){var t;if(e.inert)return e.inert=!1,null===(t=this._overlayMutationObserver)||void 0===t||t.disconnect(),void(this._overlayMutationObserver=void 0);"MutationObserver"in window&&!this._overlayMutationObserver&&(this._overlayMutationObserver=new MutationObserver((e=>{e.forEach((e=>{if("inert"===e.attributeName){const i=e.target;var t;if(i.inert)null===(t=this._overlayMutationObserver)||void 0===t||t.disconnect(),this._overlayMutationObserver=void 0,i.inert=!1}}))})),this._overlayMutationObserver.observe(e,{attributes:!0}))}},{kind:"method",key:"_filterChanged",value:function(e){e.stopPropagation(),(0,h.B)(this,"filter-changed",{value:e.detail.value})}},{kind:"method",key:"_valueChanged",value:function(e){e.stopPropagation();const t=e.detail.value;t!==this.value&&(0,h.B)(this,"value-changed",{value:t||void 0})}},{kind:"get",static:!0,key:"styles",value:function(){return l.iv`:host{display:block;width:100%}vaadin-combo-box-light{position:relative;--vaadin-combo-box-overlay-max-height:calc(45vh)}ha-textfield{width:100%}ha-textfield>ha-icon-button{--mdc-icon-button-size:24px;padding:2px;color:var(--secondary-text-color)}ha-svg-icon{color:var(--input-dropdown-icon-color);position:absolute;cursor:pointer}.toggle-button{right:12px;top:-10px;inset-inline-start:initial;inset-inline-end:12px;direction:var(--direction)}:host([opened]) .toggle-button{color:var(--primary-color)}.clear-button{--mdc-icon-size:20px;top:-7px;right:36px;inset-inline-start:initial;inset-inline-end:36px;direction:var(--direction)}`}}]}}),l.oi)},61878:(e,t,i)=>{var a=i(17463),o=i(68144),s=i(79932);(0,a.Z)([(0,s.Mo)("ha-dialog-header")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"method",key:"render",value:function(){return o.dy` <header class="header"> <div class="header-bar"> <section class="header-navigation-icon"> <slot name="navigationIcon"></slot> </section> <section class="header-title"> <slot name="title"></slot> </section> <section class="header-action-items"> <slot name="actionItems"></slot> </section> </div> <slot></slot> </header> `}},{kind:"get",static:!0,key:"styles",value:function(){return[o.iv`:host{display:block}:host([show-border]){border-bottom:1px solid var(--mdc-dialog-scroll-divider-color,rgba(0,0,0,.12))}.header-bar{display:flex;flex-direction:row;align-items:flex-start;padding:4px;box-sizing:border-box}.header-title{flex:1;font-size:22px;line-height:28px;font-weight:400;padding:10px 4px;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media all and (min-width:450px) and (min-height:500px){.header-bar{padding:12px}}.header-navigation-icon{flex:none;min-width:8px;height:100%;display:flex;flex-direction:row}.header-action-items{flex:none;min-width:8px;height:100%;display:flex;flex-direction:row}`]}}]}}),o.oi)},73366:(e,t,i)=>{i.d(t,{M:()=>c});var a=i(17463),o=i(34541),s=i(47838),n=i(61092),d=i(96762),l=i(68144),r=i(79932);let c=(0,a.Z)([(0,r.Mo)("ha-list-item")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"method",key:"renderRipple",value:function(){return this.noninteractive?"":(0,o.Z)((0,s.Z)(i.prototype),"renderRipple",this).call(this)}},{kind:"get",static:!0,key:"styles",value:function(){return[d.W,l.iv`:host{padding-left:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-right:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px))}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:48px}span.material-icons:first-of-type{margin-inline-start:0px!important;margin-inline-end:var(--mdc-list-item-graphic-margin,16px)!important;direction:var(--direction)}span.material-icons:last-of-type{margin-inline-start:auto!important;margin-inline-end:0px!important;direction:var(--direction)}.mdc-deprecated-list-item__meta{display:var(--mdc-list-item-meta-display);align-items:center}:host([multiline-secondary]){height:auto}:host([multiline-secondary]) .mdc-deprecated-list-item__text{padding:8px 0}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text{text-overflow:initial;white-space:normal;overflow:auto;display:inline-block;margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text{margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text::before{display:none}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text::before{display:none}:host([disabled]){color:var(--disabled-text-color)}:host([noninteractive]){pointer-events:unset}`]}}]}}),n.K)},14089:(e,t,i)=>{var a=i(17463),o=i(68144),s=i(79932);(0,a.Z)([(0,s.Mo)("ha-settings-row")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.Cb)({type:Boolean,reflect:!0})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Boolean,attribute:"three-line"})],key:"threeLine",value:()=>!1},{kind:"method",key:"render",value:function(){return o.dy` <div class="prefix-wrap"> <slot name="prefix"></slot> <div class="body" ?two-line="${!this.threeLine}" ?three-line="${this.threeLine}"> <slot name="heading"></slot> <div class="secondary"><slot name="description"></slot></div> </div> </div> <div class="content"><slot></slot></div> `}},{kind:"get",static:!0,key:"styles",value:function(){return o.iv`:host{display:flex;padding:0 16px;align-content:normal;align-self:auto;align-items:center}.body{padding:8px 16px 8px 0;overflow:hidden;display:var(--layout-vertical_-_display);flex-direction:var(--layout-vertical_-_flex-direction);justify-content:var(--layout-center-justified_-_justify-content);flex:var(--layout-flex_-_flex);flex-basis:var(--layout-flex_-_flex-basis)}.body[three-line]{min-height:var(--paper-item-body-three-line-min-height,88px)}.body>*{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.body>.secondary{display:block;padding-top:4px;font-family:var(--mdc-typography-body2-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));-webkit-font-smoothing:antialiased;font-size:var(--mdc-typography-body2-font-size,.875rem);font-weight:var(--mdc-typography-body2-font-weight,400);line-height:normal;color:var(--secondary-text-color)}.body[two-line]{min-height:calc(var(--paper-item-body-two-line-min-height,72px) - 16px);flex:1}.content{display:contents}:host(:not([narrow])) .content{display:var(--settings-row-content-display,flex);justify-content:flex-end;flex:1;padding:16px 0}.content ::slotted(*){width:var(--settings-row-content-width)}:host([narrow]){align-items:normal;flex-direction:column;border-top:1px solid var(--divider-color);padding-bottom:8px}::slotted(ha-switch){padding:16px 0}.secondary{white-space:normal}.prefix-wrap{display:var(--settings-row-prefix-display)}:host([narrow]) .prefix-wrap{display:flex;align-items:center}`}}]}}),o.oi)},43709:(e,t,i)=>{var a=i(17463),o=i(34541),s=i(47838),n=i(53464),d=i(4301),l=i(68144),r=i(79932),c=i(62359);(0,a.Z)([(0,r.Mo)("ha-switch")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"haptic",value:()=>!1},{kind:"method",key:"firstUpdated",value:function(){(0,o.Z)((0,s.Z)(i.prototype),"firstUpdated",this).call(this),this.addEventListener("change",(()=>{this.haptic&&(0,c.j)("light")}))}},{kind:"field",static:!0,key:"styles",value:()=>[d.W,l.iv`:host{--mdc-theme-secondary:var(--switch-checked-color)}.mdc-switch.mdc-switch--checked .mdc-switch__thumb{background-color:var(--switch-checked-button-color);border-color:var(--switch-checked-button-color)}.mdc-switch.mdc-switch--checked .mdc-switch__track{background-color:var(--switch-checked-track-color);border-color:var(--switch-checked-track-color)}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__thumb{background-color:var(--switch-unchecked-button-color);border-color:var(--switch-unchecked-button-color)}.mdc-switch:not(.mdc-switch--checked) .mdc-switch__track{background-color:var(--switch-unchecked-track-color);border-color:var(--switch-unchecked-track-color)}`]}]}}),n.H)},62884:(e,t,i)=>{i.d(t,{A:()=>o,M:()=>s});var a=i(47181);const o=(e,t)=>(0,a.B)(e,"hass-more-info",t),s=e=>(0,a.B)(e,"hass-more-info",{entityId:null})},56576:(e,t,i)=>{i.r(t);var a=i(17463),o=(i(14271),i(68144)),s=i(79932),n=i(47181),d=i(91741),l=(i(61878),i(62884)),r=i(11654);i(59659);(0,a.Z)([(0,s.Mo)("dialog-voice-settings")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.SB)()],key:"_params",value:void 0},{kind:"method",key:"showDialog",value:function(e){this._params=e}},{kind:"method",key:"closeDialog",value:function(){this._params=void 0,(0,n.B)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"_viewMoreInfo",value:function(){(0,l.A)(this,{entityId:this._params.entityId}),this.closeDialog()}},{kind:"method",key:"render",value:function(){if(!this._params)return o.Ld;const e=(0,d.C)(this.hass.states[this._params.entityId])||this.hass.localize("ui.panel.config.entities.picker.unnamed_entity");return o.dy` <ha-dialog open @closed="${this.closeDialog}" hideActions .heading="${e}"> <ha-dialog-header slot="heading"> <ha-icon-button slot="navigationIcon" dialogAction="cancel" .label="${this.hass.localize("ui.common.close")}" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}"></ha-icon-button> <span slot="title" .title="${e}">${e}</span> <ha-icon-button slot="actionItems" .label="${this.hass.localize("ui.dialogs.voice-settings.view_entity")}" .path="${"M7 3H5V9H7V3M19 3H17V13H19V3M3 13H5V21H7V13H9V11H3V13M15 7H13V3H11V7H9V9H15V7M11 21H13V11H11V21M15 15V17H17V21H19V17H21V15H15Z"}" @click="${this._viewMoreInfo}"></ha-icon-button> </ha-dialog-header> <div> <entity-voice-settings .hass="${this.hass}" .entityId="${this._params.entityId}" .entry="${this._params.extEntityReg}" .exposed="${this._params.exposed}" @entity-entry-updated="${this._entityEntryUpdated}" @exposed-entities-changed="${this._exposedEntitiesChanged}"></entity-voice-settings> </div> </ha-dialog> `}},{kind:"method",key:"_entityEntryUpdated",value:function(e){this._params.extEntityReg=e.detail}},{kind:"method",key:"_exposedEntitiesChanged",value:function(){var e,t;null===(e=(t=this._params).exposedEntitiesChanged)||void 0===e||e.call(t)}},{kind:"get",static:!0,key:"styles",value:function(){return[r.Qx,r.yu,o.iv`ha-dialog{--dialog-content-padding:0}`]}}]}}),o.oi)},59659:(e,t,i)=>{var a=i(17463),o=i(68144),s=i(79932),n=i(14516),d=i(7323),l=i(47181),r=i(45485),c=(i(66737),i(14089),i(43709),i(27434)),h=i(83270),u=i(74186),v=i(89777),p=i(79337),m=i(73826),y=i(11654),g=i(11254),f=i(27322);(0,a.Z)([(0,s.Mo)("entity-voice-settings")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"entityId",value:void 0},{kind:"field",decorators:[(0,s.Cb)({attribute:!1})],key:"exposed",value:void 0},{kind:"field",decorators:[(0,s.Cb)({attribute:!1})],key:"entry",value:void 0},{kind:"field",decorators:[(0,s.SB)()],key:"_cloudStatus",value:void 0},{kind:"field",decorators:[(0,s.SB)()],key:"_aliases",value:void 0},{kind:"field",decorators:[(0,s.SB)()],key:"_googleEntity",value:void 0},{kind:"field",decorators:[(0,s.SB)()],key:"_unsupported",value:()=>({})},{kind:"method",key:"willUpdate",value:function(e){(0,d.p)(this.hass,"cloud")&&(e.has("entityId")&&this.entityId&&this._fetchEntities(),this.hasUpdated||(0,h.LI)(this.hass).then((e=>{this._cloudStatus=e})))}},{kind:"method",key:"_fetchEntities",value:async function(){try{const e=await(0,v.Jq)(this.hass,this.entityId);this._googleEntity=e,this.requestUpdate("_googleEntity")}catch(e){"not_supported"===e.code&&(this._unsupported["cloud.google_assistant"]=!0,this.requestUpdate("_unsupported"))}try{await(0,c.Zo)(this.hass,this.entityId)}catch(e){"not_supported"===e.code&&(this._unsupported["cloud.alexa"]=!0,this.requestUpdate("_unsupported"))}}},{kind:"field",key:"_getEntityFilterFuncs",value:()=>(0,n.Z)(((e,t)=>({google:(0,r.h)(e.include_domains,e.include_entities,e.exclude_domains,e.exclude_entities),alexa:(0,r.h)(t.include_domains,t.include_entities,t.exclude_domains,t.exclude_entities)})))},{kind:"method",key:"render",value:function(){var e,t,i;const a=!0===(null===(e=this._cloudStatus)||void 0===e?void 0:e.logged_in)&&!0===this._cloudStatus.prefs.google_enabled,s=!0===(null===(t=this._cloudStatus)||void 0===t?void 0:t.logged_in)&&!0===this._cloudStatus.prefs.alexa_enabled,n=[...Object.keys(p.rx)],d=[...n],l=s&&!(0,r.E)(this._cloudStatus.alexa_entities),c=a&&!(0,r.E)(this._cloudStatus.google_entities);a?c&&d.splice(d.indexOf("cloud.google_assistant"),1):(n.splice(n.indexOf("cloud.google_assistant"),1),d.splice(n.indexOf("cloud.google_assistant"),1)),s?l&&d.splice(d.indexOf("cloud.alexa"),1):(n.splice(n.indexOf("cloud.alexa"),1),d.splice(d.indexOf("cloud.alexa"),1));const h=d.some((e=>this.exposed[e]));let u;(l||c)&&(u=this._getEntityFilterFuncs(this._cloudStatus.google_entities,this._cloudStatus.alexa_entities));const v=l&&u.alexa(this.entityId),m=c&&u.google(this.entityId),y=h||v||m;return o.dy` <ha-settings-row> <h3 slot="heading"> ${this.hass.localize("ui.dialogs.voice-settings.expose_header")} </h3> <ha-switch @change="${this._toggleAll}" .assistants="${d}" .checked="${y}"></ha-switch> </ha-settings-row> ${y?n.map((e=>{var t,i;const a=!this._unsupported[e],s=l&&"cloud.alexa"===e?v:c&&"cloud.google_assistant"===e?m:this.exposed[e],n=l&&"cloud.alexa"===e||c&&"cloud.google_assistant"===e,d="cloud.google_assistant"===e&&!c&&a&&(null===(t=this._googleEntity)||void 0===t?void 0:t.might_2fa);return o.dy` <ha-settings-row .threeLine="${!a&&n}"> <img alt="" src="${(0,g.X1)({domain:p.rx[e].domain,type:"icon",darkOptimized:null===(i=this.hass.themes)||void 0===i?void 0:i.darkMode})}" referrerpolicy="no-referrer" slot="prefix"> <span slot="heading">${p.rx[e].name}</span> ${a?o.Ld:o.dy`<div slot="description" class="unsupported"> <ha-svg-icon .path="${"M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}"></ha-svg-icon> ${this.hass.localize("ui.dialogs.voice-settings.unsupported")} </div>`} ${n?o.dy` <div slot="description"> ${this.hass.localize("ui.dialogs.voice-settings.manual_config")} </div> `:o.Ld} ${d?o.dy` <ha-formfield slot="description" .label="${this.hass.localize("ui.dialogs.voice-settings.ask_pin")}"> <ha-checkbox .checked="${!this._googleEntity.disable_2fa}" @change="${this._2faChanged}"></ha-checkbox> </ha-formfield> `:o.Ld} <ha-switch .assistant="${e}" @change="${this._toggleAssistant}" .disabled="${n||!s&&!a}" .checked="${s}"></ha-switch> </ha-settings-row> `})):o.Ld} <h3 class="header"> ${this.hass.localize("ui.dialogs.voice-settings.aliases_header")} </h3> <p class="description"> ${this.hass.localize("ui.dialogs.voice-settings.aliases_description")} </p> ${this.entry?o.dy`<ha-aliases-editor .hass="${this.hass}" .aliases="${null!==(i=this._aliases)&&void 0!==i?i:this.entry.aliases}" @value-changed="${this._aliasesChanged}" @blur="${this._saveAliases}"></ha-aliases-editor>`:o.dy`<ha-alert alert-type="warning"> ${this.hass.localize("ui.dialogs.voice-settings.aliases_no_unique_id",{faq_link:o.dy`<a href="${(0,f.R)(this.hass,"/faq/unique_id")}" target="_blank" rel="noreferrer">${this.hass.localize("ui.dialogs.entity_registry.faq")}</a>`})} </ha-alert>`} `}},{kind:"method",key:"_aliasesChanged",value:function(e){this._aliases=e.detail.value}},{kind:"method",key:"_2faChanged",value:async function(e){try{await(0,h.QD)(this.hass,this.entityId,!e.target.checked)}catch(t){e.target.checked=!e.target.checked}}},{kind:"method",key:"_saveAliases",value:async function(){if(!this._aliases)return;const e=await(0,u.Nv)(this.hass,this.entityId,{aliases:this._aliases.map((e=>e.trim())).filter((e=>e))});(0,l.B)(this,"entity-entry-updated",e.entity_entry)}},{kind:"method",key:"_toggleAssistant",value:async function(e){if((0,p._v)(this.hass,[e.target.assistant],[this.entityId],e.target.checked),this.entry){const e=await(0,u.L3)(this.hass,this.entityId);(0,l.B)(this,"entity-entry-updated",e)}(0,l.B)(this,"exposed-entities-changed")}},{kind:"method",key:"_toggleAll",value:async function(e){const t=e.target.checked?e.target.assistants.filter((e=>!this._unsupported[e])):e.target.assistants;if((0,p._v)(this.hass,t,[this.entityId],e.target.checked),this.entry){const e=await(0,u.L3)(this.hass,this.entityId);(0,l.B)(this,"entity-entry-updated",e)}(0,l.B)(this,"exposed-entities-changed")}},{kind:"get",static:!0,key:"styles",value:function(){return[y.Qx,o.iv`:host{display:block;margin:32px;margin-top:0;--settings-row-prefix-display:contents;--settings-row-content-display:contents}ha-settings-row{padding:0}img{height:32px;width:32px;margin-right:16px}ha-aliases-editor{display:block}ha-alert{display:block;margin-top:16px}ha-formfield{margin-left:-8px}ha-checkbox{--mdc-checkbox-state-layer-size:40px}.unsupported{display:flex;align-items:center}.unsupported ha-svg-icon{color:var(--error-color);--mdc-icon-size:16px;margin-right:4px}.header{margin-top:8px;margin-bottom:4px}.description{color:var(--secondary-text-color);font-size:14px;line-height:20px;margin-top:0;margin-bottom:16px}`]}}]}}),(0,m.f)(o.oi))},27322:(e,t,i)=>{i.d(t,{R:()=>a});const a=(e,t)=>`https://www.iobroker.net/#${e.language&&e.language.split("-")[0]||"en"}/adapters/adapterref/iobroker.lovelace/README.md`}}]);
//# sourceMappingURL=56576-UmAVVkjiviI.js.map