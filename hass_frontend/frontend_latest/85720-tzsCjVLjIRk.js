/*! For license information please see 85720-tzsCjVLjIRk.js.LICENSE.txt */
export const id=85720;export const ids=[85720,76091,40967];export const modules={54040:(e,t,i)=>{var a=i(43204),n=i(79932),o=i(58417),s=i(39274);let r=class extends o.A{};r.styles=[s.W],r=(0,a.__decorate)([(0,n.Mo)("mwc-checkbox")],r)},56887:(e,t,i)=>{i.d(t,{F:()=>d});var a=i(43204),n=(i(54040),i(68144)),o=i(79932),s=i(83448),r=i(61092);class d extends r.K{constructor(){super(...arguments),this.left=!1,this.graphic="control"}render(){const e={"mdc-deprecated-list-item__graphic":this.left,"mdc-deprecated-list-item__meta":!this.left},t=this.renderText(),i=this.graphic&&"control"!==this.graphic&&!this.left?this.renderGraphic():n.dy``,a=this.hasMeta&&this.left?this.renderMeta():n.dy``,o=this.renderRipple();return n.dy` ${o} ${i} ${this.left?"":t} <span class="${(0,s.$)(e)}"> <mwc-checkbox reducedTouchTarget tabindex="${this.tabindex}" .checked="${this.selected}" ?disabled="${this.disabled}" @change="${this.onChange}"> </mwc-checkbox> </span> ${this.left?t:""} ${a}`}async onChange(e){const t=e.target;this.selected===t.checked||(this._skipPropRequest=!0,this.selected=t.checked,await this.updateComplete,this._skipPropRequest=!1)}}(0,a.__decorate)([(0,o.IO)("slot")],d.prototype,"slotElement",void 0),(0,a.__decorate)([(0,o.IO)("mwc-checkbox")],d.prototype,"checkboxElement",void 0),(0,a.__decorate)([(0,o.Cb)({type:Boolean})],d.prototype,"left",void 0),(0,a.__decorate)([(0,o.Cb)({type:String,reflect:!0})],d.prototype,"graphic",void 0)},21270:(e,t,i)=>{i.d(t,{W:()=>a});const a=i(68144).iv`:host(:not([twoline])){height:56px}:host(:not([left])) .mdc-deprecated-list-item__meta{height:40px;width:40px}`},25782:(e,t,i)=>{i(39975),i(65660),i(70019),i(97968);var a=i(9672),n=i(50856),o=i(33760);(0,a.k)({_template:n.d`
    <style include="paper-item-shared-styles"></style>
    <style>
      :host {
        @apply --layout-horizontal;
        @apply --layout-center;
        @apply --paper-font-subhead;

        @apply --paper-item;
        @apply --paper-icon-item;
      }

      .content-icon {
        @apply --layout-horizontal;
        @apply --layout-center;

        width: var(--paper-item-icon-width, 56px);
        @apply --paper-item-icon;
      }
    </style>

    <div id="contentIcon" class="content-icon">
      <slot name="item-icon"></slot>
    </div>
    <slot></slot>
`,is:"paper-icon-item",behaviors:[o.U]})},33760:(e,t,i)=>{i.d(t,{U:()=>o});i(39975);var a=i(51644),n=i(26110);const o=[a.P,n.a,{hostAttributes:{role:"option",tabindex:"0"}}]},89194:(e,t,i)=>{i(39975),i(65660),i(70019);var a=i(9672),n=i(50856);(0,a.k)({_template:n.d`
    <style>
      :host {
        overflow: hidden; /* needed for text-overflow: ellipsis to work on ff */
        @apply --layout-vertical;
        @apply --layout-center-justified;
        @apply --layout-flex;
      }

      :host([two-line]) {
        min-height: var(--paper-item-body-two-line-min-height, 72px);
      }

      :host([three-line]) {
        min-height: var(--paper-item-body-three-line-min-height, 88px);
      }

      :host > ::slotted(*) {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      :host > ::slotted([secondary]) {
        @apply --paper-font-body1;

        color: var(--paper-item-body-secondary-color, var(--secondary-text-color));

        @apply --paper-item-body-secondary;
      }
    </style>

    <slot></slot>
`,is:"paper-item-body"})},97968:(e,t,i)=>{i(65660),i(70019);const a=document.createElement("template");a.setAttribute("style","display: none;"),a.innerHTML="<dom-module id=\"paper-item-shared-styles\">\n  <template>\n    <style>\n      :host, .paper-item {\n        display: block;\n        position: relative;\n        min-height: var(--paper-item-min-height, 48px);\n        padding: 0px 16px;\n      }\n\n      .paper-item {\n        @apply --paper-font-subhead;\n        border:none;\n        outline: none;\n        background: white;\n        width: 100%;\n        text-align: left;\n      }\n\n      :host([hidden]), .paper-item[hidden] {\n        display: none !important;\n      }\n\n      :host(.iron-selected), .paper-item.iron-selected {\n        font-weight: var(--paper-item-selected-weight, bold);\n\n        @apply --paper-item-selected;\n      }\n\n      :host([disabled]), .paper-item[disabled] {\n        color: var(--paper-item-disabled-color, var(--disabled-text-color));\n\n        @apply --paper-item-disabled;\n      }\n\n      :host(:focus), .paper-item:focus {\n        position: relative;\n        outline: 0;\n\n        @apply --paper-item-focused;\n      }\n\n      :host(:focus):before, .paper-item:focus:before {\n        @apply --layout-fit;\n\n        background: currentColor;\n        content: '';\n        opacity: var(--dark-divider-opacity);\n        pointer-events: none;\n\n        @apply --paper-item-focused-before;\n      }\n    </style>\n  </template>\n</dom-module>",document.head.appendChild(a.content)},53973:(e,t,i)=>{i(39975),i(65660),i(97968);var a=i(9672),n=i(50856),o=i(33760);(0,a.k)({_template:n.d`
    <style include="paper-item-shared-styles">
      :host {
        @apply --layout-horizontal;
        @apply --layout-center;
        @apply --paper-font-subhead;

        @apply --paper-item;
      }
    </style>
    <slot></slot>
`,is:"paper-item",behaviors:[o.U]})},34007:(e,t,i)=>{i.d(t,{N:()=>n});const a=[" ",": "],n=(e,t)=>{const i=e.toLowerCase();for(const n of a){const a=`${t}${n}`;if(i.startsWith(a)){const t=e.substring(a.length);if(t.length)return o(t.substr(0,t.indexOf(" ")))?t:t[0].toUpperCase()+t.slice(1)}}},o=e=>e.toLowerCase()!==e},78866:(e,t,i)=>{i.d(t,{D:()=>f,S:()=>v});var a=i(68144),n=i(81582),o=i(5986),s=i(75580),r=i(2852),d=i(26765),l=i(25145),c=i(70332),h=i(27322),u=i(7323),p=i(83849);const v=["zha","zwave_js","matter"],f=async(e,t,i,v)=>{if(null!=v&&v.domain){const e=await t.loadBackendTranslation("title",v.domain);v.domain=(0,o.Lh)(e,v.domain)}if(null!=v&&v.brand){var f;const e=await(0,s.G)(t);v.brand=(null===(f=e.core.integration[v.brand])||void 0===f?void 0:f.name)||v.brand}if("zwave_js"===i){const o=null!=v&&v.config_entry?void 0:await(0,n.pB)(t,{domain:i});if(!((0,u.p)(t,"zwave_js")&&(null!=v&&v.config_entry||null!=o&&o.length)))return void(0,d.g7)(e,{title:t.localize("ui.panel.config.integrations.config_flow.missing_zwave_zigbee_title",{integration:"Z-Wave"}),text:t.localize("ui.panel.config.integrations.config_flow.missing_zwave_zigbee",{integration:"Z-Wave",brand:(null==v?void 0:v.brand)||(null==v?void 0:v.domain)||"Z-Wave",supported_hardware_link:a.dy`<a href="${(0,h.R)(t,"/docs/z-wave/controllers")}" target="_blank" rel="noreferrer">${t.localize("ui.panel.config.integrations.config_flow.supported_hardware")}</a>`}),confirmText:t.localize("ui.panel.config.integrations.config_flow.proceed"),confirm:()=>{(0,r.t)(e,{startFlowHandler:"zwave_js"})}});(0,c.B)(e,{entry_id:(null==v?void 0:v.config_entry)||o[0].entry_id})}else if("zha"===i){const o=null!=v&&v.config_entry?void 0:await(0,n.pB)(t,{domain:i});if(!((0,u.p)(t,"zha")&&(null!=v&&v.config_entry||null!=o&&o.length)))return void(0,d.g7)(e,{title:t.localize("ui.panel.config.integrations.config_flow.missing_zwave_zigbee_title",{integration:"Zigbee"}),text:t.localize("ui.panel.config.integrations.config_flow.missing_zwave_zigbee",{integration:"Zigbee",brand:(null==v?void 0:v.brand)||(null==v?void 0:v.domain)||"Zigbee",supported_hardware_link:a.dy`<a href="${(0,h.R)(t,"/integrations/zha/#known-working-zigbee-radio-modules")}" target="_blank" rel="noreferrer">${t.localize("ui.panel.config.integrations.config_flow.supported_hardware")}</a>`}),confirmText:t.localize("ui.panel.config.integrations.config_flow.proceed"),confirm:()=>{(0,r.t)(e,{startFlowHandler:"zha"})}});(0,p.c)("/config/zha/add")}else if("matter"===i){const o=null!=v&&v.config_entry?void 0:await(0,n.pB)(t,{domain:i});if(!((0,u.p)(t,i)&&(null!=v&&v.config_entry||null!=o&&o.length)))return void(0,d.g7)(e,{title:t.localize("ui.panel.config.integrations.config_flow.missing_zwave_zigbee_title",{integration:"Matter"}),text:t.localize("ui.panel.config.integrations.config_flow.missing_matter",{integration:"Matter",brand:(null==v?void 0:v.brand)||(null==v?void 0:v.domain)||"Matter",supported_hardware_link:a.dy`<a href="${(0,h.R)(t,"/integrations/matter")}" target="_blank" rel="noreferrer">${t.localize("ui.panel.config.integrations.config_flow.supported_hardware")}</a>`}),confirmText:t.localize("ui.panel.config.integrations.config_flow.proceed"),confirm:()=>{(0,r.t)(e,{startFlowHandler:"matter"})}});(0,l.H)(e)}}},92306:(e,t,i)=>{i.d(t,{v:()=>a});const a=(e,t)=>{const i={};for(const a of e){const e=t(a);e in i?i[e].push(a):i[e]=[a]}return i}},57793:(e,t,i)=>{var a=i(17463),n=i(68144),o=i(79932),s=i(44634);i(52039);(0,a.Z)([(0,o.Mo)("ha-battery-icon")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.Cb)()],key:"batteryStateObj",value:void 0},{kind:"field",decorators:[(0,o.Cb)()],key:"batteryChargingStateObj",value:void 0},{kind:"method",key:"render",value:function(){return n.dy` <ha-svg-icon .path="${(0,s.$)(this.batteryStateObj,this.batteryChargingStateObj)}"></ha-svg-icon> `}}]}}),n.oi)},81545:(e,t,i)=>{var a=i(17463),n=i(34541),o=i(47838),s=(i(65666),i(68144)),r=i(79932),d=i(74265);(0,a.Z)([(0,r.Mo)("ha-button-menu")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",key:d.gA,value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"corner",value:()=>"BOTTOM_START"},{kind:"field",decorators:[(0,r.Cb)()],key:"menuCorner",value:()=>"START"},{kind:"field",decorators:[(0,r.Cb)({type:Number})],key:"x",value:()=>null},{kind:"field",decorators:[(0,r.Cb)({type:Number})],key:"y",value:()=>null},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"multi",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"activatable",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"fixed",value:()=>!1},{kind:"field",decorators:[(0,r.IO)("mwc-menu",!0)],key:"_menu",value:void 0},{kind:"get",key:"items",value:function(){var e;return null===(e=this._menu)||void 0===e?void 0:e.items}},{kind:"get",key:"selected",value:function(){var e;return null===(e=this._menu)||void 0===e?void 0:e.selected}},{kind:"method",key:"focus",value:function(){var e,t;null!==(e=this._menu)&&void 0!==e&&e.open?this._menu.focusItemAtIndex(0):null===(t=this._triggerButton)||void 0===t||t.focus()}},{kind:"method",key:"render",value:function(){return s.dy` <div @click="${this._handleClick}"> <slot name="trigger" @slotchange="${this._setTriggerAria}"></slot> </div> <mwc-menu .corner="${this.corner}" .menuCorner="${this.menuCorner}" .fixed="${this.fixed}" .multi="${this.multi}" .activatable="${this.activatable}" .y="${this.y}" .x="${this.x}"> <slot></slot> </mwc-menu> `}},{kind:"method",key:"firstUpdated",value:function(e){(0,n.Z)((0,o.Z)(i.prototype),"firstUpdated",this).call(this,e),"rtl"===document.dir&&this.updateComplete.then((()=>{this.querySelectorAll("mwc-list-item").forEach((e=>{const t=document.createElement("style");t.innerHTML="span.material-icons:first-of-type { margin-left: var(--mdc-list-item-graphic-margin, 32px) !important; margin-right: 0px !important;}",e.shadowRoot.appendChild(t)}))}))}},{kind:"method",key:"_handleClick",value:function(){this.disabled||(this._menu.anchor=this,this._menu.show())}},{kind:"get",key:"_triggerButton",value:function(){return this.querySelector('ha-icon-button[slot="trigger"], mwc-button[slot="trigger"]')}},{kind:"method",key:"_setTriggerAria",value:function(){this._triggerButton&&(this._triggerButton.ariaHasPopup="menu")}},{kind:"get",static:!0,key:"styles",value:function(){return s.iv`:host{display:inline-block;position:relative}::slotted([disabled]){color:var(--disabled-text-color)}`}}]}}),s.oi)},84431:(e,t,i)=>{var a=i(17463),n=i(68144),o=i(56887),s=i(21270),r=i(96762),d=i(79932);(0,a.Z)([(0,d.Mo)("ha-check-list-item")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",static:!0,key:"styles",value:()=>[r.W,s.W,n.iv`:host{--mdc-theme-secondary:var(--primary-color)}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic,:host([graphic=control]) .mdc-deprecated-list-item__graphic,:host([graphic=large]) .mdc-deprecated-list-item__graphic,:host([graphic=medium]) .mdc-deprecated-list-item__graphic{margin-inline-end:var(--mdc-list-item-graphic-margin,16px);margin-inline-start:0px;direction:var(--direction)}`]}]}}),o.F)},31206:(e,t,i)=>{i.r(t),i.d(t,{HaCircularProgress:()=>l});var a=i(17463),n=i(34541),o=i(47838),s=i(30879),r=i(68144),d=i(79932);let l=(0,a.Z)([(0,d.Mo)("ha-circular-progress")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,d.Cb)({type:Boolean})],key:"active",value:()=>!1},{kind:"field",decorators:[(0,d.Cb)()],key:"alt",value:()=>"Loading"},{kind:"field",decorators:[(0,d.Cb)()],key:"size",value:()=>"medium"},{kind:"set",key:"density",value:function(e){}},{kind:"get",key:"density",value:function(){switch(this.size){case"tiny":return-8;case"small":return-5;case"medium":default:return 0;case"large":return 5}}},{kind:"set",key:"indeterminate",value:function(e){}},{kind:"get",key:"indeterminate",value:function(){return this.active}},{kind:"get",static:!0,key:"styles",value:function(){return[(0,n.Z)((0,o.Z)(i),"styles",this),r.iv`:host{overflow:hidden}`]}}]}}),s.D)},45036:(e,t,i)=>{var a=i(17463),n=i(34541),o=i(47838),s=i(68144),r=i(79932),d=i(73366);(0,a.Z)([(0,r.Mo)("ha-clickable-list-item")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.Cb)()],key:"href",value:void 0},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"disableHref",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean,reflect:!0})],key:"openNewTab",value:()=>!1},{kind:"field",decorators:[(0,r.IO)("a")],key:"_anchor",value:void 0},{kind:"method",key:"render",value:function(){const e=(0,n.Z)((0,o.Z)(i.prototype),"render",this).call(this),t=this.href||"";return s.dy`${this.disableHref?s.dy`<a>${e}</a>`:s.dy`<a target="${this.openNewTab?"_blank":""}" href="${t}">${e}</a>`}`}},{kind:"method",key:"firstUpdated",value:function(){(0,n.Z)((0,o.Z)(i.prototype),"firstUpdated",this).call(this),this.addEventListener("keydown",(e=>{"Enter"!==e.key&&" "!==e.key||this._anchor.click()}))}},{kind:"get",static:!0,key:"styles",value:function(){return[(0,n.Z)((0,o.Z)(i),"styles",this),s.iv`a{width:100%;height:100%;display:flex;align-items:center;padding-left:var(--mdc-list-side-padding,20px);padding-right:var(--mdc-list-side-padding,20px);overflow:hidden}`]}}]}}),d.M)},73366:(e,t,i)=>{i.d(t,{M:()=>c});var a=i(17463),n=i(34541),o=i(47838),s=i(61092),r=i(96762),d=i(68144),l=i(79932);let c=(0,a.Z)([(0,l.Mo)("ha-list-item")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"method",key:"renderRipple",value:function(){return this.noninteractive?"":(0,n.Z)((0,o.Z)(i.prototype),"renderRipple",this).call(this)}},{kind:"get",static:!0,key:"styles",value:function(){return[r.W,d.iv`:host{padding-left:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-right:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px))}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:48px}span.material-icons:first-of-type{margin-inline-start:0px!important;margin-inline-end:var(--mdc-list-item-graphic-margin,16px)!important;direction:var(--direction)}span.material-icons:last-of-type{margin-inline-start:auto!important;margin-inline-end:0px!important;direction:var(--direction)}.mdc-deprecated-list-item__meta{display:var(--mdc-list-item-meta-display);align-items:center}:host([multiline-secondary]){height:auto}:host([multiline-secondary]) .mdc-deprecated-list-item__text{padding:8px 0}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text{text-overflow:initial;white-space:normal;overflow:auto;display:inline-block;margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text{margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text::before{display:none}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text::before{display:none}:host([disabled]){color:var(--disabled-text-color)}:host([noninteractive]){pointer-events:unset}`]}}]}}),s.K)},3555:(e,t,i)=>{var a=i(17463),n=i(34541),o=i(47838),s=i(42977),r=i(31338),d=i(68144),l=i(79932);(0,a.Z)([(0,l.Mo)("ha-textfield")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,l.Cb)({type:Boolean})],key:"invalid",value:void 0},{kind:"field",decorators:[(0,l.Cb)({attribute:"error-message"})],key:"errorMessage",value:void 0},{kind:"field",decorators:[(0,l.Cb)({type:Boolean})],key:"icon",value:void 0},{kind:"field",decorators:[(0,l.Cb)({type:Boolean})],key:"iconTrailing",value:void 0},{kind:"field",decorators:[(0,l.Cb)()],key:"autocomplete",value:void 0},{kind:"field",decorators:[(0,l.Cb)()],key:"autocorrect",value:void 0},{kind:"field",decorators:[(0,l.Cb)({attribute:"input-spellcheck"})],key:"inputSpellcheck",value:void 0},{kind:"field",decorators:[(0,l.IO)("input")],key:"formElement",value:void 0},{kind:"method",key:"updated",value:function(e){(0,n.Z)((0,o.Z)(i.prototype),"updated",this).call(this,e),(e.has("invalid")&&(this.invalid||void 0!==e.get("invalid"))||e.has("errorMessage"))&&(this.setCustomValidity(this.invalid?this.errorMessage||"Invalid":""),this.reportValidity()),e.has("autocomplete")&&(this.autocomplete?this.formElement.setAttribute("autocomplete",this.autocomplete):this.formElement.removeAttribute("autocomplete")),e.has("autocorrect")&&(this.autocorrect?this.formElement.setAttribute("autocorrect",this.autocorrect):this.formElement.removeAttribute("autocorrect")),e.has("inputSpellcheck")&&(this.inputSpellcheck?this.formElement.setAttribute("spellcheck",this.inputSpellcheck):this.formElement.removeAttribute("spellcheck"))}},{kind:"method",key:"renderIcon",value:function(e,t=!1){const i=t?"trailing":"leading";return d.dy` <span class="mdc-text-field__icon mdc-text-field__icon--${i}" tabindex="${t?1:-1}"> <slot name="${i}Icon"></slot> </span> `}},{kind:"field",static:!0,key:"styles",value:()=>[r.W,d.iv`.mdc-text-field__input{width:var(--ha-textfield-input-width,100%)}.mdc-text-field:not(.mdc-text-field--with-leading-icon){padding:var(--text-field-padding,0px 16px)}.mdc-text-field__affix--suffix{padding-left:var(--text-field-suffix-padding-left,12px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,12px);padding-inline-end:var(--text-field-suffix-padding-right,0px);direction:var(--direction)}.mdc-text-field--with-leading-icon{padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,16px);direction:var(--direction)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:var(--text-field-suffix-padding-left,0px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,0px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:var(--secondary-text-color)}.mdc-text-field__icon{color:var(--secondary-text-color)}.mdc-text-field__icon--leading{margin-inline-start:16px;margin-inline-end:8px;direction:var(--direction)}.mdc-text-field__icon--trailing{padding:var(--textfield-icon-trailing-padding,12px)}.mdc-floating-label:not(.mdc-floating-label--float-above){text-overflow:ellipsis;width:inherit;padding-right:30px;padding-inline-end:30px;padding-inline-start:initial;box-sizing:border-box;direction:var(--direction)}input{text-align:var(--text-field-text-align,start)}:host([no-spinner]) input::-webkit-inner-spin-button,:host([no-spinner]) input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}:host([no-spinner]) input[type=number]{-moz-appearance:textfield}.mdc-text-field__ripple{overflow:hidden}.mdc-text-field{overflow:var(--text-field-overflow)}.mdc-floating-label{inset-inline-start:16px!important;inset-inline-end:initial!important;transform-origin:var(--float-start);direction:var(--direction);text-align:var(--float-start)}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px - var(--text-field-suffix-padding-left,0px));inset-inline-start:calc(48px + var(--text-field-suffix-padding-left,0px))!important;inset-inline-end:initial!important;direction:var(--direction)}.mdc-text-field__input[type=number]{direction:var(--direction)}.mdc-text-field__affix--prefix{padding-right:var(--text-field-prefix-padding-right,2px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:var(--mdc-text-field-label-ink-color)}`,"rtl"===document.dir?d.iv`.mdc-floating-label,.mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field__affix--suffix,.mdc-text-field__icon--leading,.mdc-text-field__input[type=number]{direction:rtl}`:d.iv``]}]}}),s.P)},22814:(e,t,i)=>{i.d(t,{Cp:()=>s,TZ:()=>r,W2:()=>o,YY:()=>d,iI:()=>n,oT:()=>a});const a=e=>e.map((e=>{if("string"!==e.type)return e;switch(e.name){case"username":return{...e,autocomplete:"username"};case"password":return{...e,autocomplete:"current-password"};case"code":return{...e,autocomplete:"one-time-code"};default:return e}})),n=(e,t)=>e.callWS({type:"auth/sign_path",path:t}),o=async(e,t,i,a)=>e.callWS({type:"config/auth_provider/homeassistant/create",user_id:t,username:i,password:a}),s=(e,t,i)=>e.callWS({type:"config/auth_provider/homeassistant/change_password",current_password:t,new_password:i}),r=(e,t,i)=>e.callWS({type:"config/auth_provider/homeassistant/admin_change_password",user_id:t,password:i}),d=e=>e.callWS({type:"auth/delete_all_refresh_tokens"})},81582:(e,t,i)=>{i.d(t,{DJ:()=>o,LZ:()=>a,Nn:()=>c,Ny:()=>h,Pk:()=>p,Q4:()=>n,RQ:()=>r,SO:()=>d,T0:()=>u,iJ:()=>l,pB:()=>s});const a=32143==i.j?["migration_error","setup_error","setup_retry"]:null,n=32143==i.j?["not_loaded","loaded","setup_error","setup_retry"]:null,o=(e,t,i)=>{const a={type:"config_entries/subscribe"};return i&&i.type&&(a.type_filter=i.type),e.connection.subscribeMessage((e=>t(e)),a)},s=(e,t)=>{const i={};return t&&(t.type&&(i.type_filter=t.type),t.domain&&(i.domain=t.domain)),e.callWS({type:"config_entries/get",...i})},r=(e,t)=>e.callWS({type:"config_entries/get_single",entry_id:t}),d=(e,t,i)=>e.callWS({type:"config_entries/update",entry_id:t,...i}),l=(e,t)=>e.callApi("DELETE",`config/config_entries/entry/${t}`),c=(e,t)=>e.callApi("POST",`config/config_entries/entry/${t}/reload`),h=(e,t)=>e.callWS({type:"config_entries/disable",entry_id:t,disabled_by:"user"}),u=(e,t)=>e.callWS({type:"config_entries/disable",entry_id:t,disabled_by:null}),p=(e,t)=>{const i=[...e],a=e=>{const i=t[e.domain];return"helper"===(null==i?void 0:i.integration_type)?-1:1};return i.sort(((e,t)=>a(t)-a(e)))}},73728:(e,t,i)=>{i.d(t,{D4:()=>c,D7:()=>f,Ky:()=>l,P3:()=>r,V3:()=>y,WW:()=>b,XO:()=>h,ZJ:()=>m,d4:()=>v,oi:()=>p,pV:()=>s,zO:()=>u});var a=i(97330),n=i(38346),o=i(5986);const s=["bluetooth","dhcp","discovery","hardware","hassio","homekit","integration_discovery","mqtt","ssdp","unignore","usb","zeroconf"],r=["reauth"],d={"HA-Frontend-Base":`${location.protocol}//${location.host}`},l=(e,t)=>{var i;return e.callApi("POST","config/config_entries/flow",{handler:t,show_advanced_options:Boolean(null===(i=e.userData)||void 0===i?void 0:i.showAdvanced)},d)},c=(e,t)=>e.callApi("GET",`config/config_entries/flow/${t}`,void 0,d),h=(e,t,i)=>e.callApi("POST",`config/config_entries/flow/${t}`,i,d),u=(e,t,i)=>e.callWS({type:"config_entries/ignore_flow",flow_id:t,title:i}),p=(e,t)=>e.callApi("DELETE",`config/config_entries/flow/${t}`),v=(e,t)=>e.callApi("GET","config/config_entries/flow_handlers"+(t?`?type=${t}`:"")),f=e=>e.sendMessagePromise({type:"config_entries/flow/progress"}),g=(e,t)=>e.subscribeEvents((0,n.D)((()=>f(e).then((e=>t.setState(e,!0)))),500,!0),"config_entry_discovered"),m=e=>(0,a._)(e,"_configFlowProgress",f,g),y=(e,t)=>m(e.connection).subscribe(t),b=(e,t)=>t.context.title_placeholders&&0!==Object.keys(t.context.title_placeholders).length?e(`component.${t.handler}.config.flow_title`,t.context.title_placeholders)||("name"in t.context.title_placeholders?t.context.title_placeholders.name:(0,o.Lh)(e,t.handler)):(0,o.Lh)(e,t.handler)},42916:(e,t,i)=>{i.d(t,{ZK:()=>s,iP:()=>o,lf:()=>n,pD:()=>a});const a=e=>e.callWS({type:"diagnostics/list"}),n=(e,t)=>e.callWS({type:"diagnostics/get",domain:t}),o=e=>`/api/diagnostics/config_entry/${e}`,s=(e,t)=>`/api/diagnostics/config_entry/${e}/device/${t}`},75580:(e,t,i)=>{i.d(t,{G:()=>a,p:()=>n});const a=e=>e.callWS({type:"integration/descriptions"}),n=(e,t)=>{if(e){if(t in e){const i=e[t];if("integration_type"in i)return i}for(const i of Object.values(e))if("integrations"in i&&i.integrations&&t in i.integrations)return i.integrations[t]}}},15327:(e,t,i)=>{i.d(t,{Gc:()=>v,JR:()=>d,Oh:()=>u,Q2:()=>h,SN:()=>n,Y:()=>l,eL:()=>a,fg:()=>s,iM:()=>c,id:()=>o,j2:()=>r,vj:()=>p});const a=e=>e.sendMessagePromise({type:"lovelace/resources"}),n=(e,t)=>e.callWS({type:"lovelace/resources/create",...t}),o=(e,t,i)=>e.callWS({type:"lovelace/resources/update",resource_id:t,...i}),s=(e,t)=>e.callWS({type:"lovelace/resources/delete",resource_id:t}),r=e=>e.callWS({type:"lovelace/dashboards/list"}),d=(e,t)=>e.callWS({type:"lovelace/dashboards/create",...t}),l=(e,t,i)=>e.callWS({type:"lovelace/dashboards/update",dashboard_id:t,...i}),c=(e,t)=>e.callWS({type:"lovelace/dashboards/delete",dashboard_id:t}),h=(e,t,i)=>e.sendMessagePromise({type:"lovelace/config",url_path:t,force:i}),u=(e,t,i)=>e.callWS({type:"lovelace/config/save",url_path:t,config:i}),p=(e,t)=>e.callWS({type:"lovelace/config/delete",url_path:t}),v=(e,t,i)=>e.subscribeEvents((e=>{e.data.url_path===t&&i()}),"lovelace_updated")},9893:(e,t,i)=>{i.d(t,{IT:()=>d,PN:()=>s,Qo:()=>a,V0:()=>l,cs:()=>r,kb:()=>o});const a="custom:",n=window;"customCards"in n||(n.customCards=[]),"customTileFeatures"in n||(n.customTileFeatures=[]);const o=n.customCards,s=n.customTileFeatures,r=e=>o.find((t=>t.type===e)),d=e=>e.startsWith(a),l=e=>e.slice(a.length)},94449:(e,t,i)=>{i.d(t,{K:()=>n,c:()=>a});const a=new Set(["automation","script","scene","group"]),n=(e,t,i)=>e.callWS({type:"search/related",item_type:t,item_id:i})},65253:(e,t,i)=>{i.d(t,{CE:()=>n,FH:()=>v,Nq:()=>r,Pb:()=>a,fm:()=>l,h8:()=>d,r4:()=>s,uh:()=>o});const a="system-admin",n="system-users",o=async e=>e.callWS({type:"config/auth/list"}),s=async(e,t,i,a)=>e.callWS({type:"config/auth/create",name:t,group_ids:i,local_only:a}),r=async(e,t,i)=>e.callWS({...i,type:"config/auth/update",user_id:t}),d=async(e,t)=>e.callWS({type:"config/auth/delete",user_id:t}),l=e=>e?e.trim().split(" ").slice(0,3).map((e=>e.substring(0,1))).join(""):"?",c=32143==i.j?"M12 2C6.47 2 2 6.5 2 12C2 17.5 6.5 22 12 22S22 17.5 22 12 17.5 2 12 2M12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4S20 7.58 20 12C20 16.42 16.42 20 12 20M8 14L7 8L10 10L12 7L14 10L17 8L16 14H8M8.56 16C8.22 16 8 15.78 8 15.44V15H16V15.44C16 15.78 15.78 16 15.44 16H8.56Z":null,h=32143==i.j?"M11,7H15V9H11V11H13A2,2 0 0,1 15,13V15A2,2 0 0,1 13,17H9V15H13V13H11A2,2 0 0,1 9,11V9A2,2 0 0,1 11,7M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4Z":null,u=32143==i.j?"M12 20C7.6 20 4 16.4 4 12S7.6 4 12 4 20 7.6 20 12 16.4 20 12 20M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M11 14H13V17H16V12H18L12 7L6 12H8V17H11V14":null,p=32143==i.j?"M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z":null,v=(e,t,i)=>{const a=[],n=t=>e.localize(`ui.panel.config.users.${t}`);return t.is_owner&&a.push([c,n("is_owner")]),i&&t.system_generated&&a.push([h,n("is_system")]),t.local_only&&a.push([u,n("is_local")]),t.is_active||a.push([p,n("is_not_active")]),a}},2852:(e,t,i)=>{i.d(t,{t:()=>r});var a=i(68144),n=i(73728),o=i(5986),s=i(52871);const r=(e,t)=>(0,s.w)(e,t,{flowType:"config_flow",loadDevicesAndAreas:!0,createFlow:async(e,t)=>{const[i]=await Promise.all([(0,n.Ky)(e,t),e.loadFragmentTranslation("config"),e.loadBackendTranslation("config",t),e.loadBackendTranslation("selector",t),e.loadBackendTranslation("title",t)]);return i},fetchFlow:async(e,t)=>{const i=await(0,n.D4)(e,t);return await e.loadFragmentTranslation("config"),await e.loadBackendTranslation("config",i.handler),await e.loadBackendTranslation("selector",i.handler),i},handleFlowStep:n.XO,deleteFlow:n.oi,renderAbortDescription(e,t){const i=e.localize(`component.${t.handler}.config.abort.${t.reason}`,t.description_placeholders);return i?a.dy` <ha-markdown allowsvg breaks .content="${i}"></ha-markdown> `:""},renderShowFormStepHeader:(e,t)=>e.localize(`component.${t.handler}.config.step.${t.step_id}.title`,t.description_placeholders)||e.localize(`component.${t.handler}.title`),renderShowFormStepDescription(e,t){const i=e.localize(`component.${t.handler}.config.step.${t.step_id}.description`,t.description_placeholders);return i?a.dy` <ha-markdown allowsvg breaks .content="${i}"></ha-markdown> `:""},renderShowFormStepFieldLabel:(e,t,i)=>e.localize(`component.${t.handler}.config.step.${t.step_id}.data.${i.name}`),renderShowFormStepFieldHelper(e,t,i){const n=e.localize(`component.${t.handler}.config.step.${t.step_id}.data_description.${i.name}`,t.description_placeholders);return n?a.dy`<ha-markdown breaks .content="${n}"></ha-markdown>`:""},renderShowFormStepFieldError:(e,t,i)=>e.localize(`component.${t.handler}.config.error.${i}`,t.description_placeholders)||i,renderShowFormStepFieldLocalizeValue:(e,t,i)=>e.localize(`component.${t.handler}.selector.${i}`),renderShowFormStepSubmitButton:(e,t)=>e.localize(`component.${t.handler}.config.step.${t.step_id}.submit`)||e.localize("ui.panel.config.integrations.config_flow."+(!1===t.last_step?"next":"submit")),renderExternalStepHeader:(e,t)=>e.localize(`component.${t.handler}.config.step.${t.step_id}.title`)||e.localize("ui.panel.config.integrations.config_flow.external_step.open_site"),renderExternalStepDescription(e,t){const i=e.localize(`component.${t.handler}.config.${t.step_id}.description`,t.description_placeholders);return a.dy` <p> ${e.localize("ui.panel.config.integrations.config_flow.external_step.description")} </p> ${i?a.dy` <ha-markdown allowsvg breaks .content="${i}"></ha-markdown> `:""} `},renderCreateEntryDescription(e,t){const i=e.localize(`component.${t.handler}.config.create_entry.${t.description||"default"}`,t.description_placeholders);return a.dy` ${i?a.dy` <ha-markdown allowsvg breaks .content="${i}"></ha-markdown> `:""} <p> ${e.localize("ui.panel.config.integrations.config_flow.created_config","name",t.title)} </p> `},renderShowFormProgressHeader:(e,t)=>e.localize(`component.${t.handler}.config.step.${t.step_id}.title`)||e.localize(`component.${t.handler}.title`),renderShowFormProgressDescription(e,t){const i=e.localize(`component.${t.handler}.config.progress.${t.progress_action}`,t.description_placeholders);return i?a.dy` <ha-markdown allowsvg breaks .content="${i}"></ha-markdown> `:""},renderMenuHeader:(e,t)=>e.localize(`component.${t.handler}.config.step.${t.step_id}.title`)||e.localize(`component.${t.handler}.title`),renderMenuDescription(e,t){const i=e.localize(`component.${t.handler}.config.step.${t.step_id}.description`,t.description_placeholders);return i?a.dy` <ha-markdown allowsvg breaks .content="${i}"></ha-markdown> `:""},renderMenuOption:(e,t,i)=>e.localize(`component.${t.handler}.config.step.${t.step_id}.menu_options.${i}`,t.description_placeholders),renderLoadingDescription(e,t,i,a){if("loading_flow"!==t&&"loading_step"!==t)return"";const n=(null==a?void 0:a.handler)||i;return e.localize(`ui.panel.config.integrations.config_flow.loading.${t}`,{integration:n?(0,o.Lh)(e.localize,n):e.localize("ui.panel.config.integrations.config_flow.loading.fallback_title")})}})},52871:(e,t,i)=>{i.d(t,{w:()=>o});var a=i(47181);const n=()=>Promise.all([i.e(46992),i.e(42850),i.e(28597),i.e(78133),i.e(97487),i.e(52154),i.e(33895),i.e(40163),i.e(59159)]).then(i.bind(i,59159)),o=(e,t,i)=>{(0,a.B)(e,"show-dialog",{dialogTag:"dialog-data-entry-flow",dialogImport:n,dialogParams:{...t,flowConfig:i,dialogParentElement:e}})}},62884:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(47181);const n=(e,t)=>(0,a.B)(e,"hass-more-info",t)},48811:(e,t,i)=>{i.r(t);var a=i(17463),n=(i(14271),i(68144)),o=i(79932);i(2315),i(48932),i(9381);(0,a.Z)([(0,o.Mo)("hass-error-screen")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"toolbar",value:()=>!0},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"rootnav",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)()],key:"error",value:void 0},{kind:"method",key:"render",value:function(){var e,t;return n.dy` ${this.toolbar?n.dy`<div class="toolbar"> ${this.rootnav||null!==(e=history.state)&&void 0!==e&&e.root?n.dy` <ha-menu-button .hass="${this.hass}" .narrow="${this.narrow}"></ha-menu-button> `:n.dy` <ha-icon-button-arrow-prev .hass="${this.hass}" @click="${this._handleBack}"></ha-icon-button-arrow-prev> `} </div>`:""} <div class="content"> <ha-alert alert-type="error">${this.error}</ha-alert> <slot> <mwc-button @click="${this._handleBack}"> ${null===(t=this.hass)||void 0===t?void 0:t.localize("ui.common.back")} </mwc-button> </slot> </div> `}},{kind:"method",key:"_handleBack",value:function(){history.back()}},{kind:"get",static:!0,key:"styles",value:function(){return[n.iv`:host{display:block;height:100%;background-color:var(--primary-background-color)}.toolbar{display:flex;align-items:center;font-size:20px;height:var(--header-height);padding:8px 12px;pointer-events:none;background-color:var(--app-header-background-color);font-weight:400;color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);box-sizing:border-box}@media (max-width:599px){.toolbar{padding:4px}}ha-icon-button-arrow-prev{pointer-events:auto}.content{color:var(--primary-text-color);height:calc(100% - var(--header-height));display:flex;padding:16px;align-items:center;justify-content:center;flex-direction:column;box-sizing:border-box}a{color:var(--primary-color)}ha-alert{margin-bottom:16px}`]}}]}}),n.oi)},60010:(e,t,i)=>{var a=i(17463),n=i(34541),o=i(47838),s=i(68144),r=i(79932),d=i(25516),l=i(70518),c=i(87744),h=(i(2315),i(48932),i(11654));(0,a.Z)([(0,r.Mo)("hass-subpage")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"header",value:void 0},{kind:"field",decorators:[(0,r.Cb)({type:Boolean,attribute:"main-page"})],key:"mainPage",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:String,attribute:"back-path"})],key:"backPath",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"backCallback",value:void 0},{kind:"field",decorators:[(0,r.Cb)({type:Boolean,reflect:!0})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"supervisor",value:()=>!1},{kind:"field",decorators:[(0,d.i)(".content")],key:"_savedScrollPos",value:void 0},{kind:"method",key:"willUpdate",value:function(e){if((0,n.Z)((0,o.Z)(i.prototype),"willUpdate",this).call(this,e),!e.has("hass"))return;const t=e.get("hass");t&&t.locale===this.hass.locale||(0,l.X)(this,"rtl",(0,c.HE)(this.hass))}},{kind:"method",key:"render",value:function(){var e;return s.dy` <div class="toolbar"> ${this.mainPage||null!==(e=history.state)&&void 0!==e&&e.root?s.dy` <ha-menu-button .hassio="${this.supervisor}" .hass="${this.hass}" .narrow="${this.narrow}"></ha-menu-button> `:this.backPath?s.dy` <a href="${this.backPath}"> <ha-icon-button-arrow-prev .hass="${this.hass}"></ha-icon-button-arrow-prev> </a> `:s.dy` <ha-icon-button-arrow-prev .hass="${this.hass}" @click="${this._backTapped}"></ha-icon-button-arrow-prev> `} <div class="main-title"><slot name="header">${this.header}</slot></div> <slot name="toolbar-icon"></slot> </div> <div class="content ha-scrollbar" @scroll="${this._saveScrollPos}"> <slot></slot> </div> <div id="fab"> <slot name="fab"></slot> </div> `}},{kind:"method",decorators:[(0,r.hO)({passive:!0})],key:"_saveScrollPos",value:function(e){this._savedScrollPos=e.target.scrollTop}},{kind:"method",key:"_backTapped",value:function(){this.backCallback?this.backCallback():history.back()}},{kind:"get",static:!0,key:"styles",value:function(){return[h.$c,s.iv`:host{display:block;height:100%;background-color:var(--primary-background-color);overflow:hidden;position:relative}:host([narrow]){width:100%;position:fixed}.toolbar{display:flex;align-items:center;font-size:20px;height:var(--header-height);padding:8px 12px;pointer-events:none;background-color:var(--app-header-background-color);font-weight:400;color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);box-sizing:border-box}@media (max-width:599px){.toolbar{padding:4px}}.toolbar a{color:var(--sidebar-text-color);text-decoration:none}::slotted([slot=toolbar-icon]),ha-icon-button-arrow-prev,ha-menu-button{pointer-events:auto;color:var(--sidebar-icon-color)}.main-title{margin:0 0 0 24px;line-height:20px;flex-grow:1}.content{position:relative;width:100%;height:calc(100% - 1px - var(--header-height));overflow-y:auto;overflow:auto;-webkit-overflow-scrolling:touch}#fab{position:absolute;right:calc(16px + env(safe-area-inset-right));bottom:calc(16px + env(safe-area-inset-bottom));z-index:1}:host([narrow]) #fab.tabs{bottom:calc(84px + env(safe-area-inset-bottom))}#fab[is-wide]{bottom:24px;right:24px}:host([rtl]) #fab{right:auto;left:calc(16px + env(safe-area-inset-left))}:host([rtl][is-wide]) #fab{bottom:24px;left:24px;right:auto}`]}}]}}),s.oi)},96551:(e,t,i)=>{var a=i(17463),n=(i(14271),i(33829),i(68144)),o=i(79932),s=i(47181),r=i(87744);i(37168),i(49703);(0,a.Z)([(0,o.Mo)("hass-tabs-subpage-data-table")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.Cb)({attribute:!1})],key:"localizeFunc",value:void 0},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"isWide",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({type:Boolean,reflect:!0})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"supervisor",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({type:Boolean,attribute:"main-page"})],key:"mainPage",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({type:Object})],key:"columns",value:()=>({})},{kind:"field",decorators:[(0,o.Cb)({type:Array})],key:"data",value:()=>[]},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"selectable",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"clickable",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"hasFab",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({attribute:!1})],key:"appendRow",value:void 0},{kind:"field",decorators:[(0,o.Cb)({type:String})],key:"id",value:()=>"id"},{kind:"field",decorators:[(0,o.Cb)({type:String})],key:"filter",value:()=>""},{kind:"field",decorators:[(0,o.Cb)()],key:"searchLabel",value:void 0},{kind:"field",decorators:[(0,o.Cb)({type:Array})],key:"activeFilters",value:void 0},{kind:"field",decorators:[(0,o.Cb)()],key:"hiddenLabel",value:void 0},{kind:"field",decorators:[(0,o.Cb)({type:Number})],key:"numHidden",value:()=>0},{kind:"field",decorators:[(0,o.Cb)({type:String,attribute:"back-path"})],key:"backPath",value:void 0},{kind:"field",decorators:[(0,o.Cb)()],key:"backCallback",value:void 0},{kind:"field",decorators:[(0,o.Cb)({type:String})],key:"noDataText",value:void 0},{kind:"field",decorators:[(0,o.Cb)()],key:"route",value:void 0},{kind:"field",decorators:[(0,o.Cb)()],key:"tabs",value:()=>[]},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"hideFilterMenu",value:()=>!1},{kind:"field",decorators:[(0,o.IO)("ha-data-table",!0)],key:"_dataTable",value:void 0},{kind:"method",key:"clearSelection",value:function(){this._dataTable.clearSelection()}},{kind:"method",key:"render",value:function(){const e=this.numHidden?this.hiddenLabel||this.hass.localize("ui.components.data-table.hidden","number",this.numHidden)||this.numHidden:void 0,t=this.activeFilters?n.dy`${this.hass.localize("ui.components.data-table.filtering_by")} ${this.activeFilters.join(", ")} ${e?`(${e})`:""}`:e,i=n.dy`<search-input .hass="${this.hass}" .filter="${this.filter}" .suffix="${!this.narrow}" @value-changed="${this._handleSearchChange}" .label="${this.searchLabel}"> ${this.narrow?"":n.dy`<div class="filters" slot="suffix" @click="${this._preventDefault}"> ${t?n.dy`<div class="active-filters"> ${t} <mwc-button @click="${this._clearFilter}"> ${this.hass.localize("ui.components.data-table.clear")} </mwc-button> </div>`:""} <slot name="filter-menu"></slot> </div>`} </search-input>`;return n.dy` <hass-tabs-subpage .hass="${this.hass}" .localizeFunc="${this.localizeFunc}" .narrow="${this.narrow}" .isWide="${this.isWide}" .backPath="${this.backPath}" .backCallback="${this.backCallback}" .route="${this.route}" .tabs="${this.tabs}" .mainPage="${this.mainPage}" .supervisor="${this.supervisor}"> ${this.hideFilterMenu?"":n.dy` <div slot="toolbar-icon"> ${this.narrow?n.dy` <div class="filter-menu"> ${this.numHidden||this.activeFilters?n.dy`<span class="badge">${this.numHidden||"!"}</span>`:""} <slot name="filter-menu"></slot> </div> `:""}<slot name="toolbar-icon"></slot> </div> `} ${this.narrow?n.dy` <div slot="header"> <slot name="header"> <div class="search-toolbar">${i}</div> </slot> </div> `:""} <ha-data-table .hass="${this.hass}" .columns="${this.columns}" .data="${this.data}" .filter="${this.filter}" .selectable="${this.selectable}" .hasFab="${this.hasFab}" .id="${this.id}" .noDataText="${this.noDataText}" .dir="${(0,r.Zu)(this.hass)}" .clickable="${this.clickable}" .appendRow="${this.appendRow}"> ${this.narrow?n.dy` <div slot="header"></div> `:n.dy` <div slot="header"> <slot name="header"> <div class="table-header">${i}</div> </slot> </div> `} </ha-data-table> <div slot="fab"><slot name="fab"></slot></div> </hass-tabs-subpage> `}},{kind:"method",key:"_preventDefault",value:function(e){e.preventDefault()}},{kind:"method",key:"_handleSearchChange",value:function(e){this.filter!==e.detail.value&&(this.filter=e.detail.value,(0,s.B)(this,"search-changed",{value:this.filter}))}},{kind:"method",key:"_clearFilter",value:function(){(0,s.B)(this,"clear-filter")}},{kind:"get",static:!0,key:"styles",value:function(){return n.iv`ha-data-table{width:100%;height:100%;--data-table-border-width:0}:host(:not([narrow])) ha-data-table{height:calc(100vh - 1px - var(--header-height));display:block}:host([narrow]) hass-tabs-subpage{--main-title-margin:0}.table-header{display:flex;align-items:center;--mdc-shape-small:0;height:56px}.search-toolbar{display:flex;align-items:center;color:var(--secondary-text-color)}search-input{--mdc-text-field-fill-color:var(--sidebar-background-color);--mdc-text-field-idle-line-color:var(--divider-color);--text-field-overflow:visible;z-index:5}.table-header search-input{display:block;position:absolute;top:0;right:0;left:0}.search-toolbar search-input{display:block;width:100%;color:var(--secondary-text-color);--mdc-ripple-color:transparant}.filters{--mdc-text-field-fill-color:var(--input-fill-color);--mdc-text-field-idle-line-color:var(--input-idle-line-color);--mdc-shape-small:4px;--text-field-overflow:initial;display:flex;justify-content:flex-end;color:var(--primary-text-color)}.active-filters{color:var(--primary-text-color);position:relative;display:flex;align-items:center;padding:2px 2px 2px 8px;margin-left:4px;margin-inline-start:4px;margin-inline-end:initial;font-size:14px;width:max-content;cursor:initial;direction:var(--direction)}.active-filters ha-svg-icon{color:var(--primary-color)}.active-filters mwc-button{margin-left:8px;margin-inline-start:8px;margin-inline-end:initial;direction:var(--direction)}.active-filters::before{background-color:var(--primary-color);opacity:.12;border-radius:4px;position:absolute;top:0;right:0;bottom:0;left:0;content:""}.badge{min-width:20px;box-sizing:border-box;border-radius:50%;font-weight:400;background-color:var(--primary-color);line-height:20px;text-align:center;padding:0px 4px;color:var(--text-primary-color);position:absolute;right:0;top:4px;font-size:.65em}.filter-menu{position:relative}`}}]}}),n.oi)},98772:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(17463),n=(i(25782),i(53973),i(89194),i(68144)),o=i(79932),s=i(58831),r=i(91741),d=i(47772),l=i(34007),c=(i(3143),i(22098),i(81312),i(74186)),h=i(62884),u=i(37482),p=i(96491),v=e([u]);u=(v.then?(await v)():v)[0];(0,a.Z)([(0,o.Mo)("ha-device-entities-card")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.Cb)()],key:"header",value:void 0},{kind:"field",decorators:[(0,o.Cb)()],key:"deviceName",value:void 0},{kind:"field",decorators:[(0,o.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.Cb)()],key:"entities",value:void 0},{kind:"field",decorators:[(0,o.Cb)()],key:"showHidden",value:()=>!1},{kind:"field",decorators:[(0,o.SB)()],key:"_extDisabledEntityEntries",value:void 0},{kind:"field",key:"_entityRows",value:()=>[]},{kind:"method",key:"shouldUpdate",value:function(e){return!e.has("hass")||1!==e.size||(this._entityRows.forEach((e=>{e.hass=this.hass})),!1)}},{kind:"method",key:"render",value:function(){if(!this.entities.length)return n.dy` <ha-card outlined .header="${this.header}"> <div class="empty card-content"> ${this.hass.localize("ui.panel.config.devices.entities.none")} </div> </ha-card> `;const e=[],t=[];return this._entityRows=[],this.entities.forEach((i=>{i.disabled_by?this._extDisabledEntityEntries?t.push(this._extDisabledEntityEntries[i.entity_id]||i):t.push(i):e.push(i)})),n.dy` <ha-card outlined .header="${this.header}"> <div id="entities"> ${e.map((e=>this.hass.states[e.entity_id]?this._renderEntity(e):this._renderEntry(e)))} </div> ${t.length?this.showHidden?n.dy` ${t.map((e=>this._renderEntry(e)))} <button class="show-more" @click="${this._toggleShowHidden}"> ${this.hass.localize("ui.panel.config.devices.entities.show_less")} </button> `:n.dy` <button class="show-more" @click="${this._toggleShowHidden}"> ${this.hass.localize("ui.panel.config.devices.entities.hidden_entities","count",t.length)} </button> `:""} <div class="card-actions"> <mwc-button @click="${this._addToLovelaceView}"> ${this.hass.localize("ui.panel.config.devices.entities.add_entities_lovelace")} </mwc-button> </div> </ha-card> `}},{kind:"method",key:"_toggleShowHidden",value:function(){if(this.showHidden=!this.showHidden,!this.showHidden||void 0!==this._extDisabledEntityEntries)return;this._extDisabledEntityEntries={};const e=this.entities.filter((e=>e.disabled_by)),t=async()=>{if(0===e.length)return;const i=e.pop().entity_id,a=await(0,c.L3)(this.hass,i);this._extDisabledEntityEntries[i]=a,this.requestUpdate("_extDisabledEntityEntries"),t()};t(),t(),t()}},{kind:"method",key:"_renderEntity",value:function(e){const t={entity:e.entity_id},i=(0,u.m)(t);if(this.hass){i.hass=this.hass;const a=this.hass.states[e.entity_id];let n=e.name?(0,l.N)(e.name,this.deviceName.toLowerCase()):e.has_entity_name?e.original_name||this.deviceName:(0,l.N)((0,r.C)(a),this.deviceName.toLowerCase());n||(n=(0,r.C)(a)),e.hidden_by&&(n+=` (${this.hass.localize("ui.panel.config.devices.entities.hidden")})`),t.name=n}return i.entry=e,this._entityRows.push(i),n.dy` <div>${i}</div> `}},{kind:"method",key:"_renderEntry",value:function(e){const t=e.stateName||e.name||e.original_name;return n.dy` <paper-icon-item class="disabled-entry" .entry="${e}" @click="${this._openEditEntry}"> <ha-svg-icon slot="item-icon" .path="${(0,d.K)((0,s.M)(e.entity_id))}"></ha-svg-icon> <paper-item-body> <div class="name"> ${t?(0,l.N)(t,this.deviceName.toLowerCase())||t:e.entity_id} </div> </paper-item-body> </paper-icon-item> `}},{kind:"method",key:"_openEditEntry",value:function(e){const t=e.currentTarget.entry;(0,h.A)(this,{entityId:t.entity_id})}},{kind:"method",key:"_addToLovelaceView",value:function(){(0,p.$)(this,this.hass,this.entities.filter((e=>!e.disabled_by)).map((e=>e.entity_id)),this.deviceName)}},{kind:"get",static:!0,key:"styles",value:function(){return n.iv`:host{display:block}ha-icon{margin-left:8px}.entity-id{color:var(--secondary-text-color)}.buttons{text-align:right;margin:0 0 0 8px}.disabled-entry{color:var(--secondary-text-color)}#entities{margin-top:-24px}#entities>*{margin:8px 16px 8px 8px}#entities>paper-icon-item{margin:0}paper-icon-item{min-height:40px;padding:0 16px;cursor:pointer;--paper-item-icon-width:48px}.name{font-size:14px}.empty{text-align:center}button.show-more{color:var(--primary-color);text-align:left;cursor:pointer;background:0 0;border-width:initial;border-style:none;border-color:initial;border-image:initial;padding:16px;font:inherit}button.show-more:focus{outline:0;text-decoration:underline}`}}]}}),n.oi);t()}catch(e){t(e)}}))},92899:(e,t,i)=>{var a=i(17463),n=i(34541),o=i(47838),s=i(68144),r=i(79932),d=(i(22098),i(57292)),l=i(11654),c=i(97058);(0,a.Z)([(0,r.Mo)("ha-device-info-card")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"device",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"devices",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"areas",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"narrow",value:void 0},{kind:"method",key:"render",value:function(){return s.dy` <ha-card outlined .header="${this.hass.localize("ui.panel.config.devices.device_info","type",this.hass.localize(`ui.panel.config.devices.type.${this.device.entry_type||"device"}_heading`))}"> <div class="card-content"> ${this.device.model?s.dy` <div class="model">${this.device.model}</div> `:""} ${this.device.manufacturer?s.dy` <div class="manuf"> ${this.hass.localize("ui.panel.config.integrations.config_entry.manuf","manufacturer",this.device.manufacturer)} </div> `:""} ${this.device.via_device_id?s.dy` <div class="extra-info"> ${this.hass.localize("ui.panel.config.integrations.config_entry.via")} <span class="hub"><a href="/config/devices/device/${this.device.via_device_id}">${this._computeDeviceName(this.devices,this.device.via_device_id)}</a></span> </div> `:""} ${this.device.sw_version?s.dy` <div class="extra-info"> ${this.hass.localize("ui.panel.config.integrations.config_entry."+("service"!==this.device.entry_type||this.device.hw_version?"firmware":"version"),"version",this.device.sw_version)} </div> `:""} ${this.device.hw_version?s.dy` <div class="extra-info"> ${this.hass.localize("ui.panel.config.integrations.config_entry.hardware","version",this.device.hw_version)} </div> `:""} <slot></slot> </div> <slot name="actions"></slot> </ha-card> `}},{kind:"method",key:"firstUpdated",value:function(e){(0,n.Z)((0,o.Z)(i.prototype),"firstUpdated",this).call(this,e),(0,c.O)()}},{kind:"method",key:"_computeDeviceName",value:function(e,t){const i=e.find((e=>e.id===t));return i?(0,d.jL)(i,this.hass):`<${this.hass.localize("ui.panel.config.integrations.config_entry.unknown_via_device")}>`}},{kind:"get",static:!0,key:"styles",value:function(){return[l.Qx,s.iv`:host{display:block}ha-card{flex:1 0 100%;min-width:0}.device{width:30%}.area{color:var(--primary-text-color)}.extra-info{margin-top:8px;word-wrap:break-word}.manuf,.model{color:var(--secondary-text-color);word-wrap:break-word}`]}}]}}),s.oi)},47788:(e,t,i)=>{var a=i(17463),n=(i(44577),i(68144)),o=i(79932),s=i(14516),r=i(85415),d=(i(22098),i(99282),i(57292));(0,a.Z)([(0,o.Mo)("ha-device-via-devices-card")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.Cb)()],key:"deviceId",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"_showAll",value:()=>!1},{kind:"field",key:"_viaDevices",value(){return(0,s.Z)(((e,t)=>Object.values(t).filter((t=>t.via_device_id===e)).sort(((e,t)=>(0,r.f)((0,d.jL)(e,this.hass),(0,d.jL)(t,this.hass),this.hass.locale.language)))))}},{kind:"method",key:"render",value:function(){const e=this._viaDevices(this.deviceId,this.hass.devices);return 0===e.length?n.Ld:n.dy` <ha-card> <h1 class="card-header"> ${this.hass.localize("ui.panel.config.devices.connected_devices.heading")} </h1> ${(this._showAll?e:e.slice(0,10)).map((e=>n.dy` <a href="${`/config/devices/device/${e.id}`}"> <mwc-list-item hasMeta> ${(0,d.jL)(e,this.hass)} <ha-icon-next slot="meta"></ha-icon-next> </mwc-list-item> </a> `))} ${!this._showAll&&e.length>10?n.dy` <button class="show-more" @click="${this._toggleShowAll}"> ${this.hass.localize("ui.panel.config.devices.connected_devices.show_more","count",e.length-10)} </button> `:""} </ha-card> `}},{kind:"method",key:"_toggleShowAll",value:function(){this._showAll=!this._showAll}},{kind:"get",static:!0,key:"styles",value:function(){return n.iv`:host{display:block}.card-header{padding-bottom:0}a{text-decoration:none;color:var(--primary-text-color)}button.show-more{color:var(--primary-color);text-align:left;cursor:pointer;background:0 0;border-width:initial;border-style:none;border-color:initial;border-image:initial;padding:16px;font:inherit}button.show-more:focus{outline:0;text-decoration:underline}`}}]}}),n.oi)},59103:(e,t,i)=>{i.d(t,{J:()=>o});var a=i(47181);const n=()=>Promise.all([i.e(28597),i.e(33222)]).then(i.bind(i,33222)),o=(e,t)=>{(0,a.B)(e,"show-dialog",{dialogTag:"dialog-device-automation",dialogImport:n,dialogParams:t})}},97058:(e,t,i)=>{i.d(t,{O:()=>n,r:()=>o});var a=i(47181);const n=()=>Promise.all([i.e(28597),i.e(97487),i.e(40163),i.e(10586)]).then(i.bind(i,10586)),o=(e,t)=>{(0,a.B)(e,"show-dialog",{dialogTag:"dialog-device-registry-detail",dialogImport:n,dialogParams:t})}},32240:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(17463),n=i(34541),o=i(47838),s=(i(44577),i(33829),i(68144)),r=i(79932),d=i(30153),l=i(14516),c=i(22264),h=i(7323),u=i(49706),p=i(58831),v=i(22311),f=i(91741),g=i(85415),m=i(83447),y=i(92306),b=(i(57793),i(9381),i(81545),i(10983),i(99282),i(52039),i(22814)),_=i(81582),k=i(57292),w=i(42916),$=i(74186),x=i(5986),C=i(76387),z=i(94449),S=i(26765),E=(i(48811),i(60010),i(11654)),L=i(11254),A=i(25936),B=i(97740),T=(i(88165),i(98772)),D=(i(92899),i(47788),i(59103)),P=i(97058),M=i(96339),I=e([B,T]);[B,T]=I.then?(await I)():I;const Z="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",H="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",F="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",W="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z",N="M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z",j="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",V="M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z";(0,a.Z)([(0,r.Mo)("ha-config-device-page")],(function(e,t){class a extends t{constructor(...t){super(...t),e(this)}}return{F:a,d:[{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"devices",value:void 0},{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"entries",value:void 0},{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"entities",value:void 0},{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"areas",value:void 0},{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"manifests",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"deviceId",value:void 0},{kind:"field",decorators:[(0,r.Cb)({type:Boolean,reflect:!0})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"isWide",value:void 0},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"showAdvanced",value:void 0},{kind:"field",decorators:[(0,r.SB)()],key:"_related",value:void 0},{kind:"field",decorators:[(0,r.SB)()],key:"_diagnosticDownloadLinks",value:void 0},{kind:"field",decorators:[(0,r.SB)()],key:"_deleteButtons",value:void 0},{kind:"field",decorators:[(0,r.SB)()],key:"_deviceActions",value:void 0},{kind:"field",decorators:[(0,r.SB)()],key:"_deviceAlerts",value:void 0},{kind:"field",decorators:[(0,r.SB)(),(0,c.F)({context:M.we,subscribe:!0})],key:"_entityReg",value:void 0},{kind:"field",key:"_logbookTime",value:()=>({recent:86400})},{kind:"field",key:"_device",value:()=>(0,l.Z)(((e,t)=>t?t.find((t=>t.id===e)):void 0))},{kind:"field",key:"_integrations",value:()=>(0,l.Z)(((e,t,i)=>{const a={};for(const e of t)a[e.entry_id]=e;const n={};for(const e of i)n[e.domain]=e;const o=e.config_entries.filter((e=>e in a)).map((e=>a[e]));return(0,_.Pk)(o,n)}))},{kind:"field",key:"_entities",value(){return(0,l.Z)(((e,t)=>t.filter((t=>t.device_id===e)).map((e=>({...e,stateName:this._computeEntityName(e)}))).sort(((e,t)=>(0,g.$)(e.stateName||`zzz${e.entity_id}`,t.stateName||`zzz${t.entity_id}`,this.hass.locale.language)))))}},{kind:"field",key:"_deviceIdInList",value:()=>(0,l.Z)((e=>[e]))},{kind:"field",key:"_entityIds",value:()=>(0,l.Z)((e=>e.map((e=>e.entity_id))))},{kind:"field",key:"_entitiesByCategory",value:()=>(0,l.Z)((e=>{const t=(0,y.v)(e,(e=>e.entity_category?e.entity_category:"event"===(0,p.M)(e.entity_id)?"event":u.zF.includes((0,p.M)(e.entity_id))?"sensor":"control"));for(const e of["config","control","diagnostic","event","sensor"])e in t||(t[e]=[]);return t}))},{kind:"field",key:"_computeArea",value:()=>(0,l.Z)(((e,t)=>{if(e&&t&&t.area_id)return e.find((e=>e.area_id===t.area_id))}))},{kind:"field",key:"_batteryEntity",value(){return(0,l.Z)((e=>(0,$.eD)(this.hass,e)))}},{kind:"field",key:"_batteryChargingEntity",value(){return(0,l.Z)((e=>(0,$.wX)(this.hass,e)))}},{kind:"method",key:"willUpdate",value:function(e){(0,n.Z)((0,o.Z)(a.prototype),"willUpdate",this).call(this,e),(e.has("deviceId")||e.has("devices")||e.has("entries"))&&(this._diagnosticDownloadLinks=void 0,this._deleteButtons=void 0,this._deviceActions=void 0,this._deviceAlerts=void 0),!(this._diagnosticDownloadLinks&&this._deleteButtons&&this._deviceActions&&this._deviceAlerts)&&this.devices&&this.deviceId&&this.entries&&(this._diagnosticDownloadLinks=Math.random(),this._deleteButtons=[],this._deviceActions=[],this._deviceAlerts=[],this._getDiagnosticButtons(this._diagnosticDownloadLinks),this._getDeleteActions(),this._getDeviceActions(),this._getDeviceAlerts())}},{kind:"method",key:"firstUpdated",value:function(e){(0,n.Z)((0,o.Z)(a.prototype),"firstUpdated",this).call(this,e),(0,P.O)()}},{kind:"method",key:"updated",value:function(e){(0,n.Z)((0,o.Z)(a.prototype),"updated",this).call(this,e),e.has("deviceId")&&this._findRelated()}},{kind:"method",key:"render",value:function(){var e,t,i,a,n;if(!this.devices||!this.deviceId)return s.Ld;const o=this._device(this.deviceId,this.devices);if(!o)return s.dy` <hass-error-screen .hass="${this.hass}" .error="${this.hass.localize("ui.panel.config.devices.device_not_found")}"></hass-error-screen> `;const r=(0,k.jL)(o,this.hass),l=this._integrations(o,this.entries,this.manifests),c=this._entities(this.deviceId,this.entities),u=this._entitiesByCategory(c),p=this._batteryEntity(c),g=this._batteryChargingEntity(c),m=p?this.hass.states[p.entity_id]:void 0,y=m?(0,v.N)(m):void 0,b=g?this.hass.states[g.entity_id]:void 0,_=this._computeArea(this.areas,o),w=l.map((e=>{var t;return s.dy`<a slot="actions" href="${`/config/integrations/integration/${e.domain}#config_entry=${e.entry_id}`}"> <ha-list-item graphic="icon" hasMeta> <img slot="graphic" alt="${(0,x.Lh)(this.hass.localize,e.domain)}" src="${(0,L.X1)({domain:e.domain,type:"icon",darkOptimized:null===(t=this.hass.themes)||void 0===t?void 0:t.darkMode})}" referrerpolicy="no-referrer"> ${(0,x.Lh)(this.hass.localize,e.domain)} <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> </a>`})),$=[...this._deviceActions||[]];Array.isArray(this._diagnosticDownloadLinks)&&$.push(...this._diagnosticDownloadLinks),this._deleteButtons&&$.push(...this._deleteButtons),$.sort(((e,t)=>"warning"===e.classes&&"warning"!==t.classes?1:"warning"!==e.classes&&"warning"===t.classes?-1:0));const C=$.shift();o.disabled_by&&w.push(s.dy` <ha-alert alert-type="warning"> ${this.hass.localize("ui.panel.config.devices.enabled_cause","type",this.hass.localize(`ui.panel.config.devices.type.${o.entry_type||"device"}`),"cause",this.hass.localize(`ui.panel.config.devices.disabled_by.${o.disabled_by}`))} </ha-alert> ${"user"===o.disabled_by?s.dy` <div class="card-actions" slot="actions"> <mwc-button unelevated @click="${this._enableDevice}"> ${this.hass.localize("ui.common.enable")} </mwc-button> </div> `:""} `),this._renderIntegrationInfo(o,l,w);const z=(0,h.p)(this.hass,"automation")?s.dy` <ha-card outlined> <h1 class="card-header"> ${this.hass.localize("ui.panel.config.devices.automation.automations_heading")} <ha-icon-button @click="${this._showAutomationDialog}" .disabled="${o.disabled_by}" .label="${o.disabled_by?this.hass.localize("ui.panel.config.devices.automation.create_disable","type",this.hass.localize(`ui.panel.config.devices.type.${o.entry_type||"device"}`)):this.hass.localize("ui.panel.config.devices.automation.create",{type:this.hass.localize(`ui.panel.config.devices.type.${o.entry_type||"device"}`)})}" .path="${V}"></ha-icon-button> </h1> ${null!==(e=this._related)&&void 0!==e&&null!==(e=e.automation)&&void 0!==e&&e.length?s.dy` <div class="items"> ${this._related.automation.map((e=>{const t=this.hass.states[e];return t?s.dy`<div> <a href="${(0,d.o)(t.attributes.id?`/config/automation/edit/${t.attributes.id}`:void 0)}"> <paper-item .automation="${t}" .disabled="${!t.attributes.id}"> <paper-item-body> ${(0,f.C)(t)} </paper-item-body> <ha-icon-next></ha-icon-next> </paper-item> </a> ${t.attributes.id?"":s.dy` <simple-tooltip animation-delay="0"> ${this.hass.localize("ui.panel.config.devices.cant_edit")} </simple-tooltip> `} </div> `:""}))} </div> `:s.dy` <div class="card-content"> ${this.hass.localize("ui.panel.config.devices.add_prompt","name",this.hass.localize("ui.panel.config.devices.automation.automations"),"type",this.hass.localize(`ui.panel.config.devices.type.${o.entry_type||"device"}`))} </div> `} </ha-card> `:"",S=(0,h.p)(this.hass,"scene")&&c.length?s.dy` <ha-card outlined> <h1 class="card-header"> ${this.hass.localize("ui.panel.config.devices.scene.scenes_heading")} <ha-icon-button @click="${this._createScene}" .disabled="${o.disabled_by}" .label="${o.disabled_by?this.hass.localize("ui.panel.config.devices.scene.create_disable","type",this.hass.localize(`ui.panel.config.devices.type.${o.entry_type||"device"}`)):this.hass.localize("ui.panel.config.devices.scene.create","type",this.hass.localize(`ui.panel.config.devices.type.${o.entry_type||"device"}`))}" .path="${V}"></ha-icon-button> </h1> ${null!==(t=this._related)&&void 0!==t&&null!==(t=t.scene)&&void 0!==t&&t.length?s.dy` <div class="items"> ${this._related.scene.map((e=>{const t=this.hass.states[e];return t?s.dy` <div> <a href="${(0,d.o)(t.attributes.id?`/config/scene/edit/${t.attributes.id}`:void 0)}"> <paper-item .scene="${t}" .disabled="${!t.attributes.id}"> <paper-item-body> ${(0,f.C)(t)} </paper-item-body> <ha-icon-next></ha-icon-next> </paper-item> </a> ${t.attributes.id?"":s.dy` <simple-tooltip animation-delay="0"> ${this.hass.localize("ui.panel.config.devices.cant_edit")} </simple-tooltip> `} </div> `:""}))} </div> `:s.dy` <div class="card-content"> ${this.hass.localize("ui.panel.config.devices.add_prompt","name",this.hass.localize("ui.panel.config.devices.scene.scenes"),"type",this.hass.localize(`ui.panel.config.devices.type.${o.entry_type||"device"}`))} </div> `} </ha-card> `:"",E=(0,h.p)(this.hass,"script")?s.dy` <ha-card outlined> <h1 class="card-header"> ${this.hass.localize("ui.panel.config.devices.script.scripts_heading")} <ha-icon-button @click="${this._showScriptDialog}" .disabled="${o.disabled_by}" .label="${o.disabled_by?this.hass.localize("ui.panel.config.devices.script.create_disable","type",this.hass.localize(`ui.panel.config.devices.type.${o.entry_type||"device"}`)):this.hass.localize("ui.panel.config.devices.script.create","type",this.hass.localize(`ui.panel.config.devices.type.${o.entry_type||"device"}`))}" .path="${V}"></ha-icon-button> </h1> ${null!==(i=this._related)&&void 0!==i&&null!==(i=i.script)&&void 0!==i&&i.length?s.dy` <div class="items"> ${this._related.script.map((e=>{const t=this.hass.states[e],i=this.entities.find((t=>t.entity_id===e));let a=`/config/script/show/${t.entity_id}`;return i&&(a=`/config/script/edit/${i.unique_id}`),t?s.dy` <a href="${a}"> <paper-item .script="${e}"> <paper-item-body> ${(0,f.C)(t)} </paper-item-body> <ha-icon-next></ha-icon-next> </paper-item> </a> `:""}))} </div> `:s.dy` <div class="card-content"> ${this.hass.localize("ui.panel.config.devices.add_prompt","name",this.hass.localize("ui.panel.config.devices.script.scripts"),"type",this.hass.localize(`ui.panel.config.devices.type.${o.entry_type||"device"}`))} </div> `} </ha-card> `:"";return s.dy` <hass-subpage .hass="${this.hass}" .narrow="${this.narrow}" .header="${r}"> <ha-icon-button slot="toolbar-icon" .path="${j}" @click="${this._showSettings}" .label="${this.hass.localize("ui.panel.config.devices.edit_settings")}"></ha-icon-button> <div class="container"> <div class="header fullwidth"> ${_?s.dy`<div class="header-name"> <a href="/config/areas/area/${_.area_id}">${this.hass.localize("ui.panel.config.integrations.config_entry.area","area",_.name||"Unnamed Area")}</a> </div>`:""} <div class="header-right"> ${!m||"binary_sensor"!==y&&isNaN(m.state)?"":s.dy` <div class="battery"> ${"sensor"===y?this.hass.formatEntityState(m):s.Ld} <ha-battery-icon .hass="${this.hass}" .batteryStateObj="${m}" .batteryChargingStateObj="${b}"></ha-battery-icon> </div> `} ${l.length?s.dy` <img alt="${(0,x.Lh)(this.hass.localize,l[0].domain)}" src="${(0,L.X1)({domain:l[0].domain,type:"logo",darkOptimized:null===(a=this.hass.themes)||void 0===a?void 0:a.darkMode})}" referrerpolicy="no-referrer" @load="${this._onImageLoad}" @error="${this._onImageError}"> `:""} </div> </div> <div class="column"> ${null!==(n=this._deviceAlerts)&&void 0!==n&&n.length?s.dy` <div> ${this._deviceAlerts.map((e=>s.dy` <ha-alert .alertType="${e.level}"> ${e.text} </ha-alert> `))} </div> `:""} <ha-device-info-card .hass="${this.hass}" .areas="${this.areas}" .devices="${this.devices}" .device="${o}"> ${w} ${C||$.length?s.dy` <div class="card-actions" slot="actions"> <div> <a href="${(0,d.o)(C.href)}" rel="${(0,d.o)(C.target?"noreferrer":void 0)}" target="${(0,d.o)(C.target)}"> <mwc-button class="${(0,d.o)(C.classes)}" .action="${C.action}" @click="${this._deviceActionClicked}" graphic="icon"> ${C.label} ${C.icon?s.dy` <ha-svg-icon class="${(0,d.o)(C.classes)}" .path="${C.icon}" slot="graphic"></ha-svg-icon> `:""} ${C.trailingIcon?s.dy` <ha-svg-icon .path="${C.trailingIcon}" slot="trailingIcon"></ha-svg-icon> `:""} </mwc-button> </a> </div> ${$.length?s.dy` <ha-button-menu> <ha-icon-button slot="trigger" .label="${this.hass.localize("ui.common.menu")}" .path="${F}"></ha-icon-button> ${$.map((e=>{const t=s.dy`<mwc-list-item class="${(0,d.o)(e.classes)}" .action="${e.action}" @click="${this._deviceActionClicked}" graphic="icon" .hasMeta="${Boolean(e.trailingIcon)}"> ${e.label} ${e.icon?s.dy` <ha-svg-icon class="${(0,d.o)(e.classes)}" .path="${e.icon}" slot="graphic"></ha-svg-icon> `:""} ${e.trailingIcon?s.dy` <ha-svg-icon slot="meta" .path="${e.trailingIcon}"></ha-svg-icon> `:""} </mwc-list-item>`;return e.href?s.dy`<a href="${e.href}" target="${(0,d.o)(e.target)}" rel="${(0,d.o)(e.target?"noreferrer":void 0)}">${t} </a>`:t}))} </ha-button-menu> `:""} </div> `:""} </ha-device-info-card> ${this.narrow?"":[z,S,E]} </div> <div class="column"> ${["control","sensor","event","config","diagnostic"].map((e=>u[e].length>0||0===c.length&&"control"===e?s.dy` <ha-device-entities-card .hass="${this.hass}" .header="${this.hass.localize(`ui.panel.config.devices.entities.${e}`)}" .deviceName="${r}" .entities="${u[e]}" .showHidden="${null!==o.disabled_by}"> </ha-device-entities-card> `:""))} <ha-device-via-devices-card .hass="${this.hass}" .deviceId="${this.deviceId}"></ha-device-via-devices-card> </div> <div class="column"> ${this.narrow?[z,S,E]:""} ${(0,h.p)(this.hass,"logbook")?s.dy` <ha-card outlined> <h1 class="card-header"> ${this.hass.localize("panel.logbook")} </h1> <ha-logbook .hass="${this.hass}" .time="${this._logbookTime}" .entityIds="${this._entityIds(c)}" .deviceIds="${this._deviceIdInList(this.deviceId)}" virtualize narrow no-icon></ha-logbook> </ha-card> `:""} </div> </div>  </hass-subpage> `}},{kind:"method",key:"_getDiagnosticButtons",value:async function(e){if(!(0,h.p)(this.hass,"diagnostics"))return;const t=this._device(this.deviceId,this.devices);if(!t)return;let i=await Promise.all(this._integrations(t,this.entries,this.manifests).map((async e=>{if("loaded"!==e.state)return!1;let t;try{t=await(0,w.lf)(this.hass,e.domain)}catch(e){if("not_found"===e.code)return!1;throw e}return!(!t.handlers.device&&!t.handlers.config_entry)&&{link:t.handlers.device?(0,w.ZK)(e.entry_id,this.deviceId):(0,w.iP)(e.entry_id),domain:e.domain}})));i=i.filter(Boolean),this._diagnosticDownloadLinks===e&&i.length>0&&(this._diagnosticDownloadLinks=i.map((e=>({href:e.link,icon:W,action:e=>this._signUrl(e),label:i.length>1?this.hass.localize("ui.panel.config.devices.download_diagnostics_integration",{integration:(0,x.Lh)(this.hass.localize,e.domain)}):this.hass.localize("ui.panel.config.devices.download_diagnostics")}))))}},{kind:"method",key:"_getDeleteActions",value:function(){const e=this._device(this.deviceId,this.devices);if(!e)return;const t=[];this._integrations(e,this.entries,this.manifests).forEach((i=>{"loaded"===i.state&&i.supports_remove_device&&t.push({action:async()=>{await(0,S.g7)(this,{text:this._integrations(e,this.entries,this.manifests).length>1?this.hass.localize("ui.panel.config.devices.confirm_delete_integration",{integration:(0,x.Lh)(this.hass.localize,i.domain)}):this.hass.localize("ui.panel.config.devices.confirm_delete")})&&await(0,k.dl)(this.hass,this.deviceId,i.entry_id)},classes:"warning",icon:H,label:this._integrations(e,this.entries,this.manifests).length>1?this.hass.localize("ui.panel.config.devices.delete_device_integration",{integration:(0,x.Lh)(this.hass.localize,i.domain)}):this.hass.localize("ui.panel.config.devices.delete_device")})})),t.length>0&&(this._deleteButtons=t)}},{kind:"method",key:"_getDeviceActions",value:async function(){var e;const t=this._device(this.deviceId,this.devices);if(!t)return;const a=[],n=(null===(e=t.configuration_url)||void 0===e?void 0:e.startsWith("homeassistant://"))||!1,o=n?t.configuration_url.replace("homeassistant://","/"):t.configuration_url;o&&a.push({href:o,target:n?void 0:"_blank",icon:Z,label:this.hass.localize("ui.panel.config.devices.open_configuration_url"),trailingIcon:N});const s=this._integrations(t,this.entries,this.manifests).map((e=>e.domain));if(s.includes("mqtt")){const e=(await i.e(1282).then(i.bind(i,1282))).getMQTTDeviceActions(this,t);a.push(...e)}if(s.includes("zha")){const e=await i.e(58533).then(i.bind(i,58533)),n=await e.getZHADeviceActions(this,this.hass,t);a.push(...n)}if(s.includes("zwave_js")){const e=await i.e(65148).then(i.bind(i,65148)),n=await e.getZwaveDeviceActions(this,this.hass,t);a.push(...n)}this._deviceActions=a}},{kind:"method",key:"_getDeviceAlerts",value:async function(){const e=this._device(this.deviceId,this.devices);if(!e)return;const t=[];if(this._integrations(e,this.entries,this.manifests).map((e=>e.domain)).includes("zwave_js")){const a=await i.e(4012).then(i.bind(i,4012)),n=await a.getZwaveDeviceAlerts(this.hass,e);t.push(...n)}t.length&&(this._deviceAlerts=t)}},{kind:"method",key:"_computeEntityName",value:function(e){if(e.name)return e.name;const t=this.hass.states[e.entity_id];return t?(0,f.C)(t):null}},{kind:"method",key:"_onImageLoad",value:function(e){e.target.style.display="inline-block"}},{kind:"method",key:"_onImageError",value:function(e){e.target.style.display="none"}},{kind:"method",key:"_findRelated",value:async function(){this._related=await(0,z.K)(this.hass,"device",this.deviceId)}},{kind:"method",key:"_createScene",value:function(){const e={};this._entities(this.deviceId,this.entities).forEach((t=>{e[t.entity_id]=""})),(0,C.mR)({entities:e})}},{kind:"method",key:"_showScriptDialog",value:function(){(0,D.J)(this,{device:this._device(this.deviceId,this.devices),entityReg:this._entityReg,script:!0})}},{kind:"method",key:"_showAutomationDialog",value:function(){(0,D.J)(this,{device:this._device(this.deviceId,this.devices),entityReg:this._entityReg,script:!1})}},{kind:"method",key:"_renderIntegrationInfo",value:function(e,t,a){const n=t.map((e=>e.domain));n.includes("zha")&&(i.e(49199).then(i.bind(i,49199)),a.push(s.dy` <ha-device-info-zha .hass="${this.hass}" .device="${e}"></ha-device-info-zha> `)),n.includes("zwave_js")&&(i.e(96747).then(i.bind(i,96747)),a.push(s.dy` <ha-device-info-zwave_js .hass="${this.hass}" .device="${e}"></ha-device-info-zwave_js> `))}},{kind:"method",key:"_showSettings",value:async function(){const e=this._device(this.deviceId,this.devices);(0,P.r)(this,{device:e,updateEntry:async t=>{const i=e.name_by_user||e.name,a=t.name_by_user;if("user"===t.disabled_by&&"user"!==e.disabled_by){for(const i of e.config_entries)if(!this.devices.some((t=>t.id!==e.id&&t.config_entries.includes(i)))){const e=this.entries.find((e=>e.entry_id===i));if(e&&!e.disabled_by&&await(0,S.g7)(this,{title:this.hass.localize("ui.panel.config.devices.confirm_disable_config_entry","entry_name",e.title),confirmText:this.hass.localize("ui.common.yes"),dismissText:this.hass.localize("ui.common.no")})){let e;try{e=await(0,_.Ny)(this.hass,i)}catch(e){return void(0,S.Ys)(this,{title:this.hass.localize("ui.panel.config.integrations.config_entry.disable_error"),text:e.message})}e.require_restart&&(0,S.Ys)(this,{text:this.hass.localize("ui.panel.config.integrations.config_entry.disable_restart_confirm")}),delete t.disabled_by}}}else null!==t.disabled_by&&"user"!==t.disabled_by&&delete t.disabled_by;try{await(0,k.t1)(this.hass,this.deviceId,t)}catch(e){return void(0,S.Ys)(this,{title:this.hass.localize("ui.panel.config.devices.update_device_error"),text:e.message})}if(!i||!a||i===a)return;const n=this._entities(this.deviceId,this.entities),o=this.showAdvanced&&await(0,S.g7)(this,{title:this.hass.localize("ui.panel.config.devices.confirm_rename_entity_ids"),text:this.hass.localize("ui.panel.config.devices.confirm_rename_entity_ids_warning"),confirmText:this.hass.localize("ui.common.rename"),dismissText:this.hass.localize("ui.common.no"),warning:!0}),s=n.map((e=>{const t=e.name||e.stateName;let n,s,r,d=!1;if(e.has_entity_name&&!e.name?r=!1:!e.has_entity_name||e.name!==i&&e.name!==a?t&&t.includes(i)?(r=!0,s=t.replace(i,a)):r=!1:(r=!0,s=null),o){const t=(0,m.l)(i);e.entity_id.includes(t)&&(d=!0,n=e.entity_id.replace(t,(0,m.l)(a)))}if(void 0!==s||void 0!==n)return(0,$.Nv)(this.hass,e.entity_id,{name:r?s:void 0,new_entity_id:d?n:void 0})}));await Promise.all(s)}})}},{kind:"method",key:"_enableDevice",value:async function(){await(0,k.t1)(this.hass,this.deviceId,{disabled_by:null})}},{kind:"method",key:"_signUrl",value:async function(e){const t=e.currentTarget.closest("a"),i=await(0,b.iI)(this.hass,t.getAttribute("href"));(0,A.N)(i.path)}},{kind:"method",key:"_deviceActionClicked",value:function(e){e.currentTarget.action&&(e.preventDefault(),e.currentTarget.action(e))}},{kind:"get",static:!0,key:"styles",value:function(){return[E.Qx,s.iv`.container{display:flex;flex-wrap:wrap;margin:auto;max-width:1000px;margin-top:32px;margin-bottom:32px}.card-header{display:flex;align-items:center;justify-content:space-between;padding-bottom:12px}.card-header ha-icon-button{margin-right:-8px;margin-inline-end:-8px;margin-inline-start:initial;color:var(--primary-color);height:auto;direction:var(--direction)}.device-info{padding:16px}h1{margin:0;font-family:var(--paper-font-headline_-_font-family);-webkit-font-smoothing:var(--paper-font-headline_-_-webkit-font-smoothing);font-size:var(--paper-font-headline_-_font-size);font-weight:var(--paper-font-headline_-_font-weight);letter-spacing:var(--paper-font-headline_-_letter-spacing);line-height:var(--paper-font-headline_-_line-height);opacity:var(--dark-primary-opacity)}.header{display:flex;justify-content:space-between}.header-name{display:flex;align-items:center;padding-left:8px;padding-inline-start:8px;direction:var(--direction)}.column,.fullwidth{padding:8px;box-sizing:border-box}.column{width:33%;flex-grow:1}.fullwidth{width:100%;flex-grow:1}.header-right{align-self:center}.header-right img{height:30px}.header-right{display:flex}.header-right:first-child{width:100%;justify-content:flex-end}.header-right>:not(:first-child){margin-left:16px;margin-inline-start:16px;margin-inline-end:initial;direction:var(--direction)}.battery{align-self:center;align-items:center;display:flex;white-space:nowrap}.column>:not(:first-child){margin-top:16px}:host([narrow]) .column{width:100%}:host([narrow]) .container{margin-top:0}paper-item{cursor:pointer;font-size:var(--paper-font-body1_-_font-size)}a{text-decoration:none;color:var(--primary-color)}ha-card a{color:var(--primary-text-color)}ha-svg-icon[slot=trailingIcon]{display:block;width:18px;height:18px}ha-svg-icon[slot=meta]{width:18px;height:18px}.items{padding-bottom:16px}ha-logbook{height:400px}:host([narrow]) ha-logbook{height:235px}.card-actions{display:flex;justify-content:space-between;align-items:center}`]}}]}}),s.oi);t()}catch(e){t(e)}}))},59121:(e,t,i)=>{var a=i(17463),n=(i(33829),i(68144)),o=i(79932),s=i(14516),r=i(22311),d=i(78866),l=i(83849),c=i(87744),h=(i(57793),i(81545),i(84431),i(36125),i(10983),i(81582)),u=i(57292),p=i(74186),v=i(5986),f=(i(96551),i(11654)),g=i(11254),m=i(29311),y=(i(36269),i(72160));(0,a.Z)([(0,o.Mo)("ha-config-devices-dashboard")],(function(e,t){return{F:class extends t{constructor(){super(),e(this),window.addEventListener("location-changed",(()=>{this._ignoreLocationChange?this._ignoreLocationChange=!1:window.location.search.substring(1)!==this._searchParms.toString()&&(this._searchParms=new URLSearchParams(window.location.search))})),window.addEventListener("popstate",(()=>{window.location.search.substring(1)!==this._searchParms.toString()&&(this._searchParms=new URLSearchParams(window.location.search))}))}},d:[{kind:"field",decorators:[(0,o.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.Cb)()],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)()],key:"isWide",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)()],key:"devices",value:void 0},{kind:"field",decorators:[(0,o.Cb)()],key:"entries",value:void 0},{kind:"field",decorators:[(0,o.Cb)()],key:"entities",value:void 0},{kind:"field",decorators:[(0,o.Cb)()],key:"areas",value:void 0},{kind:"field",decorators:[(0,o.Cb)()],key:"manifests",value:void 0},{kind:"field",decorators:[(0,o.Cb)()],key:"route",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"_searchParms",value:()=>new URLSearchParams(window.location.search)},{kind:"field",decorators:[(0,o.SB)()],key:"_showDisabled",value:()=>!1},{kind:"field",decorators:[(0,o.SB)()],key:"_filter",value(){var e;return(null===(e=history.state)||void 0===e?void 0:e.filter)||""}},{kind:"field",decorators:[(0,o.SB)()],key:"_numHiddenDevices",value:()=>0},{kind:"field",key:"_ignoreLocationChange",value:()=>!1},{kind:"field",key:"_activeFilters",value(){return(0,s.Z)(((e,t,i)=>{const a=[];return t.forEach(((t,n)=>{switch(n){case"config_entry":{const n=e.find((e=>e.entry_id===t));if(!n)break;const o=(0,v.Lh)(i,n.domain);a.push(`${this.hass.localize("ui.panel.config.integrations.integration")} "${o}${o!==n.title?`: ${n.title}`:""}"`);break}case"domain":a.push(`${this.hass.localize("ui.panel.config.integrations.integration")} "${(0,v.Lh)(i,t)}"`)}})),a.length?a:void 0}))}},{kind:"field",key:"_devicesAndFilterDomains",value(){return(0,s.Z)(((e,t,i,a,n,o,s,r)=>{let d=e;const l={};for(const t of e)l[t.id]=t;let c=d.length;const p={};for(const e of i)e.device_id&&(e.device_id in p||(p[e.device_id]=[]),p[e.device_id].push(e));const v={};for(const e of t)v[e.entry_id]=e;const f={};for(const e of a)f[e.area_id]=e;const g={};for(const e of n)g[e.domain]=e;let m;const y=new Set;return o.forEach(((e,i)=>{if("config_entry"===i&&(d=d.filter((t=>t.config_entries.includes(e))),c=d.length,m=t.find((t=>t.entry_id===e)),m&&y.add(m.domain)),"domain"===i){const i=t.filter((t=>t.domain===e)).map((e=>e.entry_id));d=d.filter((e=>e.config_entries.some((e=>i.includes(e))))),c=d.length,y.add(e)}})),s||(d=d.filter((e=>!e.disabled_by))),d=d.map((e=>{var t;const i=(0,h.Pk)(e.config_entries.filter((e=>e in v)).map((e=>v[e])),g);return{...e,name:(0,u.jL)(e,this.hass,p[e.id]),model:e.model||`<${r("ui.panel.config.devices.data_table.unknown")}>`,manufacturer:e.manufacturer||`<${r("ui.panel.config.devices.data_table.unknown")}>`,area:e.area_id&&f[e.area_id]?f[e.area_id].name:"",integration:i.length?i.map((e=>r(`component.${e.domain}.title`)||e.domain)).join(", "):this.hass.localize("ui.panel.config.devices.data_table.no_integration"),domains:i.map((e=>e.domain)),battery_entity:[this._batteryEntity(e.id,p),this._batteryChargingEntity(e.id,p)],battery_level:null===(t=this.hass.states[this._batteryEntity(e.id,p)||""])||void 0===t?void 0:t.state}})),this._numHiddenDevices=c-d.length,{devicesOutput:d,filteredConfigEntry:m,filteredDomains:y}}))}},{kind:"field",key:"_columns",value(){return(0,s.Z)(((e,t)=>{const i={icon:{title:"",type:"icon",template:(e,t)=>{var i;return t.domains.length?n.dy`<img alt="" referrerpolicy="no-referrer" src="${(0,g.X1)({domain:t.domains[0],type:"icon",darkOptimized:null===(i=this.hass.themes)||void 0===i?void 0:i.darkMode})}">`:""}}};return i.name=e?{title:this.hass.localize("ui.panel.config.devices.data_table.device"),main:!0,sortable:!0,filterable:!0,direction:"asc",grows:!0,template:(e,t)=>n.dy` ${e} <div class="secondary">${t.area} | ${t.integration}</div> `}:{title:this.hass.localize("ui.panel.config.devices.data_table.device"),main:!0,sortable:!0,filterable:!0,grows:!0,direction:"asc"},i.manufacturer={title:this.hass.localize("ui.panel.config.devices.data_table.manufacturer"),sortable:!0,hidden:e,filterable:!0,width:"15%"},i.model={title:this.hass.localize("ui.panel.config.devices.data_table.model"),sortable:!0,hidden:e,filterable:!0,width:"15%"},i.area={title:this.hass.localize("ui.panel.config.devices.data_table.area"),sortable:!0,hidden:e,filterable:!0,width:"15%"},i.integration={title:this.hass.localize("ui.panel.config.devices.data_table.integration"),sortable:!0,hidden:e,filterable:!0,width:"15%"},i.battery_entity={title:this.hass.localize("ui.panel.config.devices.data_table.battery"),sortable:!0,filterable:!0,type:"numeric",width:e?"95px":"15%",maxWidth:"95px",valueColumn:"battery_level",template:e=>{const t=e&&e[0]?this.hass.states[e[0]]:void 0,i=t?(0,r.N)(t):void 0,a=e&&e[1]?this.hass.states[e[1]]:void 0;return!t||"binary_sensor"!==i&&isNaN(t.state)?n.dy``:n.dy` ${"sensor"===i?this.hass.formatEntityState(t):n.Ld} <ha-battery-icon .hass="${this.hass}" .batteryStateObj="${t}" .batteryChargingStateObj="${a}"></ha-battery-icon> `}},t&&(i.disabled_by={title:"",label:this.hass.localize("ui.panel.config.devices.data_table.disabled_by"),type:"icon",template:e=>e?n.dy`<div tabindex="0" style="display:inline-block;position:relative"> <ha-svg-icon .path="${"M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z"}"></ha-svg-icon> <simple-tooltip animation-delay="0" position="left"> ${this.hass.localize("ui.panel.config.devices.disabled")} </simple-tooltip> </div>`:""}),i}))}},{kind:"method",key:"willUpdate",value:function(e){e.has("_searchParms")&&(this._searchParms.get("config_entry")||this._searchParms.get("domain"))&&(this._showDisabled=!0)}},{kind:"method",key:"render",value:function(){const{devicesOutput:e}=this._devicesAndFilterDomains(this.devices,this.entries,this.entities,this.areas,this.manifests,this._searchParms,this._showDisabled,this.hass.localize),t=this._activeFilters(this.entries,this._searchParms,this.hass.localize);return n.dy` <hass-tabs-subpage-data-table .hass="${this.hass}" .narrow="${this.narrow}" .backPath="${this._searchParms.has("historyBack")?void 0:"/config"}" .tabs="${m.configSections.devices}" .route="${this.route}" .activeFilters="${t}" .numHidden="${this._numHiddenDevices}" .searchLabel="${this.hass.localize("ui.panel.config.devices.picker.search")}" .hiddenLabel="${this.hass.localize("ui.panel.config.devices.picker.filter.hidden_devices","number",this._numHiddenDevices)}" .columns="${this._columns(this.narrow,this._showDisabled)}" .data="${e}" .filter="${this._filter}" @clear-filter="${this._clearFilter}" @search-changed="${this._handleSearchChange}" @row-click="${this._handleRowClicked}" clickable hasFab> <ha-integration-overflow-menu .hass="${this.hass}" slot="toolbar-icon"></ha-integration-overflow-menu> <ha-fab slot="fab" .label="${this.hass.localize("ui.panel.config.devices.add_device")}" extended @click="${this._addDevice}" ?rtl="${(0,c.HE)(this.hass)}"> <ha-svg-icon slot="icon" .path="${"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"}"></ha-svg-icon> </ha-fab> <ha-button-menu slot="filter-menu" multi> <ha-icon-button slot="trigger" .label="${this.hass.localize("ui.panel.config.devices.picker.filter.filter")}" .path="${"M6,13H18V11H6M3,6V8H21V6M10,18H14V16H10V18Z"}"></ha-icon-button> ${this.narrow&&null!=t&&t.length?n.dy`<mwc-list-item @click="${this._clearFilter}">${this.hass.localize("ui.components.data-table.filtering_by")} ${t.join(", ")} <span class="clear">Clear</span></mwc-list-item>`:""} <ha-check-list-item left @request-selected="${this._showDisabledChanged}" .selected="${this._showDisabled}"> ${this.hass.localize("ui.panel.config.devices.picker.filter.show_disabled")} </ha-check-list-item> </ha-button-menu> </hass-tabs-subpage-data-table> `}},{kind:"method",key:"_batteryEntity",value:function(e,t){const i=(0,p.eD)(this.hass,t[e]||[]);return i?i.entity_id:void 0}},{kind:"method",key:"_batteryChargingEntity",value:function(e,t){const i=(0,p.wX)(this.hass,t[e]||[]);return i?i.entity_id:void 0}},{kind:"method",key:"_handleRowClicked",value:function(e){const t=e.detail.id;this._ignoreLocationChange=!0,(0,l.c)(`/config/devices/device/${t}`)}},{kind:"method",key:"_showDisabledChanged",value:function(e){"property"===e.detail.source&&(this._showDisabled=e.detail.selected)}},{kind:"method",key:"_handleSearchChange",value:function(e){this._filter=e.detail.value,history.replaceState({filter:this._filter},"")}},{kind:"method",key:"_clearFilter",value:function(){this._activeFilters(this.entries,this._searchParms,this.hass.localize)&&(0,l.c)(window.location.pathname,{replace:!0}),this._showDisabled=!0}},{kind:"method",key:"_addDevice",value:function(){const{filteredConfigEntry:e,filteredDomains:t}=this._devicesAndFilterDomains(this.devices,this.entries,this.entities,this.areas,this.manifests,this._searchParms,this._showDisabled,this.hass.localize);1===t.size&&d.S.includes([...t][0])?(0,d.D)(this,this.hass,[...t][0],{config_entry:null==e?void 0:e.entry_id}):(0,y.E)(this,{domain:this._searchParms.get("domain")||void 0})}},{kind:"get",static:!0,key:"styles",value:function(){return[n.iv`ha-button-menu{margin-left:8px}.clear{color:var(--primary-color);padding-left:8px;padding-inline-start:8px;text-transform:uppercase;direction:var(--direction)}`,f.Qx]}}]}}),n.oi)},2365:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.r(t);var n=i(17463),o=i(34541),s=i(47838),r=i(79932),d=i(57066),l=i(81582),c=i(57292),h=i(74186),u=i(5986),p=i(18199),v=i(32240),f=(i(59121),e([v]));v=(f.then?(await f)():f)[0];(0,n.Z)([(0,r.Mo)("ha-config-devices")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"narrow",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"isWide",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"showAdvanced",value:void 0},{kind:"field",key:"routerOptions",value:()=>({defaultPage:"dashboard",routes:{dashboard:{tag:"ha-config-devices-dashboard",cache:!0},device:{tag:"ha-config-device-page"}}})},{kind:"field",decorators:[(0,r.SB)()],key:"_configEntries",value:()=>[]},{kind:"field",decorators:[(0,r.SB)()],key:"_manifests",value:()=>[]},{kind:"field",decorators:[(0,r.SB)()],key:"_entityRegistryEntries",value:()=>[]},{kind:"field",decorators:[(0,r.SB)()],key:"_deviceRegistryEntries",value:()=>[]},{kind:"field",decorators:[(0,r.SB)()],key:"_areas",value:()=>[]},{kind:"field",key:"_unsubs",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,o.Z)((0,s.Z)(i.prototype),"connectedCallback",this).call(this),this.hass&&this._loadData()}},{kind:"method",key:"disconnectedCallback",value:function(){if((0,o.Z)((0,s.Z)(i.prototype),"disconnectedCallback",this).call(this),this._unsubs){for(;this._unsubs.length;)this._unsubs.pop()();this._unsubs=void 0}}},{kind:"method",key:"firstUpdated",value:function(e){(0,o.Z)((0,s.Z)(i.prototype),"firstUpdated",this).call(this,e),this.addEventListener("hass-reload-entries",(()=>{this._loadData()}))}},{kind:"method",key:"updated",value:function(e){(0,o.Z)((0,s.Z)(i.prototype),"updated",this).call(this,e),!this._unsubs&&e.has("hass")&&this._loadData()}},{kind:"method",key:"updatePageEl",value:function(e){e.hass=this.hass,"device"===this._currentPage&&(e.deviceId=this.routeTail.path.substr(1)),e.entities=this._entityRegistryEntries,e.entries=this._configEntries,e.manifests=this._manifests,e.devices=this._deviceRegistryEntries,e.areas=this._areas,e.narrow=this.narrow,e.isWide=this.isWide,e.showAdvanced=this.showAdvanced,e.route=this.routeTail}},{kind:"method",key:"_loadData",value:function(){(0,l.pB)(this.hass).then((e=>{this._configEntries=e})),(0,u.F3)(this.hass).then((e=>{this._manifests=e})),this._unsubs||(this._unsubs=[(0,d.sG)(this.hass.connection,(e=>{this._areas=e})),(0,h.LM)(this.hass.connection,(e=>{this._entityRegistryEntries=e})),(0,c.q4)(this.hass.connection,(e=>{this._deviceRegistryEntries=e}))])}}]}}),p.n);a()}catch(e){a(e)}}))},88165:(e,t,i)=>{var a=i(17463),n=i(68144),o=i(79932),s=i(83448);(0,a.Z)([(0,o.Mo)("ha-config-section")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.Cb)()],key:"isWide",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"vertical",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({type:Boolean,attribute:"full-width"})],key:"fullWidth",value:()=>!1},{kind:"method",key:"render",value:function(){return n.dy` <div class="content ${(0,s.$)({narrow:!this.isWide,"full-width":this.fullWidth})}"> <div class="header"><slot name="header"></slot></div> <div class="together layout ${(0,s.$)({narrow:!this.isWide,vertical:this.vertical||!this.isWide,horizontal:!this.vertical&&this.isWide})}"> <div class="intro"><slot name="introduction"></slot></div> <div class="panel flex-auto"><slot></slot></div> </div> </div> `}},{kind:"get",static:!0,key:"styles",value:function(){return n.iv`:host{display:block}.content{padding:28px 20px 0;max-width:1040px;margin:0 auto}.layout{display:flex}.horizontal{flex-direction:row}.vertical{flex-direction:column}.flex-auto{flex:1 1 auto}.header{font-family:var(--paper-font-headline_-_font-family);-webkit-font-smoothing:var(--paper-font-headline_-_-webkit-font-smoothing);font-size:var(--paper-font-headline_-_font-size);font-weight:var(--paper-font-headline_-_font-weight);letter-spacing:var(--paper-font-headline_-_letter-spacing);line-height:var(--paper-font-headline_-_line-height);opacity:var(--dark-primary-opacity)}.together{margin-top:32px}.intro{font-family:var(--paper-font-subhead_-_font-family);-webkit-font-smoothing:var(--paper-font-subhead_-_-webkit-font-smoothing);font-weight:var(--paper-font-subhead_-_font-weight);line-height:var(--paper-font-subhead_-_line-height);width:100%;opacity:var(--dark-primary-opacity);font-size:14px;padding-bottom:20px}.horizontal .intro{max-width:400px;margin-right:40px}.panel{margin-top:-24px}.panel ::slotted(*){margin-top:24px;display:block}.narrow.content{max-width:640px}.narrow .together{margin-top:20px}.narrow .intro{padding-bottom:20px;margin-right:0;max-width:500px}.full-width{padding:0}.full-width .layout{flex-direction:column}`}}]}}),n.oi)},36269:(e,t,i)=>{var a=i(17463),n=i(68144),o=i(79932);i(81545),i(45036),i(10983);(0,a.Z)([(0,o.Mo)("ha-integration-overflow-menu")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"method",key:"render",value:function(){return n.dy` <ha-button-menu activatable> <ha-icon-button slot="trigger" .label="${this.hass.localize("ui.common.menu")}" .path="${"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z"}"></ha-icon-button> <ha-clickable-list-item href="/config/application_credentials"> ${this.hass.localize("ui.panel.config.application_credentials.caption")} </ha-clickable-list-item> </ha-button-menu> `}}]}}),n.oi)},25145:(e,t,i)=>{i.d(t,{H:()=>o});var a=i(47181);const n=()=>Promise.all([i.e(28597),i.e(45497),i.e(10463),i.e(82189)]).then(i.bind(i,82189)),o=e=>{(0,a.B)(e,"show-dialog",{dialogTag:"dialog-matter-add-device",dialogImport:n,dialogParams:{}})}},70332:(e,t,i)=>{i.d(t,{B:()=>o});var a=i(47181);const n=()=>Promise.all([i.e(46992),i.e(42850),i.e(63436),i.e(28597),i.e(45497),i.e(99608),i.e(65666),i.e(70632),i.e(24709),i.e(54629)]).then(i.bind(i,54629)),o=(e,t)=>{(0,a.B)(e,"show-dialog",{dialogTag:"dialog-zwave_js-add-node",dialogImport:n,dialogParams:t})}},72160:(e,t,i)=>{i.d(t,{E:()=>n,u:()=>o});var a=i(47181);const n=(e,t)=>{(0,a.B)(e,"show-dialog",{dialogTag:"dialog-add-integration",dialogImport:()=>Promise.all([i.e(28597),i.e(81480),i.e(92205)]).then(i.bind(i,92205)),dialogParams:t})},o=(e,t)=>{(0,a.B)(e,"show-dialog",{dialogTag:"dialog-yaml-integration",dialogImport:()=>i.e(64348).then(i.bind(i,64348)),dialogParams:t})}},97740:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(17463),n=i(34541),o=i(47838),s=i(68144),r=i(79932),d=i(7323),l=i(22311),c=i(8330),h=(i(31206),i(57266)),u=i(97389),p=i(65253),v=i(44198),f=e([v]);v=(f.then?(await f)():f)[0];const g=(e,t)=>new Date(e.getTime()-1e3*t).getTime()/1e3,m=(e,t)=>(void 0!==e||void 0!==t)&&(!e||!t||e.length!==t.length||e.some((e=>!t.includes(e)))||t.some((t=>!e.includes(t))));(0,a.Z)([(0,r.Mo)("ha-logbook")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"time",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"entityIds",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"deviceIds",value:void 0},{kind:"field",decorators:[(0,r.Cb)({type:Boolean,attribute:"narrow"})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean,attribute:"virtualize",reflect:!0})],key:"virtualize",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean,attribute:"no-icon"})],key:"noIcon",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean,attribute:"no-name"})],key:"noName",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean,attribute:"show-indicator"})],key:"showIndicator",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean,attribute:"relative-time"})],key:"relativeTime",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"showMoreLink",value:()=>!0},{kind:"field",decorators:[(0,r.SB)()],key:"_logbookEntries",value:void 0},{kind:"field",decorators:[(0,r.SB)()],key:"_traceContexts",value:()=>({})},{kind:"field",decorators:[(0,r.SB)()],key:"_userIdToName",value:()=>({})},{kind:"field",decorators:[(0,r.SB)()],key:"_error",value:void 0},{kind:"field",key:"_subscribed",value:void 0},{kind:"field",key:"_liveUpdatesEnabled",value:()=>!0},{kind:"field",key:"_pendingStreamMessages",value:()=>[]},{kind:"field",key:"_throttleGetLogbookEntries",value(){return(0,c.P)((()=>this._getLogBookData()),1e3)}},{kind:"method",key:"render",value:function(){return(0,d.p)(this.hass,"logbook")?this._error?s.dy`<div class="no-entries"> ${`${this.hass.localize("ui.components.logbook.retrieval_error")}: ${this._error}`} </div>`:void 0===this._logbookEntries?s.dy` <div class="progress-wrapper"> <ha-circular-progress active alt="${this.hass.localize("ui.common.loading")}"></ha-circular-progress> </div> `:0===this._logbookEntries.length?s.dy`<div class="no-entries"> ${this.hass.localize("ui.components.logbook.entries_not_found")} </div>`:s.dy` <ha-logbook-renderer .hass="${this.hass}" .narrow="${this.narrow}" .virtualize="${this.virtualize}" .noIcon="${this.noIcon}" .noName="${this.noName}" .showIndicator="${this.showIndicator}" .relativeTime="${this.relativeTime}" .entries="${this._logbookEntries}" .traceContexts="${this._traceContexts}" .userIdToName="${this._userIdToName}" @hass-logbook-live="${this._handleLogbookLive}"></ha-logbook-renderer> `:s.Ld}},{kind:"method",key:"refresh",value:async function(e=!1){(e||!this._subscribed&&void 0!==this._logbookEntries)&&(this._throttleGetLogbookEntries.cancel(),this._updateTraceContexts.cancel(),this._updateUsers.cancel(),await this._unsubscribeSetLoading(),e?this._getLogBookData():this._throttleGetLogbookEntries())}},{kind:"method",key:"shouldUpdate",value:function(e){if(1!==e.size||!e.has("hass"))return!0;const t=e.get("hass");return!t||t.localize!==this.hass.localize}},{kind:"method",key:"willUpdate",value:function(e){let t=e.has("time");for(const i of["entityIds","deviceIds"]){if(!e.has(i))continue;const a=e.get(i),n=this[i];if(m(a,n)){t=!0;break}}t&&this.refresh(!0)}},{kind:"method",key:"_handleLogbookLive",value:function(e){e.detail.enable&&!this._liveUpdatesEnabled&&(this._pendingStreamMessages.forEach((e=>this._processStreamMessage(e))),this._pendingStreamMessages=[]),this._liveUpdatesEnabled=e.detail.enable}},{kind:"get",key:"_filterAlwaysEmptyResults",value:function(){const e=this.entityIds,t=this.deviceIds;return Boolean(e||t)&&(!e||0===e.length)&&(!t||0===t.length)}},{kind:"method",key:"_unsubscribe",value:async function(){if(this._subscribed){const e=await this._subscribed;if(e)try{await e()}catch(e){}this._subscribed=void 0}}},{kind:"method",key:"connectedCallback",value:function(){(0,n.Z)((0,o.Z)(i.prototype),"connectedCallback",this).call(this),this.hasUpdated&&this._subscribeLogbookPeriod(this._calculateLogbookPeriod())}},{kind:"method",key:"disconnectedCallback",value:function(){(0,n.Z)((0,o.Z)(i.prototype),"disconnectedCallback",this).call(this),this._unsubscribeSetLoading()}},{kind:"method",key:"_unsubscribeSetLoading",value:async function(){await this._unsubscribe(),this._logbookEntries=void 0,this._pendingStreamMessages=[]}},{kind:"method",key:"_unsubscribeNoResults",value:async function(){await this._unsubscribe(),this._logbookEntries=[],this._pendingStreamMessages=[]}},{kind:"method",key:"_calculateLogbookPeriod",value:function(){const e=new Date;if("range"in this.time)return{now:e,startTime:this.time.range[0],endTime:this.time.range[1],purgeBeforePythonTime:void 0};if("recent"in this.time){const t=g(e,this.time.recent);return{now:e,startTime:new Date(1e3*t),endTime:new Date(e.getTime()+31536e6),purgeBeforePythonTime:g(e,this.time.recent)}}throw new Error("Unexpected time specified")}},{kind:"method",key:"_subscribeLogbookPeriod",value:function(e){return this._subscribed||(this._subscribed=(0,h.Yc)(this.hass,(e=>{this._subscribed&&this._processOrQueueStreamMessage(e)}),e.startTime.toISOString(),e.endTime.toISOString(),this.entityIds,this.deviceIds).catch((e=>{this._subscribed=void 0,this._error=e}))),!0}},{kind:"method",key:"_getLogBookData",value:async function(){var e;if(this._error=void 0,this._filterAlwaysEmptyResults)return void this._unsubscribeNoResults();const t=this._calculateLogbookPeriod();t.startTime>t.now?this._unsubscribeNoResults():(this._updateUsers(),null!==(e=this.hass.user)&&void 0!==e&&e.is_admin&&this._updateTraceContexts(),this._subscribeLogbookPeriod(t))}},{kind:"field",key:"_nonExpiredRecords",value(){return e=>this._logbookEntries?e?this._logbookEntries.filter((t=>t.when>e)):this._logbookEntries:[]}},{kind:"field",key:"_processOrQueueStreamMessage",value(){return e=>{this._liveUpdatesEnabled?this._processStreamMessage(e):this._pendingStreamMessages.push(e)}}},{kind:"field",key:"_processStreamMessage",value(){return e=>{const t="recent"in this.time?g(new Date,this.time.recent):void 0,i=[...e.events].reverse();if(!this._logbookEntries||!this._logbookEntries.length)return void(this._logbookEntries=i);if(!i.length)return;const a=this._nonExpiredRecords(t);a.length?i[i.length-1].when>a[0].when?this._logbookEntries=i.concat(a):a[a.length-1].when>i[0].when?this._logbookEntries=a.concat(i):this._logbookEntries=a.concat(i).sort(((e,t)=>t.when-e.when)):this._logbookEntries=i}}},{kind:"field",key:"_updateTraceContexts",value(){return(0,c.P)((async()=>{this._traceContexts=await(0,u.U_)(this.hass)}),6e4)}},{kind:"field",key:"_updateUsers",value(){return(0,c.P)((async()=>{var e;const t={},i=(null===(e=this.hass.user)||void 0===e?void 0:e.is_admin)&&(0,p.uh)(this.hass);for(const e of Object.values(this.hass.states))e.attributes.user_id&&"person"===(0,l.N)(e)&&(t[e.attributes.user_id]=e.attributes.friendly_name);if(i){const e=await i;for(const i of e)i.id in t||(t[i.id]=i.name)}this._userIdToName=t}),6e4)}},{kind:"get",static:!0,key:"styles",value:function(){return[s.iv`:host{display:block}:host([virtualize]){height:100%}.no-entries{text-align:center;padding:16px;color:var(--secondary-text-color)}.progress-wrapper{display:flex;justify-content:center;height:100%;align-items:center}`]}}]}}),s.oi);t()}catch(e){t(e)}}))},7778:(e,t,i)=>{i.d(t,{ED:()=>u,N2:()=>s,Pc:()=>o,Tw:()=>c,Xm:()=>h});var a=i(47181),n=i(9893);const o=e=>{const t=document.createElement("hui-error-card");return customElements.get("hui-error-card")?t.setConfig(e):(Promise.all([i.e(77426),i.e(55796)]).then(i.bind(i,55796)),customElements.whenDefined("hui-error-card").then((()=>{customElements.upgrade(t),t.setConfig(e)}))),t},s=(e,t)=>({type:"error",error:e,origConfig:t}),r=(e,t)=>{const i=document.createElement(e);return i.setConfig(t),i},d=(e,t)=>o(s(e,t)),l=e=>(0,n.IT)(e)?(0,n.V0)(e):void 0,c=(e,t,i,a,n,o)=>{try{return h(e,t,i,a,n,o)}catch(i){return console.error(e,t.type,i),d(i.message,t)}},h=(e,t,i,n,o,s)=>{if(!t||"object"!=typeof t)throw new Error("Config is not an object");if(!(t.type||s||o&&"entity"in t))throw new Error("No card type configured");const c=t.type?l(t.type):void 0;if(c)return((e,t)=>{if(customElements.get(e))return r(e,t);const i=d(`Custom element doesn't exist: ${e}.`,t);if(!e.includes("-"))return i;i.style.display="None";const n=window.setTimeout((()=>{i.style.display=""}),2e3);return customElements.whenDefined(e).then((()=>{clearTimeout(n),(0,a.B)(i,"ll-rebuild")})),i})(c,t);let h;if(o&&!t.type&&t.entity){h=`${o[t.entity.split(".",1)[0]]||o._domain_not_found}-entity`}else h=t.type||s;if(void 0===h)throw new Error("No type specified");const u=`hui-${h}-${e}`;if(n&&h in n)return n[h](),((e,t)=>{if(customElements.get(e))return r(e,t);const i=document.createElement(e);return customElements.whenDefined(e).then((()=>{try{customElements.upgrade(i),i.setConfig(t)}catch(e){(0,a.B)(i,"ll-rebuild")}})),i})(u,t);if(i&&i.has(h))return r(u,t);throw new Error(`Unknown type encountered: ${h}`)},u=async(e,t,i,a)=>{const n=l(e);if(n){const e=customElements.get(n);if(e)return e;if(!n.includes("-"))throw new Error(`Custom element not found: ${n}`);return new Promise(((e,t)=>{setTimeout((()=>t(new Error(`Custom element not found: ${n}`))),2e3),customElements.whenDefined(n).then((()=>e(customElements.get(n))))}))}const o=`hui-${e}-${t}`,s=customElements.get(o);if(i&&i.has(e))return s;if(a&&e in a)return s||a[e]().then((()=>customElements.get(o)));throw new Error(`Unknown type: ${e}`)}},37482:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{T:()=>y,m:()=>m});var n=i(70808),o=i(12141),s=i(31479),r=i(23266),d=i(65716),l=i(99931),c=i(83896),h=i(45340),u=(i(56427),i(23658),i(7778)),p=e([n,o,s,r,d,l,c,h]);[n,o,s,r,d,l,c,h]=p.then?(await p)():p;const v=new Set(["media-player-entity","scene-entity","script-entity","sensor-entity","simple-entity","toggle-entity","button","call-service"]),f={"button-entity":()=>i.e(85611).then(i.bind(i,85611)),"climate-entity":()=>i.e(35642).then(i.bind(i,35642)),"cover-entity":()=>i.e(16755).then(i.bind(i,16755)),"date-entity":()=>Promise.all([i.e(46992),i.e(42850),i.e(17489)]).then(i.bind(i,17489)),"datetime-entity":()=>Promise.all([i.e(46992),i.e(42850),i.e(63436),i.e(99608),i.e(65666),i.e(49412),i.e(3762),i.e(79344),i.e(32511),i.e(98208)]).then(i.bind(i,98208)),"event-entity":()=>Promise.resolve().then(i.bind(i,70808)),"group-entity":()=>i.e(81534).then(i.bind(i,81534)),"input-button-entity":()=>i.e(83968).then(i.bind(i,83968)),"humidifier-entity":()=>i.e(41102).then(i.bind(i,41102)),"input-datetime-entity":()=>Promise.all([i.e(46992),i.e(42850),i.e(63436),i.e(99608),i.e(65666),i.e(49412),i.e(3762),i.e(22350)]).then(i.bind(i,22350)),"input-number-entity":()=>Promise.all([i.e(46992),i.e(42850),i.e(12335)]).then(i.bind(i,33906)),"input-select-entity":()=>Promise.all([i.e(46992),i.e(63436),i.e(99608),i.e(65666),i.e(49412),i.e(3762),i.e(25675)]).then(i.bind(i,25675)),"input-text-entity":()=>Promise.all([i.e(46992),i.e(42850),i.e(73943)]).then(i.bind(i,73943)),"lock-entity":()=>i.e(61596).then(i.bind(i,61596)),"number-entity":()=>Promise.all([i.e(46992),i.e(42850),i.e(66778)]).then(i.bind(i,66778)),"select-entity":()=>Promise.all([i.e(46992),i.e(63436),i.e(99608),i.e(65666),i.e(49412),i.e(3762),i.e(35994)]).then(i.bind(i,35994)),"text-entity":()=>Promise.all([i.e(46992),i.e(42850),i.e(97600)]).then(i.bind(i,97600)),"time-entity":()=>Promise.all([i.e(46992),i.e(42850),i.e(63436),i.e(99608),i.e(65666),i.e(49412),i.e(3762),i.e(13678),i.e(35246)]).then(i.bind(i,35246)),"timer-entity":()=>i.e(31203).then(i.bind(i,31203)),conditional:()=>i.e(97749).then(i.bind(i,97749)),"weather-entity":()=>i.e(71850).then(i.bind(i,71850)),divider:()=>i.e(41930).then(i.bind(i,41930)),section:()=>i.e(94832).then(i.bind(i,94832)),weblink:()=>i.e(44689).then(i.bind(i,44689)),cast:()=>i.e(25840).then(i.bind(i,25840)),buttons:()=>Promise.all([i.e(42109),i.e(82137)]).then(i.bind(i,82137)),attribute:()=>Promise.resolve().then(i.bind(i,45340)),text:()=>i.e(63459).then(i.bind(i,63459))},g={_domain_not_found:"simple",alert:"toggle",automation:"toggle",button:"button",climate:"climate",cover:"cover",date:"date",datetime:"datetime",event:"event",fan:"toggle",group:"group",humidifier:"humidifier",input_boolean:"toggle",input_button:"input-button",input_number:"input-number",input_select:"input-select",input_text:"input-text",light:"toggle",lock:"lock",media_player:"media-player",number:"number",remote:"toggle",scene:"scene",script:"script",select:"select",sensor:"sensor",siren:"toggle",switch:"toggle",text:"text",time:"time",timer:"timer",vacuum:"toggle",water_heater:"climate",input_datetime:"input-datetime",weather:"weather"},m=e=>(0,u.Tw)("row",e,v,f,g,void 0),y=e=>(0,u.ED)(e,"row",v,f);a()}catch(e){a(e)}}))},96491:(e,t,i)=>{i.d(t,{$:()=>r});var a=i(15327),n=i(26765),o=i(47512),s=i(4398);const r=async(e,t,i,r)=>{var d,l;t.loadFragmentTranslation("lovelace");const c=await(0,a.j2)(t),h=c.filter((e=>"storage"===e.mode)),u=null===(d=t.panels.lovelace)||void 0===d||null===(d=d.config)||void 0===d?void 0:d.mode;if("storage"!==u&&!h.length)return void(0,o.f)(e,{entities:i,yaml:!0,cardTitle:r});let p,v=null;if("storage"===u)try{p=await(0,a.Q2)(t.connection,null,!1)}catch(e){}if(!p&&h.length)for(const e of h)try{p=await(0,a.Q2)(t.connection,e.url_path,!1),v=e.url_path;break}catch(e){}p?h.length||null!==(l=p.views)&&void 0!==l&&l.length?h.length||1!==p.views.length?(0,s.i)(e,{lovelaceConfig:p,urlPath:v,allowDashboardChange:!0,actionLabel:t.localize("ui.common.next"),dashboards:c,viewSelectedCallback:(n,s,d)=>{(0,o.f)(e,{cardTitle:r,lovelaceConfig:s,saveConfig:async e=>{try{await(0,a.Oh)(t,n,e)}catch(e){alert(t.localize("ui.panel.lovelace.add_entities.saving_failed"))}},path:[d],entities:i})}}):(0,o.f)(e,{cardTitle:r,lovelaceConfig:p,saveConfig:async e=>{try{await(0,a.Oh)(t,null,e)}catch(e){alert(t.localize("ui.panel.lovelace.add_entities.saving_failed"))}},path:[0],entities:i}):(0,n.Ys)(e,{text:"You don't have any Lovelace views, first create a view in Lovelace."}):c.length>h.length?(0,o.f)(e,{entities:i,yaml:!0,cardTitle:r}):(0,n.Ys)(e,{text:"You don't seem to be in control of any dashboard, please take control first."})}},47512:(e,t,i)=>{i.d(t,{f:()=>o});var a=i(47181);const n=()=>Promise.all([i.e(77426),i.e(52506),i.e(96549),i.e(52242),i.e(14845),i.e(75329)]).then(i.bind(i,9444)),o=(e,t)=>{(0,a.B)(e,"show-dialog",{dialogTag:"hui-dialog-suggest-card",dialogImport:n,dialogParams:t})}},4398:(e,t,i)=>{i.d(t,{i:()=>n});var a=i(47181);const n=(e,t)=>{(0,a.B)(e,"show-dialog",{dialogTag:"hui-dialog-select-view",dialogImport:()=>Promise.all([i.e(46992),i.e(28597),i.e(49412),i.e(3762),i.e(70632),i.e(20855)]).then(i.bind(i,20855)),dialogParams:t})}},11254:(e,t,i)=>{i.d(t,{RU:()=>n,X1:()=>a,u4:()=>o,zC:()=>s});const a=e=>`https://brands.home-assistant.io/${e.brand?"brands/":""}${e.useFallback?"_/":""}${e.domain}/${e.darkOptimized?"dark_":""}${e.type}.png`,n=e=>`https://brands.home-assistant.io/hardware/${e.category}/${e.darkOptimized?"dark_":""}${e.manufacturer}${e.model?`_${e.model}`:""}.png`,o=e=>e.split("/")[4],s=e=>e.startsWith("https://brands.home-assistant.io/")},27322:(e,t,i)=>{i.d(t,{R:()=>a});const a=(e,t)=>`https://www.iobroker.net/#${e.language&&e.language.split("-")[0]||"en"}/adapters/adapterref/iobroker.lovelace/README.md`},25936:(e,t,i)=>{i.d(t,{N:()=>a});const a=(e,t="")=>{const i=document.createElement("a");i.target="_blank",i.href=e,i.download=t,document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click")),document.body.removeChild(i)}}};
//# sourceMappingURL=85720-tzsCjVLjIRk.js.map