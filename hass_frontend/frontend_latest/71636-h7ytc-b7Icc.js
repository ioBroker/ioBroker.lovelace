"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[71636],{76680:(e,i,t)=>{function a(e){return void 0===e||Array.isArray(e)?e:[e]}t.d(i,{r:()=>a})},55642:(e,i,t)=>{t.d(i,{h:()=>s});var a=t(68144),n=t(57835);const s=(0,n.XM)(class extends n.Xe{constructor(e){if(super(e),this._element=void 0,e.type!==n.pX.CHILD)throw new Error("dynamicElementDirective can only be used in content bindings")}update(e,[i,t]){return this._element&&this._element.localName===i?(t&&Object.entries(t).forEach((([e,i])=>{this._element[e]=i})),a.Jb):this.render(i,t)}render(e,i){return this._element=document.createElement(e),i&&Object.entries(i).forEach((([e,i])=>{this._element[e]=i})),this._element}})},32594:(e,i,t)=>{t.d(i,{U:()=>a});const a=e=>e.stopPropagation()},61878:(e,i,t)=>{var a=t(17463),n=t(68144),s=t(79932);(0,a.Z)([(0,s.Mo)("ha-dialog-header")],(function(e,i){return{F:class extends i{constructor(...i){super(...i),e(this)}},d:[{kind:"method",key:"render",value:function(){return n.dy` <header class="header"> <div class="header-bar"> <section class="header-navigation-icon"> <slot name="navigationIcon"></slot> </section> <section class="header-title"> <slot name="title"></slot> </section> <section class="header-action-items"> <slot name="actionItems"></slot> </section> </div> <slot></slot> </header> `}},{kind:"get",static:!0,key:"styles",value:function(){return[n.iv`:host{display:block}:host([show-border]){border-bottom:1px solid var(--mdc-dialog-scroll-divider-color,rgba(0,0,0,.12))}.header-bar{display:flex;flex-direction:row;align-items:flex-start;padding:4px;box-sizing:border-box}.header-title{flex:1;font-size:22px;line-height:28px;font-weight:400;padding:10px 4px;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media all and (min-width:450px) and (min-height:500px){.header-bar{padding:12px}}.header-navigation-icon{flex:none;min-width:8px;height:100%;display:flex;flex-direction:row}.header-action-items{flex:none;min-width:8px;height:100%;display:flex;flex-direction:row}`]}}]}}),n.oi)},34821:(e,i,t)=>{t.d(i,{i:()=>u});var a=t(17463),n=t(34541),s=t(47838),o=t(87762),l=t(91632),r=t(68144),d=t(79932),c=t(74265);t(10983);const h=["button","ha-list-item"],u=(e,i)=>r.dy` <div class="header_title">${i}</div> <ha-icon-button .label="${e.localize("ui.dialogs.generic.close")}" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}" dialogAction="close" class="header_button"></ha-icon-button> `;(0,a.Z)([(0,d.Mo)("ha-dialog")],(function(e,i){class t extends i{constructor(...i){super(...i),e(this)}}return{F:t,d:[{kind:"field",key:c.gA,value:void 0},{kind:"method",key:"scrollToPos",value:function(e,i){var t;null===(t=this.contentElement)||void 0===t||t.scrollTo(e,i)}},{kind:"method",key:"renderHeading",value:function(){return r.dy`<slot name="heading"> ${(0,n.Z)((0,s.Z)(t.prototype),"renderHeading",this).call(this)} </slot>`}},{kind:"method",key:"firstUpdated",value:function(){var e;(0,n.Z)((0,s.Z)(t.prototype),"firstUpdated",this).call(this),this.suppressDefaultPressSelector=[this.suppressDefaultPressSelector,h].join(", "),this._updateScrolledAttribute(),null===(e=this.contentElement)||void 0===e||e.addEventListener("scroll",this._onScroll,{passive:!0})}},{kind:"method",key:"disconnectedCallback",value:function(){(0,n.Z)((0,s.Z)(t.prototype),"disconnectedCallback",this).call(this),this.contentElement.removeEventListener("scroll",this._onScroll)}},{kind:"field",key:"_onScroll",value(){return()=>{this._updateScrolledAttribute()}}},{kind:"method",key:"_updateScrolledAttribute",value:function(){this.contentElement&&this.toggleAttribute("scrolled",0!==this.contentElement.scrollTop)}},{kind:"field",static:!0,key:"styles",value:()=>[l.W,r.iv`:host([scrolled]) ::slotted(ha-dialog-header){border-bottom:1px solid var(--mdc-dialog-scroll-divider-color,rgba(0,0,0,.12))}.mdc-dialog{--mdc-dialog-scroll-divider-color:var(
          --dialog-scroll-divider-color,
          var(--divider-color)
        );z-index:var(--dialog-z-index,8);-webkit-backdrop-filter:var(--dialog-backdrop-filter, none);backdrop-filter:var(--dialog-backdrop-filter, none);--mdc-dialog-box-shadow:var(--dialog-box-shadow, none);--mdc-typography-headline6-font-weight:400;--mdc-typography-headline6-font-size:1.574rem}.mdc-dialog__actions{justify-content:var(--justify-action-buttons,flex-end);padding-bottom:max(env(safe-area-inset-bottom),24px)}.mdc-dialog__actions span:nth-child(1){flex:var(--secondary-action-button-flex,unset)}.mdc-dialog__actions span:nth-child(2){flex:var(--primary-action-button-flex,unset)}.mdc-dialog__container{align-items:var(--vertical-align-dialog,center)}.mdc-dialog__title{padding:24px 24px 0 24px}.mdc-dialog__actions{padding:12px 24px 12px 24px}.mdc-dialog__title::before{display:block;height:0px}.mdc-dialog .mdc-dialog__content{position:var(--dialog-content-position,relative);padding:var(--dialog-content-padding,24px)}:host([hideactions]) .mdc-dialog .mdc-dialog__content{padding-bottom:max(var(--dialog-content-padding,24px),env(safe-area-inset-bottom))}.mdc-dialog .mdc-dialog__surface{position:var(--dialog-surface-position,relative);top:var(--dialog-surface-top);margin-top:var(--dialog-surface-margin-top);min-height:var(--mdc-dialog-min-height,auto);border-radius:var(--ha-dialog-border-radius,28px)}:host([flexContent]) .mdc-dialog .mdc-dialog__content{display:flex;flex-direction:column}.header_title{margin-right:32px;margin-inline-end:32px;margin-inline-start:initial;direction:var(--direction)}.header_button{position:absolute;right:16px;top:14px;text-decoration:none;color:inherit;inset-inline-start:initial;inset-inline-end:16px;direction:var(--direction)}.dialog-actions{inset-inline-start:initial!important;inset-inline-end:0px!important;direction:var(--direction)}`]}]}}),o.M)},68331:(e,i,t)=>{var a=t(17463),n=t(34541),s=t(47838),o=t(68144),l=t(79932),r=t(55642),d=t(47181);t(9381),t(25727);const c={boolean:()=>Promise.all([t.e(41985),t.e(65978)]).then(t.bind(t,65978)),constant:()=>t.e(60409).then(t.bind(t,60409)),float:()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(43890)]).then(t.bind(t,96272)),grid:()=>t.e(56641).then(t.bind(t,56641)),expandable:()=>t.e(92670).then(t.bind(t,92670)),integer:()=>Promise.all([t.e(2185),t.e(39975),t.e(97215),t.e(6971),t.e(38406),t.e(70588),t.e(39715)]).then(t.bind(t,39715)),multi_select:()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(63436),t.e(99608),t.e(65666),t.e(41985),t.e(32140)]).then(t.bind(t,86823)),positive_time_period_dict:()=>Promise.all([t.e(46992),t.e(63436),t.e(99608),t.e(65666),t.e(75943),t.e(55105)]).then(t.bind(t,91267)),select:()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(63436),t.e(99608),t.e(65666),t.e(75943),t.e(2185),t.e(7270),t.e(41985),t.e(70632),t.e(37732),t.e(59221)]).then(t.bind(t,59221)),string:()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(72521)]).then(t.bind(t,6782))},h=(e,i)=>e?i.name?e[i.name]:e:null;(0,a.Z)([(0,l.Mo)("ha-form")],(function(e,i){class t extends i{constructor(...i){super(...i),e(this)}}return{F:t,d:[{kind:"field",decorators:[(0,l.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,l.Cb)({attribute:!1})],key:"data",value:void 0},{kind:"field",decorators:[(0,l.Cb)({attribute:!1})],key:"schema",value:void 0},{kind:"field",decorators:[(0,l.Cb)()],key:"error",value:void 0},{kind:"field",decorators:[(0,l.Cb)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,l.Cb)()],key:"computeError",value:void 0},{kind:"field",decorators:[(0,l.Cb)()],key:"computeLabel",value:void 0},{kind:"field",decorators:[(0,l.Cb)()],key:"computeHelper",value:void 0},{kind:"field",decorators:[(0,l.Cb)()],key:"localizeValue",value:void 0},{kind:"method",key:"focus",value:async function(){await this.updateComplete;const e=this.renderRoot.querySelector(".root");if(e)for(const i of e.children)if("HA-ALERT"!==i.tagName){i instanceof o.fl&&await i.updateComplete,i.focus();break}}},{kind:"method",key:"willUpdate",value:function(e){e.has("schema")&&this.schema&&this.schema.forEach((e=>{var i;"selector"in e||null===(i=c[e.type])||void 0===i||i.call(c)}))}},{kind:"method",key:"render",value:function(){return o.dy` <div class="root" part="root"> ${this.error&&this.error.base?o.dy` <ha-alert alert-type="error"> ${this._computeError(this.error.base,this.schema)} </ha-alert> `:""} ${this.schema.map((e=>{const i=((e,i)=>e&&i.name?e[i.name]:null)(this.error,e);return o.dy` ${i?o.dy` <ha-alert own-margin alert-type="error"> ${this._computeError(i,e)} </ha-alert> `:""} ${"selector"in e?o.dy`<ha-selector .schema="${e}" .hass="${this.hass}" .name="${e.name}" .selector="${e.selector}" .value="${h(this.data,e)}" .label="${this._computeLabel(e,this.data)}" .disabled="${e.disabled||this.disabled||!1}" .placeholder="${e.required?"":e.default}" .helper="${this._computeHelper(e)}" .localizeValue="${this.localizeValue}" .required="${e.required||!1}" .context="${this._generateContext(e)}"></ha-selector>`:(0,r.h)(`ha-form-${e.type}`,{schema:e,data:h(this.data,e),label:this._computeLabel(e,this.data),helper:this._computeHelper(e),disabled:this.disabled||e.disabled||!1,hass:this.hass,computeLabel:this.computeLabel,computeHelper:this.computeHelper,context:this._generateContext(e)})} `}))} </div> `}},{kind:"method",key:"_generateContext",value:function(e){if(!e.context)return;const i={};for(const[t,a]of Object.entries(e.context))i[t]=this.data[a];return i}},{kind:"method",key:"createRenderRoot",value:function(){const e=(0,n.Z)((0,s.Z)(t.prototype),"createRenderRoot",this).call(this);return e.addEventListener("value-changed",(e=>{e.stopPropagation();const i=e.target.schema,t=i.name?{[i.name]:e.detail.value}:e.detail.value;(0,d.B)(this,"value-changed",{value:{...this.data,...t}})})),e}},{kind:"method",key:"_computeLabel",value:function(e,i){return this.computeLabel?this.computeLabel(e,i):e?e.name:""}},{kind:"method",key:"_computeHelper",value:function(e){return this.computeHelper?this.computeHelper(e):""}},{kind:"method",key:"_computeError",value:function(e,i){return this.computeError?this.computeError(e,i):e}},{kind:"get",static:!0,key:"styles",value:function(){return o.iv`.root>*{display:block}.root>:not([own-margin]):not(:last-child){margin-bottom:24px}ha-alert[own-margin]{margin-bottom:4px}`}}]}}),o.oi)},25727:(e,i,t)=>{var a=t(17463),n=t(68144),s=t(79932),o=t(14516),l=t(55642),r=t(33855);const d={action:()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(63436),t.e(99608),t.e(65666),t.e(75943),t.e(2185),t.e(7270),t.e(41985),t.e(53430),t.e(77426),t.e(66074),t.e(37693),t.e(49706),t.e(74535),t.e(47772),t.e(48763),t.e(16731),t.e(44258),t.e(3233),t.e(83166)]).then(t.bind(t,73975)),addon:()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(2185),t.e(7270),t.e(29946),t.e(17165)]).then(t.bind(t,17165)),area:()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(2185),t.e(7270),t.e(78543),t.e(68610)]).then(t.bind(t,68610)),attribute:()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(2185),t.e(7270),t.e(53430),t.e(87688),t.e(29461)]).then(t.bind(t,29461)),assist_pipeline:()=>Promise.all([t.e(46992),t.e(63436),t.e(99608),t.e(65666),t.e(75943),t.e(64721)]).then(t.bind(t,17238)),boolean:()=>t.e(71927).then(t.bind(t,71927)),color_rgb:()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(62361)]).then(t.bind(t,23512)),config_entry:()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(2185),t.e(7270),t.e(75970),t.e(99244)]).then(t.bind(t,99244)),conversation_agent:()=>Promise.all([t.e(46992),t.e(63436),t.e(99608),t.e(65666),t.e(75943),t.e(10272)]).then(t.bind(t,67954)),constant:()=>t.e(4276).then(t.bind(t,4276)),date:()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(53430),t.e(94988)]).then(t.bind(t,78191)),datetime:()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(63436),t.e(99608),t.e(65666),t.e(75943),t.e(53430),t.e(9039),t.e(40341)]).then(t.bind(t,9039)),device:()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(2185),t.e(7270),t.e(78543),t.e(68183)]).then(t.bind(t,68183)),duration:()=>Promise.all([t.e(46992),t.e(63436),t.e(99608),t.e(65666),t.e(75943),t.e(81516)]).then(t.bind(t,75054)),entity:()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(2185),t.e(7270),t.e(78543),t.e(49706),t.e(74535),t.e(47772),t.e(14556),t.e(77192)]).then(t.bind(t,1987)),statistic:()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(2185),t.e(7270),t.e(89735),t.e(49706),t.e(47772),t.e(13927),t.e(33663)]).then(t.bind(t,48570)),file:()=>Promise.all([t.e(31338),t.e(20549)]).then(t.bind(t,20549)),language:()=>Promise.all([t.e(46992),t.e(63436),t.e(99608),t.e(65666),t.e(75943),t.e(53430),t.e(16754)]).then(t.bind(t,20184)),navigation:()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(2185),t.e(7270),t.e(170),t.e(49261),t.e(89977)]).then(t.bind(t,64754)),number:()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(2185),t.e(39975),t.e(97215),t.e(6971),t.e(38406),t.e(70588),t.e(52226)]).then(t.bind(t,65353)),object:()=>Promise.all([t.e(77426),t.e(59204)]).then(t.bind(t,59204)),select:()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(63436),t.e(99608),t.e(65666),t.e(75943),t.e(2185),t.e(7270),t.e(41985),t.e(70632),t.e(37732),t.e(26272)]).then(t.bind(t,26272)),state:()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(2185),t.e(7270),t.e(53430),t.e(87887),t.e(49706),t.e(69950)]).then(t.bind(t,69950)),backup_location:()=>Promise.all([t.e(46992),t.e(63436),t.e(99608),t.e(65666),t.e(75943),t.e(70955)]).then(t.bind(t,38204)),stt:()=>Promise.all([t.e(46992),t.e(63436),t.e(99608),t.e(65666),t.e(75943),t.e(69311)]).then(t.bind(t,53978)),target:()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(99608),t.e(2185),t.e(7270),t.e(78543),t.e(59069),t.e(332),t.e(49706),t.e(74535),t.e(47772),t.e(14556),t.e(63681),t.e(34871)]).then(t.bind(t,66711)),template:()=>t.e(56097).then(t.bind(t,56097)),text:()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(5812)]).then(t.bind(t,44117)),time:()=>Promise.all([t.e(46992),t.e(63436),t.e(99608),t.e(65666),t.e(75943),t.e(41319)]).then(t.bind(t,77646)),icon:()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(2185),t.e(7270),t.e(82415),t.e(49706),t.e(47772),t.e(53862)]).then(t.bind(t,53862)),media:()=>Promise.all([t.e(44258),t.e(62720)]).then(t.bind(t,44258)),theme:()=>Promise.all([t.e(46992),t.e(63436),t.e(99608),t.e(65666),t.e(75943),t.e(94781)]).then(t.bind(t,93476)),tts:()=>Promise.all([t.e(46992),t.e(63436),t.e(99608),t.e(65666),t.e(75943),t.e(39633)]).then(t.bind(t,34651)),tts_voice:()=>Promise.all([t.e(46992),t.e(63436),t.e(99608),t.e(65666),t.e(75943),t.e(7286)]).then(t.bind(t,57757)),location:()=>Promise.all([t.e(48456),t.e(22821)]).then(t.bind(t,22821)),color_temp:()=>Promise.all([t.e(2185),t.e(39975),t.e(97215),t.e(6971),t.e(38406),t.e(70588),t.e(63958)]).then(t.bind(t,63958)),ui_action:()=>Promise.all([t.e(46992),t.e(31338),t.e(42977),t.e(2185),t.e(7270),t.e(41985),t.e(77426),t.e(45311),t.e(48763),t.e(49261),t.e(45767)]).then(t.bind(t,13239)),ui_color:()=>Promise.all([t.e(46992),t.e(63436),t.e(99608),t.e(65666),t.e(75943),t.e(27746)]).then(t.bind(t,67165))},c=new Set(["ui-action","ui-color"]);(0,a.Z)([(0,s.Mo)("ha-selector")],(function(e,i){return{F:class extends i{constructor(...i){super(...i),e(this)}},d:[{kind:"field",decorators:[(0,s.Cb)()],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"name",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"selector",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"value",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"label",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"localizeValue",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"placeholder",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,s.Cb)({type:Boolean})],key:"required",value:()=>!0},{kind:"field",decorators:[(0,s.Cb)()],key:"context",value:void 0},{kind:"method",key:"focus",value:async function(){var e;await this.updateComplete,null===(e=this.renderRoot.querySelector("#selector"))||void 0===e||e.focus()}},{kind:"get",key:"_type",value:function(){const e=Object.keys(this.selector)[0];return c.has(e)?e.replace("-","_"):e}},{kind:"method",key:"willUpdate",value:function(e){var i;e.has("selector")&&this.selector&&(null===(i=d[this._type])||void 0===i||i.call(d))}},{kind:"field",key:"_handleLegacySelector",value(){return(0,o.Z)((e=>{if("entity"in e)return(0,r.CM)(e);if("device"in e)return(0,r.c9)(e);const i=Object.keys(this.selector)[0];return c.has(i)?{[i.replace("-","_")]:e[i]}:e}))}},{kind:"method",key:"render",value:function(){return n.dy` ${(0,l.h)(`ha-selector-${this._type}`,{hass:this.hass,name:this.name,selector:this._handleLegacySelector(this.selector),value:this.value,label:this.label,placeholder:this.placeholder,disabled:this.disabled,required:this.required,helper:this.helper,context:this.context,localizeValue:this.localizeValue,id:"selector"})} `}}]}}),n.oi)},10174:(e,i,t)=>{var a=t(17463),n=t(34541),s=t(47838),o=t(68144),l=t(79932),r=t(83448),d=t(47501),c=t(22311),h=t(65253);(0,a.Z)([(0,l.Mo)("ha-user-badge")],(function(e,i){class t extends i{constructor(...i){super(...i),e(this)}}return{F:t,d:[{kind:"field",decorators:[(0,l.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,l.Cb)({attribute:!1})],key:"user",value:void 0},{kind:"field",decorators:[(0,l.SB)()],key:"_personPicture",value:void 0},{kind:"field",key:"_personEntityId",value:void 0},{kind:"method",key:"willUpdate",value:function(e){if((0,n.Z)((0,s.Z)(t.prototype),"willUpdate",this).call(this,e),e.has("user"))return void this._getPersonPicture();const i=e.get("hass");if(this._personEntityId&&i&&this.hass.states[this._personEntityId]!==i.states[this._personEntityId]){const e=this.hass.states[this._personEntityId];e?this._personPicture=e.attributes.entity_picture:this._getPersonPicture()}else!this._personEntityId&&i&&this._getPersonPicture()}},{kind:"method",key:"render",value:function(){if(!this.hass||!this.user)return o.Ld;const e=this._personPicture;if(e)return o.dy`<div style="${(0,d.V)({backgroundImage:`url(${e})`})}" class="picture"></div>`;const i=(0,h.fm)(this.user.name);return o.dy`<div class="initials ${(0,r.$)({long:i.length>2})}"> ${i} </div>`}},{kind:"method",key:"_getPersonPicture",value:function(){if(this._personEntityId=void 0,this._personPicture=void 0,this.hass&&this.user)for(const e of Object.values(this.hass.states))if(e.attributes.user_id===this.user.id&&"person"===(0,c.N)(e)){this._personEntityId=e.entity_id,this._personPicture=e.attributes.entity_picture;break}}},{kind:"get",static:!0,key:"styles",value:function(){return o.iv`:host{display:contents}.picture{width:40px;height:40px;background-size:cover;border-radius:50%}.initials{display:inline-block;box-sizing:border-box;width:40px;line-height:40px;border-radius:50%;text-align:center;background-color:var(--light-primary-color);text-decoration:none;color:var(--text-light-primary-color,var(--primary-text-color));overflow:hidden}.initials.long{font-size:80%}`}}]}}),o.oi)},33855:(e,i,t)=>{t.d(i,{CM:()=>v,aV:()=>r,c9:()=>m,lE:()=>h,lV:()=>u,xO:()=>l});var a=t(76680),n=t(22311),s=t(40095),o=t(57292);const l=(e,i,t,a,n,s)=>{const o=[],l=[];return Object.values(t).forEach((t=>{t.area_id===i&&d(e,Object.values(a),t,n,s)&&l.push(t.id)})),Object.values(a).forEach((t=>{t.area_id===i&&c(e.states[t.entity_id],n,s)&&o.push(t.entity_id)})),{devices:l,entities:o}},r=(e,i,t,a,n)=>{const s=[];return Object.values(t).forEach((t=>{t.device_id===i&&c(e.states[t.entity_id],a,n)&&s.push(t.entity_id)})),{entities:s}},d=(e,i,t,n,s)=>{var l,r;const d=s?(0,o.HP)(s,i):void 0;if(null!==(l=n.target)&&void 0!==l&&l.device&&!(0,a.r)(n.target.device).some((e=>h(e,t,d))))return!1;if(null!==(r=n.target)&&void 0!==r&&r.entity){return i.filter((e=>e.device_id===t.id)).some((i=>{const t=e.states[i.entity_id];return c(t,n,s)}))}return!0},c=(e,i,t)=>{var n;return null===(n=i.target)||void 0===n||!n.entity||(0,a.r)(i.target.entity).some((i=>u(i,e,t)))},h=(e,i,t)=>{const{manufacturer:a,model:n,integration:s}=e;if(a&&i.manufacturer!==a)return!1;if(n&&i.model!==n)return!1;var o;if(s&&t&&(null==t||null===(o=t[i.id])||void 0===o||!o.includes(s)))return!1;return!0},u=(e,i,t)=>{var o;const{domain:l,device_class:r,supported_features:d,integration:c}=e;if(l){const e=(0,n.N)(i);if(Array.isArray(l)?!l.includes(e):e!==l)return!1}if(r){const e=i.attributes.device_class;if(e&&Array.isArray(r)?!r.includes(e):e!==r)return!1}return!(d&&!(0,a.r)(d).some((e=>(0,s.e)(i,e))))&&(!c||(null==t||null===(o=t[i.entity_id])||void 0===o?void 0:o.domain)===c)},v=e=>{if(!e.entity)return{entity:null};if("filter"in e.entity)return e;const{domain:i,integration:t,device_class:a,...n}=e.entity;return i||t||a?{entity:{...n,filter:{domain:i,integration:t,device_class:a}}}:{entity:n}},m=e=>{if(!e.device)return{device:null};if("filter"in e.device)return e;const{integration:i,manufacturer:t,model:a,...n}=e.device;return i||t||a?{device:{...n,filter:{integration:i,manufacturer:t,model:a}}}:{device:n}}},65253:(e,i,t)=>{t.d(i,{CE:()=>n,FH:()=>m,Nq:()=>l,Pb:()=>a,fm:()=>d,h8:()=>r,r4:()=>o,uh:()=>s});const a="system-admin",n="system-users",s=async e=>e.callWS({type:"config/auth/list"}),o=async(e,i,t,a)=>e.callWS({type:"config/auth/create",name:i,group_ids:t,local_only:a}),l=async(e,i,t)=>e.callWS({...t,type:"config/auth/update",user_id:i}),r=async(e,i)=>e.callWS({type:"config/auth/delete",user_id:i}),d=e=>e?e.trim().split(" ").slice(0,3).map((e=>e.substring(0,1))).join(""):"?",c=32143==t.j?"M12 2C6.47 2 2 6.5 2 12C2 17.5 6.5 22 12 22S22 17.5 22 12 17.5 2 12 2M12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4S20 7.58 20 12C20 16.42 16.42 20 12 20M8 14L7 8L10 10L12 7L14 10L17 8L16 14H8M8.56 16C8.22 16 8 15.78 8 15.44V15H16V15.44C16 15.78 15.78 16 15.44 16H8.56Z":null,h=32143==t.j?"M11,7H15V9H11V11H13A2,2 0 0,1 15,13V15A2,2 0 0,1 13,17H9V15H13V13H11A2,2 0 0,1 9,11V9A2,2 0 0,1 11,7M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4Z":null,u=32143==t.j?"M12 20C7.6 20 4 16.4 4 12S7.6 4 12 4 20 7.6 20 12 16.4 20 12 20M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M11 14H13V17H16V12H18L12 7L6 12H8V17H11V14":null,v=32143==t.j?"M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z":null,m=(e,i,t)=>{const a=[],n=i=>e.localize(`ui.panel.config.users.${i}`);return i.is_owner&&a.push([c,n("is_owner")]),t&&i.system_generated&&a.push([h,n("is_system")]),i.local_only&&a.push([u,n("is_local")]),i.is_active||a.push([v,n("is_not_active")]),a}},1528:(e,i,t)=>{var a=t(17463),n=t(68144),s=t(79932),o=t(18848),l=t(47181),r=(t(74535),t(10983),t(70651)),d=t(98116);(0,a.Z)([(0,s.Mo)("hui-entity-editor")],(function(e,i){return{F:class extends i{constructor(...i){super(...i),e(this)}},d:[{kind:"field",decorators:[(0,s.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.Cb)({attribute:!1})],key:"entities",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"entityFilter",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"label",value:void 0},{kind:"field",key:"_entityKeys",value:()=>new WeakMap},{kind:"field",key:"_sortable",value:void 0},{kind:"method",key:"disconnectedCallback",value:function(){this._destroySortable()}},{kind:"method",key:"_getKey",value:function(e){return this._entityKeys.has(e)||this._entityKeys.set(e,Math.random().toString()),this._entityKeys.get(e)}},{kind:"method",key:"render",value:function(){return this.entities?n.dy` <h3> ${this.label||this.hass.localize("ui.panel.lovelace.editor.card.generic.entities")+" ("+this.hass.localize("ui.panel.lovelace.editor.card.config.required")+")"} </h3> <div class="entities"> ${(0,o.r)(this.entities,(e=>this._getKey(e)),((e,i)=>n.dy` <div class="entity" data-entity-id="${e.entity}"> <div class="handle"> <ha-svg-icon .path="${"M7,19V17H9V19H7M11,19V17H13V19H11M15,19V17H17V19H15M7,15V13H9V15H7M11,15V13H13V15H11M15,15V13H17V15H15M7,11V9H9V11H7M11,11V9H13V11H11M15,11V9H17V11H15M7,7V5H9V7H7M11,7V5H13V7H11M15,7V5H17V7H15Z"}"></ha-svg-icon> </div> <ha-entity-picker .hass="${this.hass}" .value="${e.entity}" .index="${i}" .entityFilter="${this.entityFilter}" @value-changed="${this._valueChanged}" allow-custom-entity></ha-entity-picker> </div> `))} </div> <ha-entity-picker class="add-entity" .hass="${this.hass}" .entityFilter="${this.entityFilter}" @value-changed="${this._addEntity}"></ha-entity-picker> `:n.Ld}},{kind:"method",key:"firstUpdated",value:function(){this._createSortable()}},{kind:"method",key:"_createSortable",value:async function(){const e=await(0,d.F)();this._sortable=new e(this.shadowRoot.querySelector(".entities"),{animation:150,fallbackClass:"sortable-fallback",handle:".handle",dataIdAttr:"data-entity-id",onChoose:e=>{e.item.placeholder=document.createComment("sort-placeholder"),e.item.after(e.item.placeholder)},onEnd:e=>{e.item.placeholder&&(e.item.placeholder.replaceWith(e.item),delete e.item.placeholder),this._entityMoved(e)}})}},{kind:"method",key:"_destroySortable",value:function(){var e;null===(e=this._sortable)||void 0===e||e.destroy(),this._sortable=void 0}},{kind:"method",key:"_addEntity",value:async function(e){const i=e.detail.value;if(""===i)return;const t=this.entities.concat({entity:i});e.target.value="",(0,l.B)(this,"entities-changed",{entities:t})}},{kind:"method",key:"_entityMoved",value:function(e){if(e.oldIndex===e.newIndex)return;const i=this.entities.concat();i.splice(e.newIndex,0,i.splice(e.oldIndex,1)[0]),(0,l.B)(this,"entities-changed",{entities:i})}},{kind:"method",key:"_valueChanged",value:function(e){const i=e.detail.value,t=e.target.index,a=this.entities.concat();""===i||void 0===i?a.splice(t,1):a[t]={...a[t],entity:i},(0,l.B)(this,"entities-changed",{entities:a})}},{kind:"get",static:!0,key:"styles",value:function(){return[r.Y,n.iv`ha-entity-picker{margin-top:8px}.add-entity{display:block;margin-left:31px;margin-inline-start:31px;margin-inline-end:initial;direction:var(--direction)}.entity{display:flex;align-items:center}.entity .handle{padding-right:8px;cursor:move;padding-inline-end:8px;padding-inline-start:initial;direction:var(--direction)}.entity .handle>*{pointer-events:none}.entity ha-entity-picker{flex-grow:1}`]}}]}}),n.oi)},52311:(e,i,t)=>{t.a(e,(async(e,i)=>{try{var a=t(87744),n=t(6315),s=t(4289),o=t(73953),l=e([n,o]);[n,o]=l.then?(await l)():l;class r extends HTMLElement{get _error(){var e;return"HUI-ERROR-CARD"===(null===(e=this._element)||void 0===e?void 0:e.tagName)}constructor(){super(),this._hass=void 0,this._element=void 0,this._config=void 0,this.addEventListener("ll-rebuild",(()=>{this._cleanup(),this._config&&(this.config=this._config)}))}set hass(e){this._hass&&this._hass.language===e.language||(this.style.direction=(0,a.HE)(e)?"rtl":"ltr"),this._hass=e,this._element&&(this._element.hass=e)}set error(e){this._createBadge((0,s.Fr)(`${e.type}: ${e.message}`))}set config(e){const i=this._config;this._config=e,e?this._element&&!this._error&&i&&e.type===i.type?this._element.setConfig(e):this._createBadge(e):this._cleanup()}_createBadge(e){this._cleanup(),this._element=(0,o.J)(e),this._hass&&(this._element.hass=this._hass),this.appendChild(this._element)}_cleanup(){this._element&&(this.removeChild(this._element),this._element=void 0)}}customElements.define("hui-badge-preview",r),i()}catch(e){i(e)}}))},14748:(e,i,t)=>{function a(e){return e.map((e=>"string"==typeof e?{entity:e}:e))}t.d(i,{Q:()=>a})},71636:(e,i,t)=>{t.a(e,(async(e,a)=>{try{t.r(i),t.d(i,{HuiDialogEditView:()=>x});var n=t(17463),s=(t(14271),t(91441),t(7191),t(68144)),o=t(79932),l=t(83448),r=t(47181),d=t(32594),c=t(83849),h=t(36639),u=(t(9381),t(31206),t(34821),t(61878),t(26765)),v=t(11654),m=(t(1528),t(13192)),p=t(54324),g=t(52311),y=t(14748),f=(t(56582),t(98157),e([g]));g=(f.then?(await f)():f)[0];const _="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",b="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",k="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z";let x=(0,n.Z)([(0,o.Mo)("hui-dialog-edit-view")],(function(e,i){return{F:class extends i{constructor(...i){super(...i),e(this)}},d:[{kind:"field",decorators:[(0,o.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"_params",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"_badges",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"_cards",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"_saving",value:()=>!1},{kind:"field",decorators:[(0,o.SB)()],key:"_curTab",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"_dirty",value:()=>!1},{kind:"field",decorators:[(0,o.SB)()],key:"_yamlMode",value:()=>!1},{kind:"field",decorators:[(0,o.IO)("ha-yaml-editor")],key:"_editor",value:void 0},{kind:"field",key:"_curTabIndex",value:()=>0},{kind:"get",key:"_type",value:function(){return this._config?this._config.panel?m.Jh:this._config.type||m.Zx:m.Zx}},{kind:"method",key:"updated",value:function(e){if(this._yamlMode&&e.has("_yamlMode")){var i;const e={...this._config,badges:this._badges};null===(i=this._editor)||void 0===i||i.setValue(e)}}},{kind:"method",key:"showDialog",value:function(e){if(this._params=e,void 0===this._params.viewIndex)this._config={},this._badges=[],this._cards=[],this._dirty=!1;else{const{cards:e,badges:i,...t}=this._params.lovelace.config.views[this._params.viewIndex];this._config=t,this._badges=i?(0,y.Q)(i):[],this._cards=e}}},{kind:"method",key:"closeDialog",value:function(){this._curTabIndex=0,this._params=void 0,this._config={},this._badges=[],this._yamlMode=!1,this._dirty=!1,(0,r.B)(this,"dialog-closed",{dialog:this.localName})}},{kind:"get",key:"_viewConfigTitle",value:function(){return this._config&&this._config.title?this.hass.localize("ui.panel.lovelace.editor.edit_view.header_name","name",this._config.title):this.hass.localize("ui.panel.lovelace.editor.edit_view.header")}},{kind:"method",key:"render",value:function(){var e;if(!this._params)return s.Ld;let i;if(this._yamlMode)i=s.dy` <ha-yaml-editor .hass="${this.hass}" dialogInitialFocus @value-changed="${this._viewYamlChanged}"></ha-yaml-editor> `;else switch(this._curTab){case"tab-settings":i=s.dy` <hui-view-editor .isNew="${void 0===this._params.viewIndex}" .hass="${this.hass}" .config="${this._config}" @view-config-changed="${this._viewConfigChanged}"></hui-view-editor> `;break;case"tab-badges":i=s.dy` ${null!==(e=this._badges)&&void 0!==e&&e.length?s.dy` ${m.cW.includes(this._type)?s.dy` <ha-alert alert-type="warning"> ${this.hass.localize("ui.panel.lovelace.editor.edit_badges.view_no_badges")} </ha-alert> `:""} <div class="preview-badges"> ${this._badges.map((e=>s.dy` <hui-badge-preview .hass="${this.hass}" .config="${e}"></hui-badge-preview> `))} </div> `:""} <hui-entity-editor .hass="${this.hass}" .entities="${this._badges}" @entities-changed="${this._badgesChanged}"></hui-entity-editor> `;break;case"tab-visibility":i=s.dy` <hui-view-visibility-editor .hass="${this.hass}" .config="${this._config}" @view-visibility-changed="${this._viewVisibilityChanged}"></hui-view-visibility-editor> `;break;case"tab-cards":i=s.dy` Cards `}return s.dy` <ha-dialog open scrimClickAction escapeKeyAction @closed="${this.closeDialog}" .heading="${this._viewConfigTitle}" class="${(0,l.$)({"yaml-mode":this._yamlMode})}"> <ha-dialog-header show-border slot="heading"> <ha-icon-button slot="navigationIcon" dialogAction="cancel" .label="${this.hass.localize("ui.common.close")}" .path="${b}"></ha-icon-button> <h2 slot="title">${this._viewConfigTitle}</h2> <ha-button-menu slot="actionItems" fixed corner="BOTTOM_END" menuCorner="END" @action="${this._handleAction}" @closed="${d.U}"> <ha-icon-button slot="trigger" .label="${this.hass.localize("ui.common.menu")}" .path="${k}"></ha-icon-button> <mwc-list-item graphic="icon"> ${this.hass.localize("ui.panel.lovelace.editor.edit_view.edit_ui")} ${this._yamlMode?"":s.dy`<ha-svg-icon class="selected_menu_item" slot="graphic" .path="${_}"></ha-svg-icon>`} </mwc-list-item> <mwc-list-item graphic="icon"> ${this.hass.localize("ui.panel.lovelace.editor.edit_view.edit_yaml")} ${this._yamlMode?s.dy`<ha-svg-icon class="selected_menu_item" slot="graphic" .path="${_}"></ha-svg-icon>`:""} </mwc-list-item> </ha-button-menu> ${this._yamlMode?"":s.dy`<paper-tabs scrollable hide-scroll-buttons .selected="${this._curTabIndex}" @selected-item-changed="${this._handleTabSelected}"> <paper-tab id="tab-settings" dialogInitialFocus>${this.hass.localize("ui.panel.lovelace.editor.edit_view.tab_settings")}</paper-tab> <paper-tab id="tab-badges">${this.hass.localize("ui.panel.lovelace.editor.edit_view.tab_badges")}</paper-tab> <paper-tab id="tab-visibility">${this.hass.localize("ui.panel.lovelace.editor.edit_view.tab_visibility")}</paper-tab> </paper-tabs>`} </ha-dialog-header> ${i} ${void 0!==this._params.viewIndex?s.dy` <mwc-button class="warning" slot="secondaryAction" @click="${this._deleteConfirm}"> ${this.hass.localize("ui.panel.lovelace.editor.edit_view.delete")} </mwc-button> `:""} <mwc-button @click="${this.closeDialog}" slot="primaryAction">${this.hass.localize("ui.common.cancel")}</mwc-button> <mwc-button slot="primaryAction" ?disabled="${!this._config||this._saving||!this._dirty}" @click="${this._save}"> ${this._saving?s.dy`<ha-circular-progress active size="small" title="Saving"></ha-circular-progress>`:""} ${this.hass.localize("ui.common.save")}</mwc-button> </ha-dialog> `}},{kind:"method",key:"_handleAction",value:async function(e){switch(e.stopPropagation(),e.preventDefault(),e.detail.index){case 0:this._yamlMode=!1;break;case 1:this._yamlMode=!0}}},{kind:"method",key:"_delete",value:async function(){if(this._params)try{await this._params.lovelace.saveConfig((0,p.PT)(this._params.lovelace.config,this._params.viewIndex)),this.closeDialog(),(0,c.c)(`/${window.location.pathname.split("/")[1]}`)}catch(e){(0,u.Ys)(this,{text:`Deleting failed: ${e.message}`})}}},{kind:"method",key:"_deleteConfirm",value:function(){var e,i,t,a;(0,u.g7)(this,{title:this.hass.localize("ui.panel.lovelace.views.confirm_delete"+(null!==(e=this._cards)&&void 0!==e&&e.length?"_existing_cards":"")),text:this.hass.localize(`ui.panel.lovelace.views.confirm_delete${null!==(i=this._cards)&&void 0!==i&&i.length?"_existing_cards":""}_text`,"name",(null===(t=this._config)||void 0===t?void 0:t.title)||"Unnamed view","number",(null===(a=this._cards)||void 0===a?void 0:a.length)||0),confirm:()=>this._delete()})}},{kind:"method",key:"_handleTabSelected",value:function(e){e.detail.value&&(this._curTab=e.detail.value.id)}},{kind:"method",key:"_save",value:async function(){if(!this._params||!this._config)return;if(!this._isConfigChanged())return void this.closeDialog();this._saving=!0;const e={...this._config,badges:this._badges,cards:this._cards},i=this._params.lovelace;try{await i.saveConfig(this._creatingView?(0,p.Uo)(i.config,e):(0,p.YI)(i.config,this._params.viewIndex,e)),this._params.saveCallback&&this._params.saveCallback(this._params.viewIndex||i.config.views.length,e),this.closeDialog()}catch(e){(0,u.Ys)(this,{text:`Saving failed: ${e.message}`})}finally{this._saving=!1}}},{kind:"method",key:"_viewConfigChanged",value:function(e){e.detail&&e.detail.config&&!(0,h.v)(this._config,e.detail.config)&&(this._config=e.detail.config,this._dirty=!0)}},{kind:"method",key:"_viewVisibilityChanged",value:function(e){e.detail.visible&&this._config&&(this._config.visible=e.detail.visible),this._dirty=!0}},{kind:"method",key:"_badgesChanged",value:function(e){this._badges&&this.hass&&e.detail&&e.detail.entities&&(this._badges=(0,y.Q)(e.detail.entities),this._dirty=!0)}},{kind:"method",key:"_viewYamlChanged",value:function(e){if(e.stopPropagation(),!e.detail.isValid)return;const{badges:i=[],...t}=e.detail.value;this._config=t,this._badges=i,this._dirty=!0}},{kind:"method",key:"_isConfigChanged",value:function(){return this._creatingView||JSON.stringify(this._config)!==JSON.stringify(this._params.lovelace.config.views[this._params.viewIndex])}},{kind:"get",key:"_creatingView",value:function(){return void 0===this._params.viewIndex}},{kind:"get",static:!0,key:"styles",value:function(){return[v.yu,s.iv`ha-dialog{--vertical-align-dialog:flex-start;--dialog-surface-margin-top:40px}@media all and (max-width:450px),all and (max-height:500px){ha-dialog{--dialog-surface-margin-top:0px}}ha-dialog.yaml-mode{--dialog-content-padding:0}h2{margin:0;font-size:inherit;font-weight:inherit}paper-tabs{--paper-tabs-selection-bar-color:var(--primary-color);color:var(--primary-text-color);text-transform:uppercase;padding:0 20px}mwc-button.warning{margin-right:auto}ha-circular-progress{display:none}ha-circular-progress[active]{display:block}.selected_menu_item{color:var(--primary-color)}.hidden{display:none}.error{color:var(--error-color);border-bottom:1px solid var(--error-color)}.preview-badges{display:flex;justify-content:center;margin:12px 16px;flex-wrap:wrap}@media all and (min-width:600px){ha-dialog{--mdc-dialog-min-width:600px}}`]}}]}}),s.oi);a()}catch(e){a(e)}}))},56582:(e,i,t)=>{var a=t(17463),n=t(68144),s=t(79932),o=t(14516),l=t(47181),r=t(83447),d=(t(68331),t(13192));(0,a.Z)([(0,s.Mo)("hui-view-editor")],(function(e,i){return{F:class extends i{constructor(...i){super(...i),e(this)}},d:[{kind:"field",decorators:[(0,s.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Boolean})],key:"isNew",value:void 0},{kind:"field",decorators:[(0,s.SB)()],key:"_config",value:void 0},{kind:"field",key:"_suggestedPath",value:()=>!1},{kind:"field",key:"_schema",value:()=>(0,o.Z)((e=>[{name:"title",selector:{text:{}}},{name:"icon",selector:{icon:{}}},{name:"path",selector:{text:{}}},{name:"theme",selector:{theme:{}}},{name:"type",selector:{select:{options:[d.Zx,d.rQ,d.Jh].map((i=>({value:i,label:e(`ui.panel.lovelace.editor.edit_view.types.${i}`)})))}}},{name:"subview",selector:{boolean:{}}}]))},{kind:"set",key:"config",value:function(e){this._config=e}},{kind:"get",key:"_type",value:function(){return this._config?this._config.panel?d.Jh:this._config.type||d.Zx:d.Zx}},{kind:"method",key:"render",value:function(){if(!this.hass)return n.Ld;const e=this._schema(this.hass.localize),i={...this._config,type:this._type};return n.dy` <ha-form .hass="${this.hass}" .data="${i}" .schema="${e}" .computeLabel="${this._computeLabel}" .computeHelper="${this._computeHelper}" @value-changed="${this._valueChanged}"></ha-form> `}},{kind:"method",key:"_valueChanged",value:function(e){const i=e.detail.value;"masonry"===i.type&&delete i.type,!this.isNew||this._suggestedPath||!i.title||this._config.path&&i.path!==(0,r.l)(this._config.title||"","-")||(i.path=(0,r.l)(i.title,"-")),(0,l.B)(this,"view-config-changed",{config:i})}},{kind:"field",key:"_computeLabel",value(){return e=>{switch(e.name){case"path":return this.hass.localize("ui.panel.lovelace.editor.card.generic.url");case"type":return this.hass.localize("ui.panel.lovelace.editor.edit_view.type");case"subview":return this.hass.localize("ui.panel.lovelace.editor.edit_view.subview");default:return this.hass.localize(`ui.panel.lovelace.editor.card.generic.${e.name}`)}}}},{kind:"field",key:"_computeHelper",value(){return e=>{if("subview"===e.name)return this.hass.localize("ui.panel.lovelace.editor.edit_view.subview_helper")}}}]}}),n.oi)},98157:(e,i,t)=>{var a=t(17463),n=t(34541),s=t(47838),o=(t(44577),t(68144)),l=t(79932),r=t(14516),d=t(47181),c=t(85415),h=(t(10174),t(65253));(0,a.Z)([(0,l.Mo)("hui-view-visibility-editor")],(function(e,i){class t extends i{constructor(...i){super(...i),e(this)}}return{F:t,d:[{kind:"set",key:"config",value:function(e){this._config=e,this._visible=void 0===this._config.visible||this._config.visible}},{kind:"field",decorators:[(0,l.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,l.Cb)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,l.SB)()],key:"_users",value:void 0},{kind:"field",decorators:[(0,l.SB)()],key:"_visible",value:void 0},{kind:"field",key:"_sortedUsers",value(){return(0,r.Z)((e=>e.sort(((e,i)=>(0,c.$)(e.name,i.name,this.hass.locale.language)))))}},{kind:"method",key:"firstUpdated",value:function(e){(0,n.Z)((0,s.Z)(t.prototype),"firstUpdated",this).call(this,e),(0,h.uh)(this.hass).then((e=>{this._users=e.filter((e=>!e.system_generated)),(0,d.B)(this,"iron-resize")}))}},{kind:"method",key:"render",value:function(){return this.hass&&this._users?o.dy` <p> ${this.hass.localize("ui.panel.lovelace.editor.edit_view.visibility.select_users")} </p> ${this._sortedUsers(this._users).map((e=>o.dy` <mwc-list-item graphic="avatar" hasMeta> <ha-user-badge slot="graphic" .hass="${this.hass}" .user="${e}"></ha-user-badge> <span>${e.name}</span> <ha-switch slot="meta" .userId="${e.id}" @change="${this.valChange}" .checked="${this.checkUser(e.id)}"></ha-switch> </mwc-list-item> `))} `:o.Ld}},{kind:"method",key:"checkUser",value:function(e){return void 0===this._visible||("boolean"==typeof this._visible?this._visible:this._visible.some((i=>i.user===e)))}},{kind:"method",key:"valChange",value:function(e){const i=e.currentTarget.userId,t=e.currentTarget.checked;let a=[];if("boolean"==typeof this._visible){this._visible&&(a=this._users.map((e=>({user:e.id}))))}else a=[...this._visible];if(!0===t){const e={user:i};a.push(e)}else a=a.filter((e=>e.user!==i));this._visible=a.filter((e=>this._users.some((i=>i.id===e.user)))),(0,d.B)(this,"view-visibility-changed",{visible:this._visible})}},{kind:"get",static:!0,key:"styles",value:function(){return o.iv`:host{display:block}`}}]}}),o.oi)},70651:(e,i,t)=>{t.d(i,{Y:()=>a});const a=t(68144).iv`#sortable a:nth-of-type(2n) paper-icon-item{animation-name:keyframes1;animation-iteration-count:infinite;transform-origin:50% 10%;animation-delay:-.75s;animation-duration:.25s}#sortable a:nth-of-type(2n-1) paper-icon-item{animation-name:keyframes2;animation-iteration-count:infinite;animation-direction:alternate;transform-origin:30% 5%;animation-delay:-.5s;animation-duration:.33s}#sortable a{height:48px;display:flex}#sortable{outline:0;display:block!important}.hidden-panel{display:flex!important}.sortable-fallback{display:none}.sortable-ghost{opacity:.4}.sortable-fallback{opacity:0}@keyframes keyframes1{0%{transform:rotate(-1deg);animation-timing-function:ease-in}50%{transform:rotate(1.5deg);animation-timing-function:ease-out}}@keyframes keyframes2{0%{transform:rotate(1deg);animation-timing-function:ease-in}50%{transform:rotate(-1.5deg);animation-timing-function:ease-out}}.hide-panel,.show-panel{display:none;position:absolute;top:0;right:4px;--mdc-icon-button-size:40px}:host([rtl]) .show-panel{right:initial;left:4px}.hide-panel{top:4px;right:8px}:host([rtl]) .hide-panel{right:initial;left:8px}:host([expanded]) .hide-panel{display:block}:host([expanded]) .show-panel{display:inline-flex}paper-icon-item.hidden-panel,paper-icon-item.hidden-panel ha-icon[slot=item-icon],paper-icon-item.hidden-panel span{color:var(--secondary-text-color);cursor:pointer}`},98116:(e,i,t)=>{let a;t.d(i,{F:()=>n});const n=async()=>(a||(a=(await Promise.all([t.e(56087),t.e(32811)]).then(t.bind(t,32811))).default),a)}}]);
//# sourceMappingURL=71636-h7ytc-b7Icc.js.map