export const id=76622;export const ids=[76622];export const modules={7323:(e,o,i)=>{i.d(o,{p:()=>t});const t=(e,o)=>e&&e.config.components.includes(o)},81582:(e,o,i)=>{i.d(o,{DJ:()=>t,RQ:()=>a,iJ:()=>r,pB:()=>n});const t=(e,o,i)=>{const t={type:"config_entries/subscribe"};return i&&i.type&&(t.type_filter=i.type),e.connection.subscribeMessage((e=>o(e)),t)},n=(e,o)=>{const i={};return o&&(o.type&&(i.type_filter=o.type),o.domain&&(i.domain=o.domain)),e.callWS({type:"config_entries/get",...i})},a=(e,o)=>e.callWS({type:"config_entries/get_single",entry_id:o}),r=(e,o)=>e.callApi("DELETE",`config/config_entries/entry/${o}`)},73728:(e,o,i)=>{i.d(o,{D4:()=>d,D7:()=>h,Ky:()=>s,V3:()=>g,WW:()=>f,XO:()=>l,ZJ:()=>u,oi:()=>c});var t=i(97330),n=i(38346),a=i(5986);const r={"HA-Frontend-Base":`${location.protocol}//${location.host}`},s=(e,o)=>{var i;return e.callApi("POST","config/config_entries/flow",{handler:o,show_advanced_options:Boolean(null===(i=e.userData)||void 0===i?void 0:i.showAdvanced)},r)},d=(e,o)=>e.callApi("GET",`config/config_entries/flow/${o}`,void 0,r),l=(e,o,i)=>e.callApi("POST",`config/config_entries/flow/${o}`,i,r),c=(e,o)=>e.callApi("DELETE",`config/config_entries/flow/${o}`),h=e=>e.sendMessagePromise({type:"config_entries/flow/progress"}),p=(e,o)=>e.subscribeEvents((0,n.D)((()=>h(e).then((e=>o.setState(e,!0)))),500,!0),"config_entry_discovered"),u=e=>(0,t._)(e,"_configFlowProgress",h,p),g=(e,o)=>u(e.connection).subscribe(o),f=(e,o)=>o.context.title_placeholders&&0!==Object.keys(o.context.title_placeholders).length?e(`component.${o.handler}.config.flow_title`,o.context.title_placeholders)||("name"in o.context.title_placeholders?o.context.title_placeholders.name:(0,a.Lh)(e,o.handler)):(0,a.Lh)(e,o.handler)},2852:(e,o,i)=>{i.d(o,{q:()=>s,t:()=>d});var t=i(68144),n=i(73728),a=i(5986),r=i(52871);const s=r.G,d=(e,o)=>(0,r.w)(e,o,{loadDevicesAndAreas:!0,createFlow:async(e,o)=>{const[i]=await Promise.all([(0,n.Ky)(e,o),e.loadFragmentTranslation("config"),e.loadBackendTranslation("config",o),e.loadBackendTranslation("selector",o),e.loadBackendTranslation("title",o)]);return i},fetchFlow:async(e,o)=>{const i=await(0,n.D4)(e,o);return await e.loadFragmentTranslation("config"),await e.loadBackendTranslation("config",i.handler),await e.loadBackendTranslation("selector",i.handler),i},handleFlowStep:n.XO,deleteFlow:n.oi,renderAbortDescription(e,o){const i=e.localize(`component.${o.handler}.config.abort.${o.reason}`,o.description_placeholders);return i?t.dy` <ha-markdown allowsvg breaks .content="${i}"></ha-markdown> `:""},renderShowFormStepHeader:(e,o)=>e.localize(`component.${o.handler}.config.step.${o.step_id}.title`,o.description_placeholders)||e.localize(`component.${o.handler}.title`),renderShowFormStepDescription(e,o){const i=e.localize(`component.${o.handler}.config.step.${o.step_id}.description`,o.description_placeholders);return i?t.dy` <ha-markdown allowsvg breaks .content="${i}"></ha-markdown> `:""},renderShowFormStepFieldLabel:(e,o,i)=>e.localize(`component.${o.handler}.config.step.${o.step_id}.data.${i.name}`),renderShowFormStepFieldHelper(e,o,i){const n=e.localize(`component.${o.handler}.config.step.${o.step_id}.data_description.${i.name}`,o.description_placeholders);return n?t.dy`<ha-markdown breaks .content="${n}"></ha-markdown>`:""},renderShowFormStepFieldError:(e,o,i)=>e.localize(`component.${o.handler}.config.error.${i}`,o.description_placeholders)||i,renderShowFormStepFieldLocalizeValue:(e,o,i)=>e.localize(`component.${o.handler}.selector.${i}`),renderShowFormStepSubmitButton:(e,o)=>e.localize(`component.${o.handler}.config.step.${o.step_id}.submit`)||e.localize("ui.panel.config.integrations.config_flow."+(!1===o.last_step?"next":"submit")),renderExternalStepHeader:(e,o)=>e.localize(`component.${o.handler}.config.step.${o.step_id}.title`)||e.localize("ui.panel.config.integrations.config_flow.external_step.open_site"),renderExternalStepDescription(e,o){const i=e.localize(`component.${o.handler}.config.${o.step_id}.description`,o.description_placeholders);return t.dy` <p> ${e.localize("ui.panel.config.integrations.config_flow.external_step.description")} </p> ${i?t.dy` <ha-markdown allowsvg breaks .content="${i}"></ha-markdown> `:""} `},renderCreateEntryDescription(e,o){const i=e.localize(`component.${o.handler}.config.create_entry.${o.description||"default"}`,o.description_placeholders);return t.dy` ${i?t.dy` <ha-markdown allowsvg breaks .content="${i}"></ha-markdown> `:""} <p> ${e.localize("ui.panel.config.integrations.config_flow.created_config","name",o.title)} </p> `},renderShowFormProgressHeader:(e,o)=>e.localize(`component.${o.handler}.config.step.${o.step_id}.title`)||e.localize(`component.${o.handler}.title`),renderShowFormProgressDescription(e,o){const i=e.localize(`component.${o.handler}.config.progress.${o.progress_action}`,o.description_placeholders);return i?t.dy` <ha-markdown allowsvg breaks .content="${i}"></ha-markdown> `:""},renderMenuHeader:(e,o)=>e.localize(`component.${o.handler}.config.step.${o.step_id}.title`)||e.localize(`component.${o.handler}.title`),renderMenuDescription(e,o){const i=e.localize(`component.${o.handler}.config.step.${o.step_id}.description`,o.description_placeholders);return i?t.dy` <ha-markdown allowsvg breaks .content="${i}"></ha-markdown> `:""},renderMenuOption:(e,o,i)=>e.localize(`component.${o.handler}.config.step.${o.step_id}.menu_options.${i}`,o.description_placeholders),renderLoadingDescription(e,o,i,t){if("loading_flow"!==o&&"loading_step"!==o)return"";const n=(null==t?void 0:t.handler)||i;return e.localize(`ui.panel.config.integrations.config_flow.loading.${o}`,{integration:n?(0,a.Lh)(e.localize,n):e.localize("ui.panel.config.integrations.config_flow.loading.fallback_title")})}})},52871:(e,o,i)=>{i.d(o,{G:()=>n,w:()=>a});var t=i(47181);const n=()=>Promise.all([i.e(46992),i.e(31338),i.e(42977),i.e(28597),i.e(97487),i.e(2185),i.e(52154),i.e(62043),i.e(40163),i.e(59159)]).then(i.bind(i,59159)),a=(e,o,i)=>{(0,t.B)(e,"show-dialog",{dialogTag:"dialog-data-entry-flow",dialogImport:n,dialogParams:{...o,flowConfig:i,dialogParentElement:e}})}},73826:(e,o,i)=>{i.d(o,{f:()=>s});var t=i(17463),n=i(34541),a=i(47838),r=i(79932);const s=e=>(0,t.Z)(null,(function(e,o){class i extends o{constructor(...o){super(...o),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",key:"hassSubscribeRequiredHostProps",value:void 0},{kind:"field",key:"__unsubs",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,n.Z)((0,a.Z)(i.prototype),"connectedCallback",this).call(this),this.__checkSubscribed()}},{kind:"method",key:"disconnectedCallback",value:function(){if((0,n.Z)((0,a.Z)(i.prototype),"disconnectedCallback",this).call(this),this.__unsubs){for(;this.__unsubs.length;){const e=this.__unsubs.pop();e instanceof Promise?e.then((e=>e())):e()}this.__unsubs=void 0}}},{kind:"method",key:"updated",value:function(e){if((0,n.Z)((0,a.Z)(i.prototype),"updated",this).call(this,e),e.has("hass"))this.__checkSubscribed();else if(this.hassSubscribeRequiredHostProps)for(const o of e.keys())if(this.hassSubscribeRequiredHostProps.includes(o))return void this.__checkSubscribed()}},{kind:"method",key:"hassSubscribe",value:function(){return[]}},{kind:"method",key:"__checkSubscribed",value:function(){var e;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(e=this.hassSubscribeRequiredHostProps)&&void 0!==e&&e.some((e=>void 0===this[e]))||(this.__unsubs=this.hassSubscribe())}}]}}),e)},76622:(e,o,i)=>{i.r(o);var t=i(17463),n=i(34541),a=i(47838),r=(i(14271),i(68144)),s=i(79932),d=i(7323),l=i(47181),c=i(85415),h=i(81582),p=i(73728),u=i(5986);var g=i(2852),f=i(73826),b=i(72160);i(52039);(0,t.Z)([(0,s.Mo)("action-badge")],(function(e,o){return{F:class extends o{constructor(...o){super(...o),e(this)}},d:[{kind:"field",decorators:[(0,s.Cb)()],key:"icon",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"title",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"badgeIcon",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Boolean,reflect:!0})],key:"clickable",value:()=>!1},{kind:"method",key:"render",value:function(){return r.dy` <div class="icon"> <ha-svg-icon .path="${this.icon}"></ha-svg-icon> ${this.badgeIcon?r.dy`<ha-svg-icon class="badge" .path="${this.badgeIcon}"></ha-svg-icon>`:""} </div> <div class="title">${this.title}</div> `}},{kind:"get",static:!0,key:"styles",value:function(){return r.iv`:host{display:inline-flex;flex-direction:column;text-align:center;color:var(--primary-text-color)}:host([clickable]){color:var(--primary-text-color)}.icon{position:relative;box-sizing:border-box;margin:0 auto 8px;height:40px;width:40px;border-radius:50%;border:1px solid var(--secondary-text-color);display:flex;align-items:center;justify-content:center}:host([clickable]) .icon{border-color:var(--primary-color);border-width:2px}.badge{position:absolute;color:var(--primary-color);bottom:-5px;right:-5px;background-color:#fff;border-radius:50%;width:18px;display:block;height:18px}.title{min-height:2.3em;word-break:break-word}`}}]}}),r.oi);var m=i(11254);(0,t.Z)([(0,s.Mo)("integration-badge")],(function(e,o){return{F:class extends o{constructor(...o){super(...o),e(this)}},d:[{kind:"field",decorators:[(0,s.Cb)()],key:"domain",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"title",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"badgeIcon",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Boolean})],key:"darkOptimizedIcon",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Boolean,reflect:!0})],key:"clickable",value:()=>!1},{kind:"method",key:"render",value:function(){return r.dy` <div class="icon"> <img alt="" src="${(0,m.X1)({domain:this.domain,type:"icon",darkOptimized:this.darkOptimizedIcon})}" referrerpolicy="no-referrer"> ${this.badgeIcon?r.dy`<ha-svg-icon class="badge" .path="${this.badgeIcon}"></ha-svg-icon>`:""} </div> <div class="title">${this.title}</div> `}},{kind:"get",static:!0,key:"styles",value:function(){return r.iv`:host{display:inline-flex;flex-direction:column;text-align:center;color:var(--primary-text-color)}:host([clickable]){color:var(--primary-text-color)}img{max-width:100%;max-height:100%}.icon{position:relative;margin:0 auto 8px;height:40px;width:40px;display:flex;align-items:center;justify-content:center}.badge{position:absolute;color:#fff;bottom:-7px;right:-10px;background-color:var(--label-badge-green);border-radius:50%;display:block;--mdc-icon-size:18px;border:2px solid #fff}.title{min-height:2.3em;word-break:break-word}`}}]}}),r.oi);const k=new Set(["hassio","met","radio_browser","rpi_power","sun"]);(0,t.Z)([(0,s.Mo)("onboarding-integrations")],(function(e,o){class i extends o{constructor(...o){super(...o),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,s.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"onboardingLocalize",value:void 0},{kind:"field",decorators:[(0,s.SB)()],key:"_entries",value:()=>[]},{kind:"field",decorators:[(0,s.SB)()],key:"_discovered",value:void 0},{kind:"method",key:"hassSubscribe",value:function(){return[(0,p.V3)(this.hass,(e=>{this._discovered=e;const o=new Set;for(const i of e)i.context.title_placeholders&&o.add(i.handler);this.hass.loadBackendTranslation("config",Array.from(o))})),(0,h.DJ)(this.hass,(e=>{let o=!1;const i=[];if(e.forEach((e=>{if(null===e.type||"added"===e.type){if(k.has(e.entry.domain))return;i.push(e.entry),null===e.type&&(o=!0)}else if("removed"===e.type)this._entries=this._entries.filter((o=>o.entry_id!==e.entry.entry_id));else if("updated"===e.type){if(k.has(e.entry.domain))return;const o=e.entry;this._entries=this._entries.map((e=>e.entry_id===o.entry_id?o:e))}})),!i.length&&!o)return;const t=o?[]:this._entries;this._entries=[...t,...i]}),{type:["device","hub","service"]})]}},{kind:"method",key:"render",value:function(){if(!this._discovered)return r.Ld;const e=[...this._entries.map((e=>{var o;const i=e.title||(0,u.Lh)(this.hass.localize,e.domain)||e.domain;return[i,r.dy` <integration-badge .domain="${e.domain}" .title="${i}" .badgeIcon="${"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}" .darkOptimizedIcon="${null===(o=this.hass.themes)||void 0===o?void 0:o.darkMode}"></integration-badge> `]})),...this._discovered.map((e=>{var o;const i=(0,p.WW)(this.hass.localize,e);return[i,r.dy` <button .flowId="${e.flow_id}" @click="${this._continueFlow}"> <integration-badge clickable .domain="${e.handler}" .title="${i}" .darkOptimizedIcon="${null===(o=this.hass.themes)||void 0===o?void 0:o.darkMode}"></integration-badge> </button> `]}))].sort(((e,o)=>(0,c.$)(e[0],o[0],this.hass.locale.language))).map((e=>e[1]));return r.dy` <p> ${this.onboardingLocalize("ui.panel.page-onboarding.integration.intro")} </p> <div class="badges"> ${e} <button @click="${this._createFlow}"> <action-badge clickable title="${this.onboardingLocalize("ui.panel.page-onboarding.integration.more_integrations")}" .icon="${"M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z"}"></action-badge> </button> </div> <div class="footer"> <mwc-button @click="${this._finish}"> ${this.onboardingLocalize("ui.panel.page-onboarding.integration.finish")} </mwc-button> </div> `}},{kind:"method",key:"firstUpdated",value:function(e){(0,n.Z)((0,a.Z)(i.prototype),"firstUpdated",this).call(this,e),this.hass.loadBackendTranslation("title",void 0,!0),this._scanUSBDevices(),(0,g.q)()}},{kind:"method",key:"_createFlow",value:function(){(0,b.E)(this)}},{kind:"method",key:"_continueFlow",value:function(e){(0,g.t)(this,{continueFlowId:e.currentTarget.flowId,dialogClosedCallback:()=>{(0,p.ZJ)(this.hass.connection).refresh()}})}},{kind:"method",key:"_scanUSBDevices",value:async function(){var e;(0,d.p)(this.hass,"usb")&&await(e=this.hass,e.callWS({type:"usb/scan"}))}},{kind:"method",key:"_finish",value:async function(){(0,l.B)(this,"onboarding-step",{type:"integration"})}},{kind:"get",static:!0,key:"styles",value:function(){return r.iv`p{font-size:14px;line-height:20px}.badges{margin-top:24px;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;align-items:flex-start}.badges>*{width:96px;margin-bottom:24px}button{cursor:pointer;padding:0;border:0;background:0;font:inherit}.footer{text-align:right}`}}]}}),(0,f.f)(r.oi))},72160:(e,o,i)=>{i.d(o,{E:()=>n,u:()=>a});var t=i(47181);const n=(e,o)=>{(0,t.B)(e,"show-dialog",{dialogTag:"dialog-add-integration",dialogImport:()=>Promise.all([i.e(46992),i.e(31338),i.e(42977),i.e(63436),i.e(28597),i.e(52154),i.e(81480),i.e(75814)]).then(i.bind(i,92205)),dialogParams:o})},a=(e,o)=>{(0,t.B)(e,"show-dialog",{dialogTag:"dialog-yaml-integration",dialogImport:()=>i.e(64348).then(i.bind(i,64348)),dialogParams:o})}},11254:(e,o,i)=>{i.d(o,{X1:()=>t,u4:()=>n,zC:()=>a});const t=e=>`https://brands.home-assistant.io/${e.brand?"brands/":""}${e.useFallback?"_/":""}${e.domain}/${e.darkOptimized?"dark_":""}${e.type}.png`,n=e=>e.split("/")[4],a=e=>e.startsWith("https://brands.home-assistant.io/")}};
//# sourceMappingURL=76622-KipujkJjd8o.js.map