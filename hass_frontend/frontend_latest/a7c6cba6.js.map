{"version":3,"file":"a7c6cba6.js","mappings":";AAkDA;;AAEA;AACA;;AAEA;;;AAbA;;AAEA","sources":["webpack://home-assistant-frontend/./src/panels/lovelace/entity-rows/hui-button-entity-row.ts"],"sourcesContent":["import \"@material/mwc-button/mwc-button\";\nimport {\n  css,\n  CSSResultGroup,\n  html,\n  LitElement,\n  PropertyValues,\n  TemplateResult,\n} from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { UNAVAILABLE } from \"../../../data/entity\";\nimport { HomeAssistant } from \"../../../types\";\nimport { hasConfigOrEntityChanged } from \"../common/has-changed\";\nimport \"../components/hui-generic-entity-row\";\nimport { createEntityNotFoundWarning } from \"../components/hui-warning\";\nimport { ActionRowConfig, LovelaceRow } from \"./types\";\n\n@customElement(\"hui-button-entity-row\")\nclass HuiButtonEntityRow extends LitElement implements LovelaceRow {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @state() private _config?: ActionRowConfig;\n\n  public setConfig(config: ActionRowConfig): void {\n    if (!config) {\n      throw new Error(\"Invalid configuration\");\n    }\n    this._config = config;\n  }\n\n  protected shouldUpdate(changedProps: PropertyValues): boolean {\n    return hasConfigOrEntityChanged(this, changedProps);\n  }\n\n  protected render(): TemplateResult {\n    if (!this._config || !this.hass) {\n      return html``;\n    }\n\n    const stateObj = this.hass.states[this._config.entity];\n\n    if (!stateObj) {\n      return html`\n        <hui-warning>\n          ${createEntityNotFoundWarning(this.hass, this._config.entity)}\n        </hui-warning>\n      `;\n    }\n\n    return html`\n      <hui-generic-entity-row .hass=${this.hass} .config=${this._config}>\n        <mwc-button\n          @click=${this._pressButton}\n          .disabled=${stateObj.state === UNAVAILABLE}\n        >\n          ${this.hass.localize(\"ui.card.button.press\")}\n        </mwc-button>\n      </hui-generic-entity-row>\n    `;\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      mwc-button:last-child {\n        margin-right: -0.57em;\n      }\n    `;\n  }\n\n  private _pressButton(ev): void {\n    ev.stopPropagation();\n    this.hass.callService(\"button\", \"press\", {\n      entity_id: this._config!.entity,\n    });\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hui-button-entity-row\": HuiButtonEntityRow;\n  }\n}\n"],"names":[],"sourceRoot":""}