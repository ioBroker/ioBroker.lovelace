{"version":3,"file":"22d9a285.js","mappings":";;;AAuDA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAGA;AACA;;;;AAIA;AACA;AAGA;AACA;;;;AAIA;;;AAIA;;AAEA;AACA;;AAIA;;AAGA;AACA;;AAEA;AACA;;;;AAzEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;ACXA;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiFA","sources":["webpack://home-assistant-frontend/./src/components/ha-date-range-picker.ts","webpack://home-assistant-frontend/./src/components/ha-state-icon.ts","webpack://home-assistant-frontend/./src/layouts/ha-app-layout.js"],"sourcesContent":["import \"@material/mwc-button/mwc-button\";\nimport \"@material/mwc-list/mwc-list\";\nimport { ActionDetail } from \"@material/mwc-list/mwc-list-foundation\";\nimport \"@material/mwc-list/mwc-list-item\";\nimport { mdiCalendar } from \"@mdi/js\";\nimport \"@polymer/paper-input/paper-input\";\nimport {\n  css,\n  CSSResultGroup,\n  html,\n  LitElement,\n  PropertyValues,\n  TemplateResult,\n} from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { formatDateTime } from \"../common/datetime/format_date_time\";\nimport { useAmPm } from \"../common/datetime/use_am_pm\";\nimport { computeRTLDirection } from \"../common/util/compute_rtl\";\nimport { HomeAssistant } from \"../types\";\nimport \"./date-range-picker\";\nimport \"./ha-svg-icon\";\n\nexport interface DateRangePickerRanges {\n  [key: string]: [Date, Date];\n}\n\n@customElement(\"ha-date-range-picker\")\nexport class HaDateRangePicker extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property() public startDate!: Date;\n\n  @property() public endDate!: Date;\n\n  @property() public ranges?: DateRangePickerRanges;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  @property({ type: Boolean }) private _hour24format = false;\n\n  @property({ type: String }) private _rtlDirection = \"ltr\";\n\n  protected updated(changedProps: PropertyValues) {\n    if (changedProps.has(\"hass\")) {\n      const oldHass = changedProps.get(\"hass\") as HomeAssistant | undefined;\n      if (!oldHass || oldHass.locale !== this.hass.locale) {\n        this._hour24format = !useAmPm(this.hass.locale);\n        this._rtlDirection = computeRTLDirection(this.hass);\n      }\n    }\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      <date-range-picker\n        ?disabled=${this.disabled}\n        twentyfour-hours=${this._hour24format}\n        start-date=${this.startDate}\n        end-date=${this.endDate}\n        ?ranges=${this.ranges !== undefined}\n      >\n        <div slot=\"input\" class=\"date-range-inputs\">\n          <ha-svg-icon .path=${mdiCalendar}></ha-svg-icon>\n          <paper-input\n            .value=${formatDateTime(this.startDate, this.hass.locale)}\n            .label=${this.hass.localize(\n              \"ui.components.date-range-picker.start_date\"\n            )}\n            .disabled=${this.disabled}\n            @click=${this._handleInputClick}\n            readonly\n          ></paper-input>\n          <paper-input\n            .value=${formatDateTime(this.endDate, this.hass.locale)}\n            label=${this.hass.localize(\n              \"ui.components.date-range-picker.end_date\"\n            )}\n            .disabled=${this.disabled}\n            @click=${this._handleInputClick}\n            readonly\n          ></paper-input>\n        </div>\n        ${this.ranges\n          ? html`<div\n              slot=\"ranges\"\n              class=\"date-range-ranges\"\n              .dir=${this._rtlDirection}\n            >\n              <mwc-list @action=${this._setDateRange} activatable>\n                ${Object.keys(this.ranges).map(\n                  (name) => html`<mwc-list-item> ${name} </mwc-list-item>`\n                )}\n              </mwc-list>\n            </div>`\n          : \"\"}\n        <div slot=\"footer\" class=\"date-range-footer\">\n          <mwc-button @click=${this._cancelDateRange}\n            >${this.hass.localize(\"ui.common.cancel\")}</mwc-button\n          >\n          <mwc-button @click=${this._applyDateRange}\n            >${this.hass.localize(\n              \"ui.components.date-range-picker.select\"\n            )}</mwc-button\n          >\n        </div>\n      </date-range-picker>\n    `;\n  }\n\n  private _setDateRange(ev: CustomEvent<ActionDetail>) {\n    const dateRange = Object.values(this.ranges!)[ev.detail.index];\n    const dateRangePicker = this._dateRangePicker;\n    dateRangePicker.clickRange(dateRange);\n    dateRangePicker.clickedApply();\n  }\n\n  private _cancelDateRange() {\n    this._dateRangePicker.clickCancel();\n  }\n\n  private _applyDateRange() {\n    this._dateRangePicker.clickedApply();\n  }\n\n  private get _dateRangePicker() {\n    const dateRangePicker = this.shadowRoot!.querySelector(\n      \"date-range-picker\"\n    ) as any;\n    return dateRangePicker.vueComponent.$children[0];\n  }\n\n  private _handleInputClick() {\n    // close the date picker, so it will open again on the click event\n    if (this._dateRangePicker.open) {\n      this._dateRangePicker.open = false;\n    }\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      ha-svg-icon {\n        margin-right: 8px;\n      }\n\n      .date-range-inputs {\n        display: flex;\n        align-items: center;\n      }\n\n      .date-range-ranges {\n        border-right: 1px solid var(--divider-color);\n      }\n\n      .date-range-footer {\n        display: flex;\n        justify-content: flex-end;\n        padding: 8px;\n        border-top: 1px solid var(--divider-color);\n      }\n\n      paper-input {\n        display: inline-block;\n        max-width: 250px;\n        min-width: 200px;\n      }\n\n      paper-input:last-child {\n        margin-left: 8px;\n      }\n\n      @media only screen and (max-width: 800px) {\n        .date-range-ranges {\n          border-right: none;\n          border-bottom: 1px solid var(--divider-color);\n        }\n      }\n\n      @media only screen and (max-width: 500px) {\n        paper-input {\n          min-width: inherit;\n        }\n\n        ha-svg-icon {\n          display: none;\n        }\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-date-range-picker\": HaDateRangePicker;\n  }\n}\n","import { HassEntity } from \"home-assistant-js-websocket\";\nimport { html, LitElement, TemplateResult } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { stateIconPath } from \"../common/entity/state_icon_path\";\nimport \"./ha-icon\";\nimport \"./ha-svg-icon\";\n\n@customElement(\"ha-state-icon\")\nexport class HaStateIcon extends LitElement {\n  @property({ attribute: false }) public state?: HassEntity;\n\n  @property() public icon?: string;\n\n  protected render(): TemplateResult {\n    if (this.icon || this.state?.attributes.icon) {\n      return html`<ha-icon\n        .icon=${this.icon || this.state?.attributes.icon}\n      ></ha-icon>`;\n    }\n    return html`<ha-svg-icon .path=${stateIconPath(this.state)}></ha-svg-icon>`;\n  }\n}\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-state-icon\": HaStateIcon;\n  }\n}\n","/* eslint-plugin-disable lit */\n/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n/*\nThis code is copied from app-header-layout.\n'fullbleed' support is removed as Home Assisstant doesn't use it.\ntransform: translate(0) is added.\n*/\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\nimport \"@polymer/app-layout/app-header-layout/app-header-layout\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport \"@polymer/polymer/polymer-element\";\n\nclass HaAppLayout extends customElements.get(\"app-header-layout\") {\n  static get template() {\n    return html`\n      <style>\n        :host {\n          display: block;\n          /**\n         * Force app-header-layout to have its own stacking context so that its parent can\n         * control the stacking of it relative to other elements (e.g. app-drawer-layout).\n         * This could be done using \\`isolation: isolate\\`, but that's not well supported\n         * across browsers.\n         */\n          position: relative;\n          z-index: 0;\n        }\n\n        #wrapper ::slotted([slot=\"header\"]) {\n          @apply --layout-fixed-top;\n          z-index: 1;\n        }\n\n        #wrapper.initializing ::slotted([slot=\"header\"]) {\n          position: relative;\n        }\n\n        :host([has-scrolling-region]) {\n          height: 100%;\n        }\n\n        :host([has-scrolling-region]) #wrapper ::slotted([slot=\"header\"]) {\n          position: absolute;\n        }\n\n        :host([has-scrolling-region])\n          #wrapper.initializing\n          ::slotted([slot=\"header\"]) {\n          position: relative;\n        }\n\n        :host([has-scrolling-region]) #wrapper #contentContainer {\n          @apply --layout-fit;\n          overflow-y: auto;\n          -webkit-overflow-scrolling: touch;\n        }\n\n        :host([has-scrolling-region]) #wrapper.initializing #contentContainer {\n          position: relative;\n        }\n\n        #contentContainer {\n          /* Create a stacking context here so that all children appear below the header. */\n          position: relative;\n          z-index: 0;\n          /* Using 'transform' will cause 'position: fixed' elements to behave like\n           'position: absolute' relative to this element. */\n          transform: translate(0);\n          margin-left: env(safe-area-inset-left);\n          margin-right: env(safe-area-inset-right);\n        }\n\n        @media print {\n          :host([has-scrolling-region]) #wrapper #contentContainer {\n            overflow-y: visible;\n          }\n        }\n      </style>\n\n      <div id=\"wrapper\" class=\"initializing\">\n        <slot id=\"headerSlot\" name=\"header\"></slot>\n\n        <div id=\"contentContainer\"><slot></slot></div>\n        <slot id=\"fab\" name=\"fab\"></slot>\n      </div>\n    `;\n  }\n}\ncustomElements.define(\"ha-app-layout\", HaAppLayout);\n"],"names":[],"sourceRoot":""}